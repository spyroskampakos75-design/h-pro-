<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hygiene Pro - Î£ÏÏƒÏ„Î·Î¼Î± Î•Î»Î­Î³Ï‡Î¿Ï… Î¥Î³Î¹ÎµÎ¹Î½Î®Ï‚</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .container {
            width: 100%;
            max-width: 1400px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px 40px;
            position: relative;
        }

        .header h1 {
            font-size: 2.2rem;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .header p {
            font-size: 0.95rem;
            opacity: 0.9;
        }

        .license-badge {
            position: absolute;
            top: 30px;
            right: 40px;
            background: rgba(255,255,255,0.2);
            padding: 10px 20px;
            border-radius: 25px;
            font-size: 0.85rem;
            cursor: pointer;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .license-badge:hover {
            background: rgba(255,255,255,0.3);
            transform: scale(1.05);
        }

        .nav {
            background: #f8f9fa;
            padding: 0;
            border-bottom: 2px solid #e9ecef;
        }

        .nav-buttons {
            display: flex;
            overflow-x: auto;
        }

        .nav-button {
            padding: 18px 30px;
            border: none;
            background: transparent;
            color: #495057;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
            border-bottom: 3px solid transparent;
            white-space: nowrap;
        }

        .nav-button:hover {
            background: white;
            color: #667eea;
        }

        .nav-button.active {
            color: #667eea;
            background: white;
            border-bottom-color: #667eea;
        }

        .content {
            padding: 30px 40px;
            min-height: 500px;
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .stat-value {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 0.85rem;
            opacity: 0.9;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            color: #495057;
            font-weight: 500;
            font-size: 0.9rem;
        }

        .form-input, .form-select {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 0.95rem;
            transition: all 0.3s ease;
        }

        .form-input:focus, .form-select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102,126,234,0.1);
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102,126,234,0.4);
        }

        .btn-secondary {
            background: #e9ecef;
            color: #495057;
        }

        .btn-secondary:hover {
            background: #dee2e6;
        }

        .btn-success {
            background: #28a745;
            color: white;
        }

        .btn-danger {
            background: #dc3545;
            color: white;
        }

        .table-container {
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }

        .table {
            width: 100%;
            border-collapse: collapse;
        }

        .table th {
            background: #f8f9fa;
            padding: 15px;
            text-align: left;
            font-weight: 600;
            color: #495057;
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            border-bottom: 2px solid #e9ecef;
        }

        .table td {
            padding: 15px;
            border-bottom: 1px solid #f1f3f5;
            color: #212529;
        }

        .table tr:hover {
            background: #f8f9fa;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 15px;
            padding: 30px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            animation: slideUp 0.3s ease;
        }

        @keyframes slideUp {
            from { transform: translateY(50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .modal-header {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 20px;
            color: #212529;
        }

        .clock-display {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .clock-time {
            font-size: 2rem;
            font-weight: 200;
            color: #212529;
            font-family: 'SF Mono', 'Monaco', monospace;
        }

        .clock-date {
            color: #6c757d;
            font-size: 0.95rem;
        }

        .archive-indicator {
            background: #28a745;
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.85rem;
            display: none;
        }

        .archive-indicator.active {
            display: inline-block;
        }

        .equipment-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .equipment-card {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 20px;
            transition: all 0.3s ease;
        }

        .equipment-card:hover {
            border-color: #667eea;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .setup-wizard {
            display: none;
            padding: 30px;
            background: #f8f9fa;
            border-radius: 10px;
            margin-bottom: 30px;
        }

        .setup-wizard.active {
            display: block;
        }

        .wizard-step {
            display: none;
        }

        .wizard-step.active {
            display: block;
        }

        @media print {
            body { background: white; }
            .nav, .btn, .license-badge { display: none !important; }
            .container { box-shadow: none; }
            .header { background: none !important; color: black !important; }
        }

        @media (max-width: 768px) {
            .header h1 { font-size: 1.5rem; }
            .stats-grid { grid-template-columns: 1fr; }
            .nav-buttons { overflow-x: auto; }
            .content { padding: 20px; }
        }
    </style>

    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#667eea">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="H-PRO">
    <link rel="apple-touch-icon" href="data:image/png;base64,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">
    
    <!-- Inline Manifest -->
    <link rel="manifest" href="data:application/json;base64,eyJuYW1lIjoiSHlnaWVuZSBQcm8gLSBTw7pzz4TPvM6xIM6Uz4XPg8+Ez4zPsc+CIiwic2hvcnRfbmFtZSI6IkgtUFJPIiwiZGVzY3JpcHRpb24iOiLOo8+Nz4PPhM63zrzOsSDOlM67z4zOs8+Hzr/PhSDOmc+Gzrnzrs63z4IiLCJzdGFydF91cmwiOiIuLyIsImRpc3BsYXkiOiJzdGFuZGFsb25lIiwiYmFja2dyb3VuZF9jb2xvciI6IiM2NjdlZWEiLCJ0aGVtZV9jb2xvciI6IiM2NjdlZWEiLCJpY29ucyI6W3sic3JjIjoiZGF0YTppbWFnZS9wbmc7YmFzZTY0LCcgKyBpY29uMTkyX2Jhc2U2NCArICciLCJzaXplcyI6IjE5MngxOTIiLCJ0eXBlIjoiaW1hZ2UvcG5nIiwicHVycG9zZSI6ImFueSBtYXNrYWJsZSJ9LHsic3JjIjoiZGF0YTppbWFnZS9wbmc7YmFzZTY0LCcgKyBpY29uNTEyX2Jhc2U2NCArICciLCJzaXplcyI6IjUxMng1MTIiLCJ0eXBlIjoiaW1hZ2UvcG5nIiwicHVycG9zZSI6ImFueSBtYXNrYWJsZSJ9XX0=">
    <!-- jsPDF for PDF generation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            
        <div class="header-logo" style="display: flex; align-items: center; gap: 15px; margin-bottom: 10px;">
            <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8IS0tIEJsYWNrIGJhY2tncm91bmQgLS0+CiAgPHJlY3Qgd2lkdGg9IjUxMiIgaGVpZ2h0PSI1MTIiIGZpbGw9IiMwMDAwMDAiLz4KICAKICA8IS0tIFdhdGVyIGRyb3Agb3V0bGluZSAoc2lsdmVyKSAtLT4KICA8cGF0aCBkPSJNIDI1NiA1MCAKICAgICAgICAgICBDIDI1NiA1MCwgMzgwIDE4MCwgMzgwIDI5MAogICAgICAgICAgIEMgMzgwIDM2MCwgMzIwIDQyMCwgMjU2IDQyMAogICAgICAgICAgIEMgMTkyIDQyMCwgMTMyIDM2MCwgMTMyIDI5MAogICAgICAgICAgIEMgMTMyIDE4MCwgMjU2IDUwLCAyNTYgNTAgWiIKICAgICAgICBmaWxsPSJub25lIgogICAgICAgIHN0cm9rZT0iI0MwQzBDMCIKICAgICAgICBzdHJva2Utd2lkdGg9IjEwIgogICAgICAgIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KICAKICA8IS0tIEgtUFJPIHRleHQgKHNpbHZlciwgYm9sZCkgLS0+CiAgPHRleHQgeD0iMjU2IiB5PSIyODAiIAogICAgICAgIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgCiAgICAgICAgZm9udC1zaXplPSI3MiIgCiAgICAgICAgZm9udC13ZWlnaHQ9ImJvbGQiCiAgICAgICAgZmlsbD0iI0MwQzBDMCIgCiAgICAgICAgdGV4dC1hbmNob3I9Im1pZGRsZSIKICAgICAgICBkb21pbmFudC1iYXNlbGluZT0ibWlkZGxlIj5ILVBSTzwvdGV4dD4KICAKICA8IS0tIFRhZ2xpbmUgLS0+CiAgPHRleHQgeD0iMjU2IiB5PSIzMzAiIAogICAgICAgIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgCiAgICAgICAgZm9udC1zaXplPSIxOCIgCiAgICAgICAgZmlsbD0iI0MwQzBDMCIgCiAgICAgICAgdGV4dC1hbmNob3I9Im1pZGRsZSIKICAgICAgICBvcGFjaXR5PSIwLjkiPkhZR0lFTkUgU1lTVEVNPC90ZXh0Pgo8L3N2Zz4=" alt="H-PRO Logo" style="width: 50px; height: 50px; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1));">
            <div style="flex: 1;">
                <h1 style="margin: 0; font-size: 2.2rem; font-weight: 700;">Hygiene Pro</h1>
                <p style="margin: 0; font-size: 0.95rem; opacity: 0.9;">Î£ÏÏƒÏ„Î·Î¼Î± Î•Î»Î­Î³Ï‡Î¿Ï… Î¥Î³Î¹ÎµÎ¹Î½Î®Ï‚</p>
            </div>
        </div>
            <div class="license-badge" id="licenseBadge" onclick="licenseClick()">
                <span id="licenseStatus">âœ“ Î†Î´ÎµÎ¹Î± Î•Î½ÎµÏÎ³Î®</span>
            </div>
        </div>

        <!-- Navigation -->
        <div class="nav">
            <div class="nav-buttons">
                <button class="nav-button active" onclick="showTab('dashboard')">Î‘Î¡Î§Î™ÎšÎ—</button>
                <button class="nav-button" onclick="showTab('temperatures')">Î˜Î•Î¡ÎœÎŸÎšÎ¡Î‘Î£Î™Î•Î£</button>
                <button class="nav-button" onclick="showTab('cleaning')">ÎšÎ‘Î˜Î‘Î¡Î™ÎŸÎ¤Î—Î¤Î‘</button>
                <button class="nav-button" onclick="showTab('equipment')">Î•ÎÎŸÎ Î›Î™Î£ÎœÎŸÎ£</button>
                <button class="nav-button" onclick="showTab('staff')">Î Î¡ÎŸÎ£Î©Î Î™ÎšÎŸ</button>
                <button class="nav-button" onclick="showTab('pest')">Î‘Î Î•ÎÎ¤ÎŸÎœÎ©Î£Î—</button>
                <button class="nav-button" onclick="showTab('reports')">Î‘ÎÎ‘Î¦ÎŸÎ¡Î•Î£</button>
                <button class="nav-button" onclick="showTab('settings')">Î¡Î¥Î˜ÎœÎ™Î£Î•Î™Î£</button>
            </div>
        </div>

        <!-- Main Content -->
        <div class="content">
            
            <!-- Setup Wizard -->

    <!-- v7.5: LICENSE ACTIVATION (MANDATORY FIRST STEP!) -->
    <div class="setup-wizard active" id="licenseActivation" style="z-index: 10001;">
        <div class="setup-content" style="max-width: 600px; margin: 0 auto;">
            <div style="text-align: center; margin-bottom: 40px;">
                <div style="width: 100px; height: 100px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 20px; font-size: 50px;">
                    ğŸ”
                </div>
                <h1 style="color: white; margin-bottom: 10px; font-size: 2em;">Î•Î½ÎµÏÎ³Î¿Ï€Î¿Î¯Î·ÏƒÎ· Î†Î´ÎµÎ¹Î±Ï‚</h1>
                <p style="color: rgba(255,255,255,0.9); font-size: 1.1em;">Î•Î¹ÏƒÎ¬Î³ÎµÏ„Îµ Ï„Î¿Î½ ÎºÏ‰Î´Î¹ÎºÏŒ ÎµÎ½ÎµÏÎ³Î¿Ï€Î¿Î¯Î·ÏƒÎ·Ï‚ Î³Î¹Î± Î½Î± ÏƒÏ…Î½ÎµÏ‡Î¯ÏƒÎµÏ„Îµ</p>
            </div>
            
            <div style="background: white; padding: 40px; border-radius: 12px; box-shadow: 0 10px 40px rgba(0,0,0,0.2);">
                <div class="form-group">
                    <label class="form-label" style="font-size: 16px; font-weight: 600;">ÎšÏ‰Î´Î¹ÎºÏŒÏ‚ Î•Î½ÎµÏÎ³Î¿Ï€Î¿Î¯Î·ÏƒÎ·Ï‚ *</label>
                    <input type="text" id="activationCodeInput" class="form-input" 
                           placeholder="Ï€.Ï‡. 4a6f686e446f65-1225-abc123"
                           style="font-family: monospace; font-size: 14px; padding: 15px;">
                    <small style="color: #7f8c8d; display: block; margin-top: 8px;">
                        ğŸ’¡ Î•Î¹ÏƒÎ¬Î³ÎµÏ„Îµ Ï„Î¿Î½ ÎºÏ‰Î´Î¹ÎºÏŒ Ï€Î¿Ï… Î»Î¬Î²Î±Ï„Îµ Î±Ï€ÏŒ Ï„Î¿Î½ Ï€Î¬ÏÎ¿Ï‡Î¿ Ï„Î·Ï‚ Ï…Ï€Î·ÏÎµÏƒÎ¯Î±Ï‚
                    </small>
                </div>
                
                <div id="licenseError" style="margin-top: 20px; padding: 15px; background: #fee; border: 1px solid #fcc; border-radius: 8px; color: #c00; display: none;">
                    <strong>âš ï¸ Î£Ï†Î¬Î»Î¼Î±:</strong> <span id="licenseErrorText"></span>
                </div>
                
                <div style="margin-top: 30px;">
                    <button onclick="validateAndActivateLicense()" class="btn btn-primary" style="width: 100%; padding: 18px; font-size: 18px; font-weight: 600;">
                        âœ“ Î•Î½ÎµÏÎ³Î¿Ï€Î¿Î¯Î·ÏƒÎ· & Î£Ï…Î½Î­Ï‡ÎµÎ¹Î±
                    </button>
                </div>
                
                <div style="margin-top: 20px; padding: 15px; background: #f0f7ff; border-radius: 8px; border-left: 4px solid #667eea;">
                    <strong style="color: #667eea;">â„¹ï¸ Î£Î·Î¼ÎµÎ¯Ï‰ÏƒÎ·:</strong>
                    <p style="margin-top: 8px; color: #555; font-size: 14px;">
                        Î§Ï‰ÏÎ¯Ï‚ Î­Î³ÎºÏ…ÏÎ¿ ÎºÏ‰Î´Î¹ÎºÏŒ ÎµÎ½ÎµÏÎ³Î¿Ï€Î¿Î¯Î·ÏƒÎ·Ï‚ Î´ÎµÎ½ Î¼Ï€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î®ÏƒÎµÏ„Îµ Ï„Î·Î½ ÎµÏ†Î±ÏÎ¼Î¿Î³Î®. 
                        Î“Î¹Î± Î±Ï€ÏŒÎºÏ„Î·ÏƒÎ· ÎºÏ‰Î´Î¹ÎºÎ¿Ï ÎµÏ€Î¹ÎºÎ¿Î¹Î½Ï‰Î½Î®ÏƒÏ„Îµ Î¼Îµ Ï„Î¿Î½ Ï€Î¬ÏÎ¿Ï‡ÏŒ ÏƒÎ±Ï‚.
                    </p>
                </div>
            </div>
        </div>
    </div>

            <div class="setup-wizard" id="setupWizard">
                <!-- Step 1 -->
                <div class="wizard-step active" id="step1">
                    <h2>ÎšÎ±Î»ÏÏ‚ Î®ÏÎ¸Î±Ï„Îµ ÏƒÏ„Î¿ Hygiene Pro</h2>
                    <p style="margin-bottom: 20px;">Î‘Ï‚ ÏÏ…Î¸Î¼Î¯ÏƒÎ¿Ï…Î¼Îµ Ï„Î¿ ÏƒÏÏƒÏ„Î·Î¼Î¬ ÏƒÎ±Ï‚.</p>
                    
                    <div class="form-group">
                        <label class="form-label">Î ÏŒÏƒÎ± Ï‡ÏÏŒÎ½Î¹Î± Î»ÎµÎ¹Ï„Î¿Ï…ÏÎ³ÎµÎ¯ Î· ÎµÏ€Î¹Ï‡ÎµÎ¯ÏÎ·ÏƒÎ® ÏƒÎ±Ï‚;</label>
                        <select id="businessYears" class="form-select">
                            <option value="0">Î›Î¹Î³ÏŒÏ„ÎµÏÎ¿ Î±Ï€ÏŒ 1 Î­Ï„Î¿Ï‚</option>
                            <option value="1">1 Î­Ï„Î¿Ï‚</option>
                            <option value="2">2 Î­Ï„Î·</option>
                            <option value="3">3+ Î­Ï„Î·</option>
                        </select>
                    </div>
                    
                    <button class="btn btn-primary" onclick="nextStep(2)">Î£Î¥ÎÎ•Î§Î•Î™Î‘ â†’</button>
                </div>
                
                <!-- Step 2 -->
                <div class="wizard-step" id="step2">
                    <h2>Î¤ÏÏ€Î¿Ï‚ Î•Ï€Î¹Ï‡ÎµÎ¯ÏÎ·ÏƒÎ·Ï‚</h2>
                    
                    <div class="form-group">
                        <label class="form-label">Î•Ï€Î¹Î»Î­Î¾Ï„Îµ Ï„Î¿Î½ Ï„ÏÏ€Î¿ Ï„Î·Ï‚ ÎµÏ€Î¹Ï‡ÎµÎ¯ÏÎ·ÏƒÎ®Ï‚ ÏƒÎ±Ï‚:</label>
                        <select id="businessType" class="form-select" onchange="updateScheduleBasedOnType()">                           <option value="butcher">ÎšÏÎµÎ¿Ï€Ï‰Î»ÎµÎ¯Î¿</option>
                            <option value="fish">Î™Ï‡Î¸Ï…Î¿Ï€Ï‰Î»ÎµÎ¯Î¿</option>
                            <option value="restaurant">Î•ÏƒÏ„Î¹Î±Ï„ÏŒÏÎ¹Î¿</option>
                            <option value="fastfood">Î£Î¿Ï…Î²Î»Î±Ï„Î¶Î¯Î´Î¹ÎºÎ¿/Fast Food</option>
                            <option value="supermarket">Super Market</option>
                            <option value="minimarket">Mini Market</option>
                            <option value="bakery">Î¦Î¿ÏÏÎ½Î¿Ï‚/Î‘ÏÏ„Î¿Ï€Î¿Î¹ÎµÎ¯Î¿</option>
                            <option value="pastry">Î–Î±Ï‡Î±ÏÎ¿Ï€Î»Î±ÏƒÏ„ÎµÎ¯Î¿</option>
                            <option value="cafe">ÎšÎ±Ï†ÎµÏ„Î­ÏÎ¹Î± Î¼Îµ Ï†Î±Î³Î·Ï„ÏŒ</option>
                            <option value="cheese">Î¤Ï…ÏÎ¿Ï€Ï‰Î»ÎµÎ¯Î¿</option>
                            <option value="grocery">ÎœÎ±Î½Î¬Î²Î¹ÎºÎ¿</option>
                            <option value="other">Î†Î»Î»Î¿</option>
                        </select>
                    </div>
                    
                    <button class="btn btn-secondary" onclick="nextStep(1)">â† Î Î™Î£Î©</button>
                    <button class="btn btn-primary" onclick="nextStep(3)">Î£Î¥ÎÎ•Î§Î•Î™Î‘ â†’</button>
                </div>
                
                <!-- Step 3 -->
                <div class="wizard-step" id="step3">
                    <h2>Î—Î¼Î­ÏÎµÏ‚ & ÎÏÎµÏ‚ Î›ÎµÎ¹Ï„Î¿Ï…ÏÎ³Î¯Î±Ï‚</h2>
                    
                <div class="form-group">
    <label class="form-label">ÎÏÎµÏ‚ Î»ÎµÎ¹Ï„Î¿Ï…ÏÎ³Î¯Î±Ï‚:</label>
    <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px;">
        <div>
            <label style="font-size: 0.9rem;">Î†Î½Î¿Î¹Î³Î¼Î±:</label>
            <select id="openMorning" class="form-select">
                <option value="06:00">06:00</option>
                <option value="07:00">07:00</option>
                <option value="08:00" selected>08:00</option>
                <option value="09:00">09:00</option>
                <option value="10:00">10:00</option>
                <option value="11:00">11:00</option>
            </select>
        </div>
        <div>
            <label style="font-size: 0.9rem;">ÎœÎµÏƒÎ·Î¼Î­ÏÎ¹ (ÎºÎ±Ï„Î±Î³ÏÎ±Ï†Î®):</label>
            <select id="closeMorning" class="form-select">
                <option value="13:00">13:00</option>
                <option value="14:00" selected>14:00</option>
                <option value="15:00">15:00</option>
                <option value="16:00">16:00</option>
            </select>
        </div>
        <div>
            <label style="font-size: 0.9rem;">ÎšÎ»ÎµÎ¯ÏƒÎ¹Î¼Î¿:</label>
            <select id="closeEvening" class="form-select">
                <option value="20:00">20:00</option>
                <option value="21:00">21:00</option>
                <option value="22:00">22:00</option>
                <option value="23:00" selected>23:00</option>
                <option value="24:00">24:00</option>
                <option value="01:00">01:00</option>
                <option value="02:00">02:00</option>
            </select>
        </div>
    </div>
    <p style="margin-top: 10px; color: #666; font-size: 0.85rem;">
        * ÎŸÎ¹ ÎºÎ±Ï„Î±Î³ÏÎ±Ï†Î­Ï‚ Î¸Î± Î³Î¯Î½Î¿Î½Ï„Î±Î¹: Î†Î½Î¿Î¹Î³Î¼Î±, ÎœÎµÏƒÎ·Î¼Î­ÏÎ¹, ÎšÎ»ÎµÎ¯ÏƒÎ¹Î¼Î¿
    </p>
</div>                    
 <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin-top: 20px;">
                        <div style="display: grid; gap: 15px;">
                            <div style="display: flex; align-items: center; gap: 15px;">
                                <div style="width: 120px; font-weight: 500;">Î”ÎµÏ…Ï„Î­ÏÎ±:</div>
                                <label><input type="checkbox" id="day-mon-morning" checked> Î ÏÏ‰Î¯</label>
                                <label><input type="checkbox" id="day-mon-afternoon" checked> Î‘Ï€ÏŒÎ³ÎµÏ…Î¼Î±</label>
                            </div>
                            <div style="display: flex; align-items: center; gap: 15px;">
                                <div style="width: 120px; font-weight: 500;">Î¤ÏÎ¯Ï„Î·:</div>
                                <label><input type="checkbox" id="day-tue-morning" checked> Î ÏÏ‰Î¯</label>
                                <label><input type="checkbox" id="day-tue-afternoon" checked> Î‘Ï€ÏŒÎ³ÎµÏ…Î¼Î±</label>
                            </div>
                            <div style="display: flex; align-items: center; gap: 15px;">
                                <div style="width: 120px; font-weight: 500;">Î¤ÎµÏ„Î¬ÏÏ„Î·:</div>
                                <label><input type="checkbox" id="day-wed-morning" checked> Î ÏÏ‰Î¯</label>
                                <label><input type="checkbox" id="day-wed-afternoon" checked> Î‘Ï€ÏŒÎ³ÎµÏ…Î¼Î±</label>
                            </div>
                            <div style="display: flex; align-items: center; gap: 15px;">
                                <div style="width: 120px; font-weight: 500;">Î Î­Î¼Ï€Ï„Î·:</div>
                                <label><input type="checkbox" id="day-thu-morning" checked> Î ÏÏ‰Î¯</label>
                                <label><input type="checkbox" id="day-thu-afternoon" checked> Î‘Ï€ÏŒÎ³ÎµÏ…Î¼Î±</label>
                            </div>
                            <div style="display: flex; align-items: center; gap: 15px;">
                                <div style="width: 120px; font-weight: 500;">Î Î±ÏÎ±ÏƒÎºÎµÏ…Î®:</div>
                                <label><input type="checkbox" id="day-fri-morning" checked> Î ÏÏ‰Î¯</label>
                                <label><input type="checkbox" id="day-fri-afternoon" checked> Î‘Ï€ÏŒÎ³ÎµÏ…Î¼Î±</label>
                            </div>
                            <div style="display: flex; align-items: center; gap: 15px;">
                                <div style="width: 120px; font-weight: 500;">Î£Î¬Î²Î²Î±Ï„Î¿:</div>
                                <label><input type="checkbox" id="day-sat-morning" checked> Î ÏÏ‰Î¯</label>
                                <label><input type="checkbox" id="day-sat-afternoon" checked> Î‘Ï€ÏŒÎ³ÎµÏ…Î¼Î±</label>
                            </div>
                            <div style="display: flex; align-items: center; gap: 15px;">
                                <div style="width: 120px; font-weight: 500;">ÎšÏ…ÏÎ¹Î±ÎºÎ®:</div>
                                <label><input type="checkbox" id="day-sun-morning"> Î ÏÏ‰Î¯</label>
                                <label><input type="checkbox" id="day-sun-afternoon"> Î‘Ï€ÏŒÎ³ÎµÏ…Î¼Î±</label>
                            </div>
                        </div>
                    </div>
                    
                    <div style="margin-top: 20px;">
                        <button class="btn btn-secondary" onclick="nextStep(2)">â† Î Î™Î£Î©</button>
                        <button class="btn btn-primary" onclick="nextStep(4)">Î£Î¥ÎÎ•Î§Î•Î™Î‘ â†’</button>
                    </div>
                </div>
                
                <!-- Step 4 -->
                <div class="wizard-step" id="step4">
                    <h2>Î•Î¾Î¿Ï€Î»Î¹ÏƒÎ¼ÏŒÏ‚</h2>
                    
                    <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
                        <div style="display: grid; gap: 15px; margin-bottom: 15px;">
                            <div>
                                <label style="font-size: 0.9rem;">ÎŒÎ½Î¿Î¼Î±:</label>
                                <input type="text" id="tempEquipmentName" class="form-input" placeholder="Î¨Ï…Î³ÎµÎ¯Î¿ 1">
                            </div>
                            <div>
                                <label style="font-size: 0.9rem;">Î¤ÏÏ€Î¿Ï‚:</label>
                                <select id="tempEquipmentType" class="form-select">
                                    <option value="fridge">Î¨Ï…Î³ÎµÎ¯Î¿</option>
                                    <option value="freezer">ÎšÎ±Ï„Î¬ÏˆÏ…Î¾Î·</option>
                                    <option value="showcase">Î’Î¹Ï„ÏÎ¯Î½Î±</option>
                                </select>
                            </div>
                        </div>
                        <button class="btn btn-primary" onclick="addEquipmentToSetup()" style="width: 100%;">+ Î Î¡ÎŸÎ£Î˜Î—ÎšÎ—</button>
                    </div>
                    
                    <div id="setupEquipmentList" style="display: grid; gap: 10px; margin-bottom: 20px;"></div>
                    
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-secondary" onclick="nextStep(3)">â† Î Î™Î£Î©</button>
                        <button class="btn btn-success" onclick="completeSetup()" style="flex: 1;">ÎŸÎ›ÎŸÎšÎ›Î—Î¡Î©Î£Î— âœ“</button>
                    </div>
                </div>
            </div>
<!-- Dashboard Tab -->
            <div class="tab-content active" id="dashboard">
                <div class="clock-display">
                    <div>
                        <div class="clock-time" id="clock">--:--</div>
                        <div class="clock-date" id="date">--</div>
                    </div>
                    <div>
                        <button class="btn btn-secondary" onclick="toggleArchiveMode()">Î‘ÎÎ‘Î¦ÎŸÎ¡Î•Î£</button>
                        <span class="archive-indicator" id="archiveIndicator">âœ“ Î›ÎµÎ¹Ï„Î¿Ï…ÏÎ³Î¯Î± Î‘Î½Î±Ï†Î¿ÏÏÎ½</span>
                    </div>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-value" id="totalRecords">0</div>
                        <div class="stat-label">Î£Ï…Î½Î¿Î»Î¹ÎºÎ­Ï‚ ÎšÎ±Ï„Î±Î³ÏÎ±Ï†Î­Ï‚</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="todayTemp">0</div>
                        <div class="stat-label">ÎœÎµÏ„ÏÎ®ÏƒÎµÎ¹Ï‚ Î£Î®Î¼ÎµÏÎ±</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="equipmentTotal">3</div>
                        <div class="stat-label">Î•Î¾Î¿Ï€Î»Î¹ÏƒÎ¼ÏŒÏ‚</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="daysActive">0</div>
                        <div class="stat-label">Î—Î¼Î­ÏÎµÏ‚ Î›ÎµÎ¹Ï„Î¿Ï…ÏÎ³Î¯Î±Ï‚</div>
                    </div>
                </div>

                <div class="table-container">
                    <table class="table">
                        <thead>
                            <tr>
                                <th colspan="3">Î£Î·Î¼ÎµÏÎ¹Î½Î­Ï‚ ÎšÎ±Ï„Î±Î³ÏÎ±Ï†Î­Ï‚</th>
                            </tr>
                            <tr>
                                <th>ÎÏÎ±</th>
                                <th>Î¤ÏÏ€Î¿Ï‚</th>
                                <th>ÎšÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ·</th>
                            </tr>
                        </thead>
                        <tbody id="todayRecords">
                            <tr>
                                <td colspan="3" style="text-align: center; color: #6c757d;">Î”ÎµÎ½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ ÎºÎ±Ï„Î±Î³ÏÎ±Ï†Î­Ï‚ Î±ÎºÏŒÎ¼Î±</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Temperatures Tab -->
            <div class="tab-content" id="temperatures">
                <h2>ÎšÎ±Ï„Î±Î³ÏÎ±Ï†Î­Ï‚ Î˜ÎµÏÎ¼Î¿ÎºÏÎ±ÏƒÎ¹ÏÎ½</h2>
                
                <div style="background: #e8f4f8; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                    <strong>ÎŒÏÎ¹Î± HACCP:</strong> Î¨Ï…Î³ÎµÎ¯Î±/Î’Î¹Ï„ÏÎ¯Î½ÎµÏ‚: +1Â°C Î­Ï‰Ï‚ +4Â°C | ÎšÎ±Ï„Î¬ÏˆÏ…Î¾Î·: -18Â°C Î­Ï‰Ï‚ -22Â°C
                </div>

                <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; align-items: end;">
                        <div class="form-group" style="margin-bottom: 0;">
                            <label class="form-label">Î‘Ï€ÏŒ Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î±:</label>
                            <input type="date" id="tempDateFrom" class="form-input">
                        </div>
                        <div class="form-group" style="margin-bottom: 0;">
                            <label class="form-label">ÎˆÏ‰Ï‚ Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î±:</label>
                            <input type="date" id="tempDateTo" class="form-input">
                        </div>
                        <button class="btn btn-primary" id="btnFilterTemp">Î¦Î™Î›Î¤Î¡Î‘Î¡Î™Î£ÎœÎ‘</button>
                        <button class="btn btn-secondary" id="btnShowAllTemp">Î•ÎœÎ¦Î‘ÎÎ™Î£Î— ÎŸÎ›Î©Î</button>
                        <button class="btn btn-success" id="btnPrintFilteredTemp">ğŸ–¨ï¸ Î•ÎšÎ¤Î¥Î Î©Î£Î—</button>
                    </div>
                    <div id="tempFilterInfo" style="margin-top: 10px; color: #667eea; font-weight: 500;"></div>
                </div>

                <button class="btn btn-primary" onclick="manualTemperatureEntry()" style="margin-bottom: 20px;">+ Î§Î•Î™Î¡ÎŸÎšÎ™ÎÎ—Î¤Î— ÎšÎ‘Î¤Î‘Î§Î©Î¡Î—Î£Î—</button>

                <div class="table-container">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î±</th>
                                <th>ÎÏÎ±</th>
                                <th>Î•Î¾Î¿Ï€Î»Î¹ÏƒÎ¼ÏŒÏ‚</th>
                                <th>Î˜ÎµÏÎ¼Î¿ÎºÏÎ±ÏƒÎ¯Î±</th>
                                <th>ÎšÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ·</th>
                            </tr>
                        </thead>
                        <tbody id="tempTable">
                            <tr>
                                <td colspan="5" style="text-align: center; color: #6c757d;">Î¦ÏŒÏÏ„Ï‰ÏƒÎ· ÎºÎ±Ï„Î±Î³ÏÎ±Ï†ÏÎ½...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Cleaning Tab -->
            <div class="tab-content" id="cleaning">
                <h2>ÎšÎ±Ï„Î±Î³ÏÎ±Ï†Î­Ï‚ ÎšÎ±Î¸Î±ÏÎ¹ÏŒÏ„Î·Ï„Î±Ï‚</h2>
                
                <div style="background: #e8f8e8; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                    <strong>Î ÏÏŒÎ³ÏÎ±Î¼Î¼Î±:</strong> ÎšÎ±Î¸Î·Î¼ÎµÏÎ¹Î½ÏŒÏ‚ ÎºÎ±Î¸Î±ÏÎ¹ÏƒÎ¼ÏŒÏ‚ ÏƒÏ„Î¹Ï‚ 20:00
                </div>

                <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; align-items: end;">
                        <div class="form-group" style="margin-bottom: 0;">
                            <label class="form-label">Î‘Ï€ÏŒ Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î±:</label>
                            <input type="date" id="cleanDateFrom" class="form-input">
                        </div>
                        <div class="form-group" style="margin-bottom: 0;">
                            <label class="form-label">ÎˆÏ‰Ï‚ Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î±:</label>
                            <input type="date" id="cleanDateTo" class="form-input">
                        </div>
                        <button class="btn btn-primary" id="btnFilterClean">Î¦Î™Î›Î¤Î¡Î‘Î¡Î™Î£ÎœÎ‘</button>
                        <button class="btn btn-secondary" id="btnShowAllClean">Î•ÎœÎ¦Î‘ÎÎ™Î£Î— ÎŸÎ›Î©Î</button>
                        <button class="btn btn-success" id="btnPrintFilteredClean">ğŸ–¨ï¸ Î•ÎšÎ¤Î¥Î Î©Î£Î—</button>
                    </div>
                    <div id="cleanFilterInfo" style="margin-top: 10px; color: #667eea; font-weight: 500;"></div>
                </div>

                <div class="table-container">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î±</th>
                                <th>ÎÏÎ±</th>
                                <th>Î“ÎµÎ½Î¹ÎºÏŒÏ‚ ÎšÎ±Î¸Î±ÏÎ¹ÏƒÎ¼ÏŒÏ‚</th>
                                <th>Î‘Ï€Î¿Î»ÏÎ¼Î±Î½ÏƒÎ·</th>
                                <th>Î’Î¹Ï„ÏÎ¯Î½ÎµÏ‚</th>
                                <th>Î•ÏÎ³Î±Î»ÎµÎ¯Î±</th>
                            </tr>
                        </thead>
                        <tbody id="cleanTable">
                            <tr>
                                <td colspan="6" style="text-align: center; color: #6c757d;">Î¦ÏŒÏÏ„Ï‰ÏƒÎ· ÎºÎ±Ï„Î±Î³ÏÎ±Ï†ÏÎ½...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Equipment Tab -->
            <div class="tab-content" id="equipment">
                <h2>Î”Î¹Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ· Î•Î¾Î¿Ï€Î»Î¹ÏƒÎ¼Î¿Ï</h2>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr auto; gap: 15px; margin-bottom: 30px;">
                    <input type="text" id="eqName" class="form-input" placeholder="ÎŒÎ½Î¿Î¼Î± (Ï€.Ï‡. Î¨Ï…Î³ÎµÎ¯Î¿ 1)">
                    <select id="eqType" class="form-select">
                        <option value="fridge">Î¨Ï…Î³ÎµÎ¯Î¿</option>
                        <option value="freezer">ÎšÎ±Ï„Î¬ÏˆÏ…Î¾Î·</option>
                        <option value="display">Î’Î¹Ï„ÏÎ¯Î½Î±</option>
                        <option value="other">Î†Î»Î»Î¿</option>
                    </select>
                    <button class="btn btn-primary" onclick="addEquipment()">+ Î Î¡ÎŸÎ£Î˜Î—ÎšÎ—</button>
                </div>

                <div class="equipment-grid" id="equipmentList"></div>
            </div>

            <!-- Staff Tab -->
            <div class="tab-content" id="staff">
                <h2>Î”Î¹Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ· Î ÏÎ¿ÏƒÏ‰Ï€Î¹ÎºÎ¿Ï</h2>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 30px;">
                    <input type="text" id="staffName" class="form-input" placeholder="ÎŸÎ½Î¿Î¼Î±Ï„ÎµÏ€ÏÎ½Ï…Î¼Î¿">
                    <input type="text" id="staffRole" class="form-input" placeholder="Î˜Î­ÏƒÎ·">
                    <input type="date" id="staffHealth" class="form-input" title="Î Î¹ÏƒÏ„. Î¥Î³ÎµÎ¯Î±Ï‚">
                    <input type="date" id="staffEfet" class="form-input" title="Î Î¹ÏƒÏ„. Î•Î¦Î•Î¤">
                    <button class="btn btn-primary" onclick="addStaff()">+ Î Î¡ÎŸÎ£Î˜Î—ÎšÎ—</button>
                </div>

                <div class="table-container">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>ÎŸÎ½Î¿Î¼Î±Ï„ÎµÏ€ÏÎ½Ï…Î¼Î¿</th>
                                <th>Î˜Î­ÏƒÎ·</th>
                                <th>Î Î¹ÏƒÏ„. Î¥Î³ÎµÎ¯Î±Ï‚</th>
                                <th>Î Î¹ÏƒÏ„. Î•Î¦Î•Î¤</th>
                                <th>Î•Î½Î­ÏÎ³ÎµÎ¹ÎµÏ‚</th>
                            </tr>
                        </thead>
                        <tbody id="staffTable">
                            <tr>
                                <td colspan="5" style="text-align: center; color: #6c757d;">Î”ÎµÎ½ Î­Ï‡ÎµÎ¹ ÎºÎ±Ï„Î±Ï‡Ï‰ÏÎ·Î¸ÎµÎ¯ Ï€ÏÎ¿ÏƒÏ‰Ï€Î¹ÎºÏŒ</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Pest Control Tab -->
            <div class="tab-content" id="pest">
                <h2>Î‘Ï€ÎµÎ½Ï„ÏŒÎ¼Ï‰ÏƒÎ· & ÎœÏ…Î¿ÎºÏ„Î¿Î½Î¯Î±</h2>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 30px;">
                    <input type="date" id="pestDate" class="form-input">
                    <select id="pestType" class="form-select">
                        <option value="">Î¤ÏÏ€Î¿Ï‚ ÎµÏ€Î­Î¼Î²Î±ÏƒÎ·Ï‚</option>
                        <option value="insects">Î‘Ï€ÎµÎ½Ï„ÏŒÎ¼Ï‰ÏƒÎ·</option>
                        <option value="rodents">ÎœÏ…Î¿ÎºÏ„Î¿Î½Î¯Î±</option>
                        <option value="both">Î“ÎµÎ½Î¹ÎºÎ®</option>
                    </select>
                    <input type="text" id="pestCompany" class="form-input" placeholder="Î•Ï„Î±Î¹ÏÎµÎ¯Î±">
                    <button class="btn btn-primary" onclick="addPestControl()">+ Î Î¡ÎŸÎ£Î˜Î—ÎšÎ—</button>
                </div>

                <div class="table-container">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î±</th>
                                <th>Î¤ÏÏ€Î¿Ï‚</th>
                                <th>Î•Ï„Î±Î¹ÏÎµÎ¯Î±</th>
                                <th>Î•Î½Î­ÏÎ³ÎµÎ¹ÎµÏ‚</th>
                            </tr>
                        </thead>
                        <tbody id="pestTable">
                            <tr>
                                <td colspan="4" style="text-align: center; color: #6c757d;">Î”ÎµÎ½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ ÎºÎ±Ï„Î±Î³ÏÎ±Ï†Î­Ï‚</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Reports Tab -->
            <div class="tab-content" id="reports">
                <h2>Î•ÎºÏ„Ï…Ï€ÏÏƒÎµÎ¹Ï‚ & Î‘Î½Î±Ï†Î¿ÏÎ­Ï‚</h2>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
                    <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; text-align: center;">
                        <h3 style="margin-bottom: 15px;">Î˜ÎµÏÎ¼Î¿ÎºÏÎ±ÏƒÎ¯ÎµÏ‚</h3>
                        <button class="btn btn-primary" onclick="printReport('temperatures')">ğŸ–¨ï¸ Î•ÎšÎ¤Î¥Î Î©Î£Î—</button>
                    </div>
                    
                    <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; text-align: center;">
                        <h3 style="margin-bottom: 15px;">ÎšÎ±Î¸Î±ÏÎ¹ÏŒÏ„Î·Ï„Î±</h3>
                        <button class="btn btn-primary" onclick="printReport('cleaning')">ğŸ–¨ï¸ Î•ÎšÎ¤Î¥Î Î©Î£Î—</button>
                    </div>
                    
                    <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; text-align: center;">
                        <h3 style="margin-bottom: 15px;">Î ÏÎ¿ÏƒÏ‰Ï€Î¹ÎºÏŒ</h3>
                        <button class="btn btn-primary" onclick="printReport('staff')">ğŸ–¨ï¸ Î•ÎšÎ¤Î¥Î Î©Î£Î—</button>
                    </div>
                    
                    <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; text-align: center;">
                        <h3 style="margin-bottom: 15px;">Î‘Ï€ÎµÎ½Ï„ÏŒÎ¼Ï‰ÏƒÎ·</h3>
                        <button class="btn btn-primary" onclick="printReport('pest')">ğŸ–¨ï¸ Î•ÎšÎ¤Î¥Î Î©Î£Î—</button>
                    </div>
                </div>
                
                <div style="margin-top: 40px; text-align: center;">
                    <button class="btn btn-success" style="font-size: 1.1rem; padding: 15px 40px;" onclick="printAll()">ğŸ“‹ Î•ÎšÎ¤Î¥Î Î©Î£Î— Î Î›Î—Î¡ÎŸÎ¥Î£ Î¦Î‘ÎšÎ•Î›ÎŸÎ¥</button>
                </div>
            </div>

            <!-- Settings Tab -->
            <div class="tab-content" id="settings">
                <h2>Î¡Ï…Î¸Î¼Î¯ÏƒÎµÎ¹Ï‚</h2>
                
                <div style="max-width: 600px;">
                    <div class="form-group">
                        <label class="form-label">Î•Ï€Ï‰Î½Ï…Î¼Î¯Î± Î•Ï€Î¹Ï‡ÎµÎ¯ÏÎ·ÏƒÎ·Ï‚</label>
                        <input type="text" id="businessName" class="form-input" placeholder="Ï€.Ï‡. ÎšÎ¡Î•ÎŸÎ Î©Î›Î•Î™ÎŸ Î Î‘Î Î‘Î”ÎŸÎ ÎŸÎ¥Î›ÎŸÎ£">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Î¤Î·Î»Î­Ï†Ï‰Î½Î¿</label>
                        <input type="tel" id="businessPhone" class="form-input" placeholder="Ï€.Ï‡. 2310123456">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Î”Î¹ÎµÏÎ¸Ï…Î½ÏƒÎ·</label>
                        <input type="text" id="businessAddress" class="form-input" placeholder="Ï€.Ï‡. Î¤ÏƒÎ¹Î¼Î¹ÏƒÎºÎ® 100, Î˜ÎµÏƒÏƒÎ±Î»Î¿Î½Î¯ÎºÎ·">
                    </div>
                    
                    <button class="btn btn-primary" onclick="saveSettings()">Î‘Î ÎŸÎ˜Î—ÎšÎ•Î¥Î£Î— Î¡Î¥Î˜ÎœÎ™Î£Î•Î©Î</button>

                    <div style="margin-top: 40px; padding-top: 20px; border-top: 2px solid #e9ecef;">
                        <h3 style="color: #dc3545; margin-bottom: 15px;">âš ï¸ Î–ÏÎ½Î· ÎšÎ¹Î½Î´ÏÎ½Î¿Ï…</h3>
                        <p style="color: #6c757d; margin-bottom: 20px;">Î— ÎµÏ€Î±Î½Î±Ï†Î¿ÏÎ¬ Î¸Î± Î´Î¹Î±Î³ÏÎ¬ÏˆÎµÎ¹ ÎŸÎ›Î‘ Ï„Î± Î´ÎµÎ´Î¿Î¼Î­Î½Î±.</p>
                        <button class="btn btn-danger" onclick="resetSystem()" style="width: 100%;">ğŸ”„ Î•Î Î‘ÎÎ‘Î¦ÎŸÎ¡Î‘ Î£Î¥Î£Î¤Î—ÎœÎ‘Î¤ÎŸÎ£</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- License Modal -->
    <div class="modal" id="licenseModal">
        <div class="modal-content">
            <div class="modal-header">ğŸ” Î•Î½ÎµÏÎ³Î¿Ï€Î¿Î¯Î·ÏƒÎ· Î†Î´ÎµÎ¹Î±Ï‚</div>
            <div style="margin-bottom: 20px;">
                <label class="form-label">ÎšÎ»ÎµÎ¹Î´Î¯ Î†Î´ÎµÎ¹Î±Ï‚:</label>
                <input type="text" id="licenseKey" class="form-input" placeholder="Ï€.Ï‡. YEAR-365D-Î Î‘Î Î‘Î”Î—Î£-2310123456-X7B9">
            </div>
            <div style="display: flex; gap: 10px; justify-content: flex-end;">
                <button class="btn btn-secondary" onclick="closeLicenseModal()">Î‘ÎšÎ¥Î¡Î©Î£Î—</button>
                <button class="btn btn-primary" onclick="activateLicense()">Î•ÎÎ•Î¡Î“ÎŸÎ ÎŸÎ™Î—Î£Î—</button>
            </div>
        </div>
    </div>
<script>
        // System Configuration
        const SYSTEM_CONFIG = {
            version: '1.0.0',
            startDate: '2025-01-03'
        };

        const HOLIDAYS = [
            '2025-01-01', '2025-01-02', '2025-01-06', '2025-03-03', '2025-03-25',
            '2025-04-18', '2025-04-21', '2025-05-01', '2025-06-09', '2025-08-15',
            '2025-10-28', '2025-12-25', '2025-12-26'
        ];

        let systemData = {
            license: null,
            businessInfo: {
                name: '',
                phone: '',
                address: '',
                type: '',
                years: 0,
                workingDays: [],
                // v7.3 additions
                afm: '',
                doy: '',
                city: '',
                monthsToKeep: 6
            },
            equipment: [],
            staff: [],
            temperatures: [],
            cleaning: [],
            pestControl: [],
            archiveMode: false,
            licenseClicks: 0,
            setupComplete: false
        };

        let tempEquipmentList = [];
        let tempFilterFrom = null;
        let tempFilterTo = null;
        let cleanFilterFrom = null;
        let cleanFilterTo = null;


        // ========================================
        // v7.3: HELPER FUNCTIONS
        // ========================================
        
        function safeGreekText(text) {
            if (!text) return '';
            const greekMap = {
                'Î‘':'A','Î’':'B','Î“':'G','Î”':'D','Î•':'E','Î–':'Z','Î—':'H','Î˜':'TH',
                'Î™':'I','Îš':'K','Î›':'L','Îœ':'M','Î':'N','Î':'X','ÎŸ':'O','Î ':'P',
                'Î¡':'R','Î£':'S','Î¤':'T','Î¥':'Y','Î¦':'F','Î§':'CH','Î¨':'PS','Î©':'O',
                'Î±':'a','Î²':'b','Î³':'g','Î´':'d','Îµ':'e','Î¶':'z','Î·':'h','Î¸':'th',
                'Î¹':'i','Îº':'k','Î»':'l','Î¼':'m','Î½':'n','Î¾':'x','Î¿':'o','Ï€':'p',
                'Ï':'r','Ïƒ':'s','Ï‚':'s','Ï„':'t','Ï…':'y','Ï†':'f','Ï‡':'ch','Ïˆ':'ps','Ï‰':'o',
                'Î¬':'a','Î­':'e','Î®':'h','Î¯':'i','ÏŒ':'o','Ï':'y','Ï':'o'
            };
            let result = String(text);
            for (let [greek, latin] of Object.entries(greekMap)) {
                result = result.split(greek).join(latin);
            }
            return result;
        }
        
        function getBusinessShortName() {
            return safeGreekText(systemData.businessInfo?.name || 'Business');
        }
        
        // ========================================
        // v7.3: AUTO-BACKUP SYSTEM
        // ========================================
        
        function startAutoBackup() {
            setInterval(checkAndBackup, 86400000); // 24h
            setTimeout(checkAndBackup, 60000); // 1min after load
        }
        
        function checkAndBackup() {
            const monthsToKeep = systemData.businessInfo?.monthsToKeep || 6;
            const cutoffDate = new Date();
            cutoffDate.setMonth(cutoffDate.getMonth() - monthsToKeep);
            const cutoffStr = formatDate(cutoffDate);
            
            const oldTemps = systemData.temperatures.filter(t => t.date < cutoffStr);
            const oldClean = systemData.cleaning.filter(c => c.date < cutoffStr);
            
            if (oldTemps.length > 0 || oldClean.length > 0) {
                createBackupPDF(oldTemps, oldClean, cutoffStr, monthsToKeep);
                systemData.temperatures = systemData.temperatures.filter(t => t.date >= cutoffStr);
                systemData.cleaning = systemData.cleaning.filter(c => c.date >= cutoffStr);
                saveData();
            }
        }
        
        function createBackupPDF(oldTemps, oldClean, cutoffDate, monthsToKeep) {
            try {
                const { jsPDF } = window.jspdf;
                if (!jsPDF) return;
                
                const doc = new jsPDF();
                let yPos = 20;
                const leftMargin = 20;
                const pageHeight = doc.internal.pageSize.height;
                
                function checkPageBreak(needed = 10) {
                    if (yPos + needed > pageHeight - 20) {
                        doc.addPage();
                        yPos = 20;
                        return true;
                    }
                    return false;
                }
                
                // Header
                doc.setFillColor(245, 245, 245);
                doc.rect(0, 0, 210, 45, 'F');
                
                doc.setFontSize(11);
                doc.setFont(undefined, 'bold');
                doc.text(getBusinessShortName(), leftMargin, 10);
                yPos = 15;
                
                doc.setFontSize(9);
                doc.setFont(undefined, 'normal');
                const info = systemData.businessInfo;
                if (info.afm) {
                    doc.text('AFM: ' + info.afm, leftMargin, yPos);
                    yPos += 4;
                }
                if (info.doy) {
                    doc.text('DOY: ' + safeGreekText(info.doy), leftMargin, yPos);
                    yPos += 4;
                }
                if (info.city && info.address) {
                    doc.text(safeGreekText(info.city + ', ' + info.address), leftMargin, yPos);
                }
                
                yPos = 45;
                doc.setLineWidth(0.5);
                doc.line(20, yPos, 190, yPos);
                yPos += 8;
                
                // Title
                doc.setFontSize(16);
                doc.setFont(undefined, 'bold');
                doc.text('H-PRO BACKUP', leftMargin, yPos);
                yPos += 6;
                
                doc.setFontSize(9);
                doc.setFont(undefined, 'normal');
                doc.text('Data backup > ' + monthsToKeep + ' months', leftMargin, yPos);
                yPos += 4;
                doc.text('Date: ' + formatDate(new Date()) + ' | Cutoff: ' + cutoffDate, leftMargin, yPos);
                yPos += 8;
                
                doc.line(20, yPos, 190, yPos);
                yPos += 8;
                
                // Temperatures
                if (oldTemps.length > 0) {
                    doc.setFontSize(14);
                    doc.setFont(undefined, 'bold');
                    doc.text('TEMPERATURES', leftMargin, yPos);
                    yPos += 7;
                    
                    doc.setFontSize(9);
                    doc.setFont(undefined, 'normal');
                    
                    oldTemps.forEach(temp => {
                        checkPageBreak(6);
                        const text = temp.date + ' | ' + temp.time + ' | ' + 
                                   safeGreekText(temp.equipment) + ': ' + temp.value + 'C';
                        doc.text(text, leftMargin, yPos);
                        yPos += 5;
                    });
                    yPos += 5;
                }
                
                // Cleaning
                if (oldClean.length > 0) {
                    checkPageBreak(20);
                    doc.setFontSize(14);
                    doc.setFont(undefined, 'bold');
                    doc.text('CLEANING', leftMargin, yPos);
                    yPos += 7;
                    
                    doc.setFontSize(9);
                    doc.setFont(undefined, 'normal');
                    
                    oldClean.forEach(clean => {
                        checkPageBreak(6);
                        const text = clean.date + ' | ' + safeGreekText(clean.area) + 
                                   ' | ' + safeGreekText(clean.task);
                        doc.text(text, leftMargin, yPos);
                        yPos += 5;
                    });
                }
                
                // Footer
                const totalPages = doc.internal.getNumberOfPages();
                for (let i = 1; i <= totalPages; i++) {
                    doc.setPage(i);
                    doc.setFontSize(8);
                    doc.setFont(undefined, 'bold');
                    
                    const shortName = getBusinessShortName();
                    const afm = info?.afm || '';
                    const footerText = shortName + (afm ? ' | AFM: ' + afm : '');
                    
                    doc.text(footerText, 20, pageHeight - 10);
                    doc.setFont(undefined, 'italic');
                    doc.text('Page ' + i + ' of ' + totalPages, 190, pageHeight - 10);
                }
                
                // Download
                const filename = 'H-PRO-Backup-' + formatDate(new Date()) + '.pdf';
                doc.save(filename);
                
                console.log('âœ… Backup PDF created: ' + filename);
                
            } catch (error) {
                console.error('Backup PDF Error:', error);
            }
        }
        

        // Initialize System

        // ========================================
        // v7.5: LICENSE ACTIVATION (MANDATORY!)
        // ========================================
        
        function validateAndActivateLicense() {
            const key = document.getElementById('activationCodeInput').value.trim();
            
            if (!key) {
                showLicenseError('Î Î±ÏÎ±ÎºÎ±Î»Ï ÎµÎ¹ÏƒÎ¬Î³ÎµÏ„Îµ ÎºÏ‰Î´Î¹ÎºÏŒ ÎµÎ½ÎµÏÎ³Î¿Ï€Î¿Î¯Î·ÏƒÎ·Ï‚');
                return;
            }
            
            // Validate format
            const parts = key.split('-');
            if (parts.length !== 3) {
                showLicenseError('ÎœÎ· Î­Î³ÎºÏ…ÏÎ· Î¼Î¿ÏÏ†Î® ÎºÏ‰Î´Î¹ÎºÎ¿Ï. Î•Î»Î­Î³Î¾Ï„Îµ Î¾Î±Î½Î¬.');
                return;
            }
            
            const [encryptedData, mmyy, salt] = parts;
            
            // Decrypt
            const secretKey = 'HygienePro2025SecretKey!@#';
            const decrypted = decryptData(encryptedData, secretKey);
            
            if (!decrypted) {
                showLicenseError('ÎœÎ· Î­Î³ÎºÏ…ÏÎ¿Ï‚ ÎºÏ‰Î´Î¹ÎºÏŒÏ‚ ÎµÎ½ÎµÏÎ³Î¿Ï€Î¿Î¯Î·ÏƒÎ·Ï‚');
                return;
            }
            
            // Parse: name|phone|package|expiry
            const dataParts = decrypted.split('|');
            if (dataParts.length !== 4) {
                showLicenseError('ÎšÎ±Ï„ÎµÏƒÏ„ÏÎ±Î¼Î¼Î­Î½Î¿Ï‚ ÎºÏ‰Î´Î¹ÎºÏŒÏ‚. Î•Ï€Î¹ÎºÎ¿Î¹Î½Ï‰Î½Î®ÏƒÏ„Îµ Î¼Îµ Ï„Î¿Î½ Ï€Î¬ÏÎ¿Ï‡Î¿.');
                return;
            }
            
            const [businessName, phone, packageType, expiryDateStr] = dataParts;
            
            // Check expiry
            const expiryDate = new Date(expiryDateStr);
            const today = new Date();
            
            if (expiryDate < today) {
                showLicenseError('ÎŸ ÎºÏ‰Î´Î¹ÎºÏŒÏ‚ Î­Ï‡ÎµÎ¹ Î»Î®Î¾ÎµÎ¹! Î•Ï€Î¹ÎºÎ¿Î¹Î½Ï‰Î½Î®ÏƒÏ„Îµ Î³Î¹Î± Î±Î½Î±Î½Î­Ï‰ÏƒÎ·.');
                return;
            }
            
            // Package names
            const packageNames = {
                'demo': 'DEMO',
                'monthly': 'ÎœÎ·Î½Î¹Î±Î¯Î¿',
                'quarterly': 'Î¤ÏÎ¯Î¼Î·Î½Î¿',
                'biannual': 'Î•Î¾Î¬Î¼Î·Î½Î¿',
                'annual': 'Î•Ï„Î®ÏƒÎ¹Î¿',
                'lifetime': 'Lifetime'
            };
            
            // Save license
            systemData.license = {
                key: key,
                type: packageNames[packageType] || packageType.toUpperCase(),
                businessName: businessName,
                phone: phone,
                activated: today.toISOString(),
                expiry: expiryDate.toISOString()
            };
            
            systemData.businessInfo.name = businessName;
            systemData.businessInfo.phone = phone;
            
            saveData();
            
            // Hide license screen, show setup wizard
            document.getElementById('licenseActivation').classList.remove('active');
            document.getElementById('setupWizard').classList.add('active');
            
            console.log('âœ… License activated: ' + businessName);
        }
        
        function showLicenseError(message) {
            const errorDiv = document.getElementById('licenseError');
            const errorText = document.getElementById('licenseErrorText');
            errorText.textContent = message;
            errorDiv.style.display = 'block';
            
            setTimeout(() => {
                errorDiv.style.display = 'none';
            }, 5000);
        }
        

        function initSystem() {
            loadData();
            
            // v7.5: License activation FIRST, then setup
            if (!systemData.license) {
                // No license - show activation screen
                document.getElementById('licenseActivation').classList.add('active');
                return;
            }
            
            // Has license but setup incomplete - show setup wizard  
            if (!systemData.setupComplete) {
                document.getElementById('setupWizard').classList.add('active');
                return;
            }
            
            // v7.4: Validate license is not expired
            if (systemData.license && systemData.license.expiry) {
                const expiryDate = new Date(systemData.license.expiry);
                const today = new Date();
                
                if (expiryDate < today) {
                    alert('Î— Î¬Î´ÎµÎ¹Î± Ï‡ÏÎ®ÏƒÎ·Ï‚ Î­Ï‡ÎµÎ¹ Î»Î®Î¾ÎµÎ¹! Î Î±ÏÎ±ÎºÎ±Î»Ï ÎµÏ€Î¹ÎºÎ¿Î¹Î½Ï‰Î½Î®ÏƒÏ„Îµ Î¼Îµ Ï„Î¿Î½ Ï€Î¬ÏÎ¿Ï‡Î¿.');
                    systemData.license = null;
                    systemData.setupComplete = false;
                    saveData();
                    document.getElementById('setupWizard').classList.add('active');
                    return;
                }
            }
            
            // v7.4: Validate license has required fields
            if (!systemData.license || !systemData.license.key || !systemData.license.businessName) {
                alert('Î”ÎµÎ½ Î²ÏÎ­Î¸Î·ÎºÎµ Î­Î³ÎºÏ…ÏÎ· Î¬Î´ÎµÎ¹Î± Ï‡ÏÎ®ÏƒÎ·Ï‚!');
                systemData.license = null;
                systemData.setupComplete = false;
                saveData();
                document.getElementById('setupWizard').classList.add('active');
                return;
            }
            
            startClock();
            
            // v7.4: Ensure only dashboard tab is visible
            const allTabs = document.querySelectorAll('.tab-content');
            allTabs.forEach(tab => {
                tab.style.display = 'none';
                tab.classList.remove('active');
            });
            
            const dashboardTab = document.getElementById('dashboard');
            if (dashboardTab) {
                dashboardTab.style.display = 'block';
                dashboardTab.classList.add('active');
            }
            
            updateDashboard();
            startAutoRecording();
            startAutoBackup();
        }

        // License Management
        let licenseClickTimer;
        function licenseClick() {
            systemData.licenseClicks++;
            clearTimeout(licenseClickTimer);
            
            if (systemData.licenseClicks >= 5) {
                systemData.licenseClicks = 0;
                document.getElementById('licenseModal').classList.add('active');
            }
            
            licenseClickTimer = setTimeout(() => {
                systemData.licenseClicks = 0;
            }, 2000);
        }

        // ============================================
        // LICENSE VALIDATION (UPDATED FOR NEW FORMAT)
        // ============================================
        
        // Decryption function (matches generator)
        function decryptData(encryptedHex, key) {
            try {
                const encoder = new TextEncoder();
                const keyBytes = encoder.encode(key);
                
                // Convert hex to bytes
                const encryptedBytes = [];
                for (let i = 0; i < encryptedHex.length; i += 2) {
                    encryptedBytes.push(parseInt(encryptedHex.substr(i, 2), 16));
                }
                
                // XOR decryption
                const decryptedBytes = [];
                for (let i = 0; i < encryptedBytes.length; i++) {
                    decryptedBytes.push(encryptedBytes[i] ^ keyBytes[i % keyBytes.length]);
                }
                
                // Convert bytes to string
                const decoder = new TextDecoder();
                return decoder.decode(new Uint8Array(decryptedBytes));
            } catch (e) {
                console.error('Decryption error:', e);
                return null;
            }
        }

        function activateLicense() {
            const key = document.getElementById('licenseKey').value.trim();
            
            if (!key) {
                alert('Î Î±ÏÎ±ÎºÎ±Î»Ï ÎµÎ¹ÏƒÎ¬Î³ÎµÏ„Îµ Î­Î³ÎºÏ…ÏÎ¿ ÎºÎ»ÎµÎ¹Î´Î¯ Î¬Î´ÎµÎ¹Î±Ï‚');
                return;
            }
            
            // New format: ENCRYPTED-MMYY-SALT
            const parts = key.split('-');
            if (parts.length !== 3) {
                alert('ÎœÎ· Î­Î³ÎºÏ…ÏÎ¿ ÎºÎ»ÎµÎ¹Î´Î¯ Î¬Î´ÎµÎ¹Î±Ï‚');
                return;
            }
            
            const [encryptedData, mmyy, salt] = parts;
            
            // Decrypt the data
            const secretKey = 'HygienePro2025SecretKey!@#';
            const decrypted = decryptData(encryptedData, secretKey);
            
            if (!decrypted) {
                alert('ÎœÎ· Î­Î³ÎºÏ…ÏÎ¿ ÎºÎ»ÎµÎ¹Î´Î¯ Î¬Î´ÎµÎ¹Î±Ï‚');
                return;
            }
            
            // Parse decrypted data: name|phone|package|expiryDate
            const dataParts = decrypted.split('|');
            if (dataParts.length !== 4) {
                alert('ÎœÎ· Î­Î³ÎºÏ…ÏÎ¿ ÎºÎ»ÎµÎ¹Î´Î¯ Î¬Î´ÎµÎ¹Î±Ï‚');
                return;
            }
            
            const [businessName, phone, packageType, expiryDateStr] = dataParts;
            
            // Parse expiry date
            const expiryDate = new Date(expiryDateStr);
            const today = new Date();
            
            if (expiryDate < today) {
                alert('Î‘Ï…Ï„ÏŒ Ï„Î¿ ÎºÎ»ÎµÎ¹Î´Î¯ Î­Ï‡ÎµÎ¹ Î»Î®Î¾ÎµÎ¹!');
                return;
            }
            
            // Package name mapping
            const packageNames = {
                'demo': 'DEMO',
                'monthly': 'ÎœÎ·Î½Î¹Î±Î¯Î¿',
                'quarterly': 'Î¤ÏÎ¯Î¼Î·Î½Î¿',
                'biannual': 'Î•Î¾Î¬Î¼Î·Î½Î¿',
                'annual': 'Î•Ï„Î®ÏƒÎ¹Î¿',
                'lifetime': 'Lifetime'
            };
            
            systemData.license = {
                key: key,
                type: packageNames[packageType] || packageType.toUpperCase(),
                businessName: businessName,
                phone: phone,
                activated: today.toISOString(),
                expiry: expiryDate.toISOString()
            };
            
            systemData.businessInfo.name = systemData.license.businessName;
            systemData.businessInfo.phone = systemData.license.phone;
            
            saveData();
            closeLicenseModal();
            updateLicenseDisplay();
            
            if (!systemData.setupComplete) {
                document.getElementById('setupWizard').classList.add('active');
            }
            
            alert('Î†Î´ÎµÎ¹Î± ÎµÎ½ÎµÏÎ³Î¿Ï€Î¿Î¹Î®Î¸Î·ÎºÎµ ÎµÏ€Î¹Ï„Ï…Ï‡ÏÏ‚! Î›Î®Î³ÎµÎ¹: ' + expiryDate.toLocaleDateString('el-GR'));
        }

        function updateLicenseDisplay() {
            if (!systemData.license) {
                document.getElementById('licenseStatus').textContent = 'âš ï¸ Î†Î´ÎµÎ¹Î± Î‘Î½ÎµÎ½ÎµÏÎ³Î®';
                return;
            }
            
            const expiry = new Date(systemData.license.expiry);
            const today = new Date();
            const daysLeft = Math.floor((expiry - today) / (1000 * 60 * 60 * 24));
            
            if (daysLeft < 0) {
                document.getElementById('licenseStatus').textContent = 'âŒ Î†Î´ÎµÎ¹Î± ÎˆÎ»Î·Î¾Îµ';
            } else if (daysLeft < 30) {
                document.getElementById('licenseStatus').textContent = `âš ï¸ Î›Î®Î¾Î· ÏƒÎµ ${daysLeft} Î·Î¼Î­ÏÎµÏ‚`;
            } else {
                document.getElementById('licenseStatus').textContent = 'âœ“ Î†Î´ÎµÎ¹Î± Î•Î½ÎµÏÎ³Î®';
            }
        }

        function closeLicenseModal() {
            document.getElementById('licenseModal').classList.remove('active');
        }

        // Setup Wizard
        function nextStep(step) {
            document.querySelectorAll('.wizard-step').forEach(s => s.classList.remove('active'));
            document.getElementById(`step${step}`).classList.add('active');
        }

        function addEquipmentToSetup() {
            const name = document.getElementById('tempEquipmentName').value.trim();
            const type = document.getElementById('tempEquipmentType').value;
            
            if (!name) {
                alert('Î Î±ÏÎ±ÎºÎ±Î»Ï ÎµÎ¹ÏƒÎ¬Î³ÎµÏ„Îµ ÏŒÎ½Î¿Î¼Î± ÎµÎ¾Î¿Ï€Î»Î¹ÏƒÎ¼Î¿Ï');
                return;
            }
            
            tempEquipmentList.push({
                id: Date.now() + Math.random(),
                name: name,
                type: type
            });
            
            document.getElementById('tempEquipmentName').value = '';
            document.getElementById('tempEquipmentType').value = 'fridge';
            
            updateSetupEquipmentList();
        }

        function updateSetupEquipmentList() {
            const container = document.getElementById('setupEquipmentList');
            
            if (tempEquipmentList.length === 0) {
                container.innerHTML = '<p style="color: #999; text-align: center;">Î”ÎµÎ½ Î­Ï‡ÎµÏ„Îµ Ï€ÏÎ¿ÏƒÎ¸Î­ÏƒÎµÎ¹ ÎµÎ¾Î¿Ï€Î»Î¹ÏƒÎ¼ÏŒ Î±ÎºÏŒÎ¼Î±</p>';
                return;
            }
            
            container.innerHTML = tempEquipmentList.map((eq, index) => {
                const typeLabel = eq.type === 'fridge' ? 'Î¨Ï…Î³ÎµÎ¯Î¿' : eq.type === 'freezer' ? 'ÎšÎ±Ï„Î¬ÏˆÏ…Î¾Î·' : 'Î’Î¹Ï„ÏÎ¯Î½Î±';
                return `
                    <div style="display: flex; align-items: center; justify-content: space-between; background: white; padding: 10px 15px; border-radius: 6px; border: 1px solid #ddd;">
                        <div>
                            <strong>${eq.name}</strong>
                            <span style="color: #666; margin-left: 10px;">(${typeLabel})</span>
                        </div>
                        <button onclick="removeEquipmentFromSetup(${index})" style="background: #dc3545; color: white; border: none; padding: 5px 10px; border-radius: 4px; cursor: pointer;">
                            Î‘Ï†Î±Î¯ÏÎµÏƒÎ·
                        </button>
                    </div>
                `;
            }).join('');
        }

        function removeEquipmentFromSetup(index) {
            tempEquipmentList.splice(index, 1);
            updateSetupEquipmentList();
        }
function updateScheduleBasedOnType() {
    const type = document.getElementById('businessType').value;
    
    // Î¤ÏÏ€Î¿Î¹ Î¼Îµ ÏƒÏ…Î½ÎµÏ‡ÏŒÎ¼ÎµÎ½Î¿ Ï‰ÏÎ¬ÏÎ¹Î¿ (ÎµÏƒÏ„Î¯Î±ÏƒÎ·)
    const continuousTypes = ['restaurant', 'fastfood', 'cafe'];
    
    if (continuousTypes.includes(type)) {
        // Î•ÏƒÏ„Î¯Î±ÏƒÎ·: Î£Ï…Î½ÎµÏ‡ÏŒÎ¼ÎµÎ½Î¿ Ï‰ÏÎ¬ÏÎ¹Î¿
        document.getElementById('openMorning').value = '11:00';
        document.getElementById('closeMorning').value = '16:00';
        document.getElementById('closeEvening').value = '24:00';
        
        // Î‘Ï€ÏŒÎºÏÏ…ÏˆÎ· openAfternoon (Î´ÎµÎ½ Ï‡ÏÎµÎ¹Î¬Î¶ÎµÏ„Î±Î¹)
        const afternoonDiv = document.getElementById('openAfternoon')?.parentElement;
        if (afternoonDiv) afternoonDiv.style.display = 'none';
    } else {
        // ÎšÏÎµÎ¿Ï€Ï‰Î»ÎµÎ¯Î¿/Î¤Ï…ÏÎ¿Ï€Ï‰Î»ÎµÎ¯Î¿ ÎºÎ»Ï€: Î”Î¹Ï€Î»ÏŒ Ï‰ÏÎ¬ÏÎ¹Î¿
        document.getElementById('openMorning').value = '08:00';
        document.getElementById('closeMorning').value = '14:00';
        document.getElementById('closeEvening').value = '20:00';
        
        // Î•Î¼Ï†Î¬Î½Î¹ÏƒÎ· openAfternoon
        const afternoonDiv = document.getElementById('openAfternoon')?.parentElement;
        if (afternoonDiv) afternoonDiv.style.display = 'block';
    }
}
        function completeSetup() {
            systemData.businessInfo.years = parseInt(document.getElementById('businessYears').value);
            systemData.businessInfo.type = document.getElementById('businessType').value;
            
           const continuousTypes = ['restaurant', 'fastfood', 'cafe'];
const isContinuous = continuousTypes.includes(systemData.businessInfo.type);

systemData.businessInfo.hours = {
    openMorning: document.getElementById('openMorning').value,
    closeMorning: document.getElementById('closeMorning').value,
    openAfternoon: isContinuous ? null : '20:00',
    closeEvening: document.getElementById('closeEvening').value
};

systemData.businessInfo.isContinuous = isContinuous;
            const days = [
                { day: 1, name: 'mon' },
                { day: 2, name: 'tue' },
                { day: 3, name: 'wed' },
                { day: 4, name: 'thu' },
                { day: 5, name: 'fri' },
                { day: 6, name: 'sat' },
                { day: 7, name: 'sun' }
            ];
            
            days.forEach(d => {
                const morning = document.getElementById(`day-${d.name}-morning`).checked;
                const afternoon = document.getElementById(`day-${d.name}-afternoon`).checked;
                
                if (morning || afternoon) {
                    systemData.businessInfo.workingDays.push({
                        day: d.day,
                        morning: morning,
                        afternoon: afternoon
                    });
                }
            });
            
            if (tempEquipmentList.length === 0) {
                alert('Î Î±ÏÎ±ÎºÎ±Î»Ï Ï€ÏÎ¿ÏƒÎ¸Î­ÏƒÏ„Îµ Ï„Î¿Ï…Î»Î¬Ï‡Î¹ÏƒÏ„Î¿Î½ Î­Î½Î±Î½ ÎµÎ¾Î¿Ï€Î»Î¹ÏƒÎ¼ÏŒ');
                return;
            }
            
            systemData.equipment = [...tempEquipmentList];
            tempEquipmentList = [];
            
            systemData.setupComplete = true;
            saveData();
            updateEquipmentList();
            
            document.getElementById('setupWizard').classList.remove('active');
            
            generateHistoricalData();
            initSystem();
        }

        function generateHistoricalData() {
            const startDate = new Date();
            startDate.setMonth(startDate.getMonth() - 6);
            
            const today = new Date();
            
            for (let d = new Date(startDate); d < today; d.setDate(d.getDate() + 1)) {
                const dateStr = formatDate(d);
                const jsDayOfWeek = d.getDay();
                const dayOfWeek = jsDayOfWeek === 0 ? 7 : jsDayOfWeek;
                
                if (HOLIDAYS.includes(dateStr)) {
                    continue;
                }
                
                const daySchedule = systemData.businessInfo.workingDays.find(day => day.day === dayOfWeek);
                
                if (!daySchedule) {
                    continue;
                }
                
                const times = [];

if (daySchedule.morning) {
    times.push(
        systemData.businessInfo.hours.openMorning,
        systemData.businessInfo.hours.closeMorning
    );
}

if (daySchedule.afternoon) {
    // Î“Î¹Î± ÎºÏÎµÎ¿Ï€Ï‰Î»ÎµÎ¯Î±: Ï€ÏÎ¿ÏƒÎ¸Î®ÎºÎ· Î¬Î½Î¿Î¹Î³Î¼Î± Î±Ï€ÏŒÎ³ÎµÏ…Î¼Î±
    if (systemData.businessInfo.hours.openAfternoon) {
        times.push(systemData.businessInfo.hours.openAfternoon);
    } else {
        // Î“Î¹Î± ÎµÏƒÏ„Î¯Î±ÏƒÎ·: ÎºÎ»ÎµÎ¯ÏƒÎ¹Î¼Î¿
        times.push(systemData.businessInfo.hours.closeEvening);
    }
}              
                times.forEach(time => {
                    systemData.equipment.forEach(eq => {
                        let temp;
                       if (eq.type === 'freezer') {
    temp = (Math.random() * 2 - 20).toFixed(1);
} else {
    temp = (Math.random() * 2 + 1.5).toFixed(1);
}                        
                        systemData.temperatures.push({
                            id: Math.random(),
                            date: dateStr,
                            time: time,
                            equipmentId: eq.id,
                            equipmentName: eq.name,
                            temperature: temp,
                            auto: true
                        });
                    });
                });
                
                if (daySchedule.afternoon) {
    const continuousTypes = ['restaurant', 'fastfood', 'cafe'];
    const isContinuous = continuousTypes.includes(systemData.businessInfo.type);
    
    let cleaningTime;
    if (isContinuous) {
        cleaningTime = systemData.businessInfo.hours.closeEvening;
    } else {
        cleaningTime = systemData.businessInfo.hours.openAfternoon || '20:00';
    }
    
    systemData.cleaning.push({
        id: Math.random(),
        date: dateStr,
        time: cleaningTime,
        general: 'âœ“',
        disinfection: 'âœ“',
        showcases: 'âœ“',
        tools: 'âœ“',
        auto: true
    });
}         
 }
            
            saveData();
            updateDashboard();
        }

        function startClock() {
            updateClock();
            setInterval(updateClock, 1000);
        }

        function updateClock() {
            const now = new Date();
            document.getElementById('clock').textContent = now.toTimeString().slice(0, 5);
            document.getElementById('date').textContent = now.toLocaleDateString('el-GR');
        }

        function startAutoRecording() {
            checkAndRecord();
            setInterval(checkAndRecord, 60000);
        }

function checkAndRecord() {
    const lastCleanup = localStorage.getItem('lastCleanup');
    const todayForCleanup = formatDate(new Date());
    
    if (lastCleanup !== todayForCleanup) {
        cleanupOldRecords();
        localStorage.setItem('lastCleanup', todayForCleanup);
    }

    // Î£Ï…Î¼Ï€Î»Î®ÏÏ‰ÏƒÎ· Ï‡Î±Î¼Î­Î½Ï‰Î½ ÎºÎ±Ï„Î±Î³ÏÎ±Ï†ÏÎ½ (Ï„ÎµÎ»ÎµÏ…Ï„Î±Î¯ÎµÏ‚ 90 Î¼Î­ÏÎµÏ‚)
    const today = new Date();
    for (let i = 1; i <= 90; i++) {
        const pastDate = new Date();
        pastDate.setDate(today.getDate() - i);
        const pastDateStr = formatDate(pastDate);
        
        if (HOLIDAYS.includes(pastDateStr)) continue;
        
        const jsDayOfWeek = pastDate.getDay();
        const dayOfWeek = jsDayOfWeek === 0 ? 7 : jsDayOfWeek;
        const daySchedule = systemData.businessInfo.workingDays.find(d => d.day === dayOfWeek);
        
        if (!daySchedule) continue;
        
        // ÎÏÎµÏ‚ ÎºÎ±Ï„Î±Î³ÏÎ±Ï†ÏÎ½
        const recordingTimes = [];
        if (daySchedule.morning) {
            recordingTimes.push(
                systemData.businessInfo.hours.openMorning,
                systemData.businessInfo.hours.closeMorning
            );
        }
        if (daySchedule.afternoon && systemData.businessInfo.hours.openAfternoon) {
            recordingTimes.push(systemData.businessInfo.hours.openAfternoon);
        }
        
        // Î£Ï…Î¼Ï€Î»Î®ÏÏ‰ÏƒÎ· Î¸ÎµÏÎ¼Î¿ÎºÏÎ±ÏƒÎ¹ÏÎ½
        recordingTimes.forEach(time => {
            const exists = systemData.temperatures.some(t => 
                t.date === pastDateStr && t.time === time
            );
            
            if (!exists) {
                systemData.equipment.forEach(eq => {
                    let temp;
                    if (eq.type === 'freezer') {
                        temp = (Math.random() * 2 - 20).toFixed(1);
                    } else {
                        temp = (Math.random() * 2 + 1.5).toFixed(1);
                    }
                    
                    systemData.temperatures.push({
                        id: Date.now() + Math.random(),
                        date: pastDateStr,
                        time: time,
                        equipmentId: eq.id,
                        equipmentName: eq.name,
                        temperature: temp,
                        auto: true
                    });
                });
            }
        });
        
        // Î£Ï…Î¼Ï€Î»Î®ÏÏ‰ÏƒÎ· ÎºÎ±Î¸Î±ÏÎ¹ÏŒÏ„Î·Ï„Î±Ï‚ - Î”Î™ÎŸÎ¡Î˜Î©ÎœÎ•ÎÎŸ
        const cleanExists = systemData.cleaning.some(c => c.date === pastDateStr);
        
        if (!cleanExists) {
            const continuousTypes = ['restaurant', 'fastfood', 'cafe'];
            const isContinuous = continuousTypes.includes(systemData.businessInfo.type);
            
            let cleaningTime;
            if (isContinuous) {
                cleaningTime = systemData.businessInfo.hours.closeEvening;
            } else {
                if (daySchedule.afternoon && systemData.businessInfo.hours.openAfternoon) {
                    cleaningTime = systemData.businessInfo.hours.openAfternoon;
                } else {
                    cleaningTime = systemData.businessInfo.hours.closeMorning;
                }
            }
            
            systemData.cleaning.push({
                id: Date.now() + Math.random(),
                date: pastDateStr,
                time: cleaningTime,
                general: 'âœ“',
                disinfection: 'âœ“',
                showcases: 'âœ“',
                tools: 'âœ“',
                auto: true
            });
        }
    }
    
    const now = new Date();
    const dateStr = formatDate(now);
    const currentHour = now.getHours();
    const currentMinute = now.getMinutes();
    const jsDayOfWeek = now.getDay();
    const dayOfWeek = jsDayOfWeek === 0 ? 7 : jsDayOfWeek;
    
    if (HOLIDAYS.includes(dateStr)) {
        return;
    }
    
    const daySchedule = systemData.businessInfo.workingDays.find(d => d.day === dayOfWeek);
    
    if (!daySchedule) {
        return;
    }
    
    const recordingTimes = [];
    
    if (daySchedule.morning) {
        recordingTimes.push(
            { hour: parseInt(systemData.businessInfo.hours.openMorning.split(':')[0]), time: systemData.businessInfo.hours.openMorning },
            { hour: parseInt(systemData.businessInfo.hours.closeMorning.split(':')[0]), time: systemData.businessInfo.hours.closeMorning }
        );
    }
    
    if (daySchedule.afternoon && systemData.businessInfo.hours.openAfternoon) {
        recordingTimes.push(
            { hour: parseInt(systemData.businessInfo.hours.openAfternoon.split(':')[0]), time: systemData.businessInfo.hours.openAfternoon }
        );
    }
    
    recordingTimes.forEach(slot => {
        if (currentHour >= slot.hour) {
            const alreadyRecorded = systemData.temperatures.some(t => 
                t.date === dateStr && t.time === slot.time
            );
            
            if (alreadyRecorded) return;
            
            systemData.equipment.forEach(eq => {
                let temp;
                if (eq.type === 'freezer') {
                    temp = (Math.random() * 2 - 20).toFixed(1);
                } else {
                    temp = (Math.random() * 2 + 1.5).toFixed(1);
                }
                
                systemData.temperatures.push({
                    id: Date.now() + Math.random(),
                    date: dateStr,
                    time: slot.time,
                    equipmentId: eq.id,
                    equipmentName: eq.name,
                    temperature: temp,
                    auto: true
                });
            });
        }
    });
    
    // ÎšÎ±Î¸Î±ÏÎ¹ÏƒÎ¼ÏŒÏ‚ - Î”Î™ÎŸÎ¡Î˜Î©ÎœÎ•ÎÎŸ
    const continuousTypes = ['restaurant', 'fastfood', 'cafe'];
    const isContinuous = continuousTypes.includes(systemData.businessInfo.type);
    
    let cleaningTime;
    if (isContinuous) {
        cleaningTime = systemData.businessInfo.hours.closeEvening;
    } else {
        const todaySchedule = systemData.businessInfo.workingDays.find(wd => wd.day === dayOfWeek);
        
        if (todaySchedule && todaySchedule.afternoon && systemData.businessInfo.hours.openAfternoon) {
            cleaningTime = systemData.businessInfo.hours.openAfternoon;
        } else {
            cleaningTime = systemData.businessInfo.hours.closeMorning;
        }
    }
    
    const cleaningHour = parseInt(cleaningTime.split(':')[0]);
    
    if (currentHour >= cleaningHour) {
        const cleanExists = systemData.cleaning.some(c => c.date === dateStr);
        if (!cleanExists) {
            systemData.cleaning.push({
                id: Date.now(),
                date: dateStr,
                time: cleaningTime,
                general: 'âœ“',
                disinfection: 'âœ“',
                showcases: 'âœ“',
                tools: 'âœ“',
                auto: true
            });
        }
    }
    
    saveData();
    updateDashboard();
}
        function toggleArchiveMode() {
            systemData.archiveMode = !systemData.archiveMode;
            document.getElementById('archiveIndicator').classList.toggle('active', systemData.archiveMode);
            updateTables();
        }

        function showTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.style.display = 'none';
                tab.classList.remove('active');
            });
            
            document.querySelectorAll('.nav-button').forEach(btn => {
                btn.classList.remove('active');
            });
            
            const selectedTab = document.getElementById(tabName);
            if (selectedTab) {
                selectedTab.style.display = 'block';
                selectedTab.classList.add('active');
            }
            
            if (window.event && window.event.target) {
                window.event.target.classList.add('active');
            }
            
            updateTables();
        }

        function updateDashboard() {
            const today = new Date();
            const dateStr = formatDate(today);
            
            document.getElementById('totalRecords').textContent = 
                systemData.temperatures.length + systemData.cleaning.length;
            
            const todayTemps = systemData.temperatures.filter(t => t.date === dateStr);
            document.getElementById('todayTemp').textContent = todayTemps.length;
            
            document.getElementById('equipmentTotal').textContent = systemData.equipment.length;
            
            const firstRecord = systemData.temperatures[0];
            if (firstRecord) {
                const firstDate = new Date(firstRecord.date);
                const daysActive = Math.floor((today - firstDate) / (1000 * 60 * 60 * 24));
                document.getElementById('daysActive').textContent = daysActive;
            }
            
            updateLicenseDisplay();
            updateTables();
        }

        function updateTables() {
            updateTemperatureTable();
            updateCleaningTable();
            updateTodayRecords();
            updateEquipmentList();
            updateStaffTable();
            updatePestTable();
        }

        function updateTemperatureTable() {
            const tbody = document.getElementById('tempTable');
            if (!tbody) return;
            
            let temps = [...systemData.temperatures];
            
            if (systemData.archiveMode) {
                const now = new Date();
                const currentTime = now.toTimeString().slice(0, 5);
                const today = formatDate(now);
                
                temps = temps.filter(t => {
                    if (t.date < today) return true;
                    if (t.date === today && t.time <= currentTime) return true;
                    return false;
                });
            }
            
            if (tempFilterFrom && tempFilterTo) {
                temps = temps.filter(t => {
                    const dateStr = t.date.split('/').reverse().join('-');
                    return dateStr >= tempFilterFrom && dateStr <= tempFilterTo;
                });
                temps = temps.reverse();
            } else {
                temps = temps.slice(-50).reverse();
            }
            
            if (temps.length === 0) {
                tbody.innerHTML = '<tr><td colspan="5" style="text-align: center; color: #6c757d;">Î”ÎµÎ½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ ÎºÎ±Ï„Î±Î³ÏÎ±Ï†Î­Ï‚</td></tr>';
                return;
            }
            
            tbody.innerHTML = temps.map(t => {
const temp = parseFloat(t.temperature);
let status, statusColor;

if (temp >= -22 && temp <= -18) {
    status = 'âœ“ ÎšÎ±Î½Î¿Î½Î¹ÎºÎ®';
    statusColor = '#28a745';
} else if (temp >= 1 && temp <= 4) {
    status = 'âœ“ ÎšÎ±Î½Î¿Î½Î¹ÎºÎ®';
    statusColor = '#28a745';
} else {
    status = 'âš ï¸ Î•ÎºÏ„ÏŒÏ‚ Î¿ÏÎ¯Ï‰Î½';
    statusColor = '#dc3545';
}
                return `
                    <tr>
                        <td>${t.date}</td>
                        <td>${t.time}</td>
                        <td>${t.equipmentName}</td>
                        <td>${t.temperature}Â°C</td>
                        <td style="color: ${statusColor};">${status}</td>
                    </tr>
                `;
            }).join('');
        }

        function updateCleaningTable() {
            const tbody = document.getElementById('cleanTable');
            if (!tbody) return;
            
            let cleaning = [...systemData.cleaning];
            
            if (systemData.archiveMode) {
                const now = new Date();
                const today = formatDate(now);
                const currentTime = now.toTimeString().slice(0, 5);
                
                cleaning = cleaning.filter(c => {
                    if (c.date < today) return true;
                    if (c.date === today && currentTime >= '20:00') return true;
                    return false;
                });
            }
            
            if (cleanFilterFrom && cleanFilterTo) {
                cleaning = cleaning.filter(c => {
                    const dateStr = c.date.split('/').reverse().join('-');
                    return dateStr >= cleanFilterFrom && dateStr <= cleanFilterTo;
                });
                cleaning = cleaning.reverse();
            } else {
                cleaning = cleaning.slice(-30).reverse();
            }
            
            if (cleaning.length === 0) {
                tbody.innerHTML = '<tr><td colspan="6" style="text-align: center; color: #6c757d;">Î”ÎµÎ½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ ÎºÎ±Ï„Î±Î³ÏÎ±Ï†Î­Ï‚</td></tr>';
                return;
            }
            
            tbody.innerHTML = cleaning.map(c => `
                <tr>
                    <td>${c.date}</td>
                    <td>${c.time}</td>
                    <td style="color: #28a745;">${c.general}</td>
                    <td style="color: #28a745;">${c.disinfection}</td>
                    <td style="color: #28a745;">${c.showcases}</td>
                    <td style="color: #28a745;">${c.tools}</td>
                </tr>
            `).join('');
        }

        function updateTodayRecords() {
            const tbody = document.getElementById('todayRecords');
            const today = formatDate(new Date());
            
            const todayTemps = systemData.temperatures.filter(t => t.date === today);
            const todayCleaning = systemData.cleaning.filter(c => c.date === today);
            
            if (todayTemps.length === 0 && todayCleaning.length === 0) {
                tbody.innerHTML = '<tr><td colspan="3" style="text-align: center; color: #6c757d;">Î”ÎµÎ½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ ÎºÎ±Ï„Î±Î³ÏÎ±Ï†Î­Ï‚ Î±ÎºÏŒÎ¼Î±</td></tr>';
                return;
            }
            
            let records = [];
            
            todayTemps.forEach(t => {
                records.push({
                    time: t.time,
                    type: `Î˜ÎµÏÎ¼Î¿ÎºÏÎ±ÏƒÎ¯Î± ${t.equipmentName}`,
                    status: 'âœ“'
                });
            });
            
            todayCleaning.forEach(c => {
                records.push({
                    time: c.time,
                    type: 'ÎšÎ±Î¸Î±ÏÎ¹ÏƒÎ¼ÏŒÏ‚',
                    status: 'âœ“'
                });
            });
            
            records.sort((a, b) => a.time.localeCompare(b.time));
            
            tbody.innerHTML = records.map(r => `
                <tr>
                    <td>${r.time}</td>
                    <td>${r.type}</td>
                    <td style="color: #28a745;">${r.status}</td>
                </tr>
            `).join('');
        }

        function addEquipment() {
            const name = document.getElementById('eqName').value.trim();
            const type = document.getElementById('eqType').value;
            
            if (!name) {
                alert('Î Î±ÏÎ±ÎºÎ±Î»Ï ÎµÎ¹ÏƒÎ¬Î³ÎµÏ„Îµ ÏŒÎ½Î¿Î¼Î± ÎµÎ¾Î¿Ï€Î»Î¹ÏƒÎ¼Î¿Ï');
                return;
            }
            
            systemData.equipment.push({
                id: Date.now(),
                name: name,
                type: type
            });
            
            document.getElementById('eqName').value = '';
            saveData();
            updateEquipmentList();
            updateDashboard();
        }

        function updateEquipmentList() {
            const container = document.getElementById('equipmentList');
            
            if (systemData.equipment.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: #6c757d;">Î”ÎµÎ½ Ï…Ï€Î¬ÏÏ‡ÎµÎ¹ ÎµÎ¾Î¿Ï€Î»Î¹ÏƒÎ¼ÏŒÏ‚</p>';
                return;
            }
            
            container.innerHTML = systemData.equipment.map(eq => `
                <div class="equipment-card">
                    <h4>${eq.name}</h4>
                    <p style="color: #6c757d; margin: 10px 0;">${getEquipmentType(eq.type)}</p>
                    <button class="btn btn-danger" onclick="removeEquipment(${eq.id})">Î‘Î¦Î‘Î™Î¡Î•Î£Î—</button>
                </div>
            `).join('');
        }

        function getEquipmentType(type) {
            const types = {
                'fridge': 'Î¨Ï…Î³ÎµÎ¯Î¿',
                'freezer': 'ÎšÎ±Ï„Î¬ÏˆÏ…Î¾Î·',
                'display': 'Î’Î¹Ï„ÏÎ¯Î½Î±',
                'other': 'Î†Î»Î»Î¿'
            };
            return types[type] || type;
        }

        function removeEquipment(id) {
            if (confirm('Î•Ï€Î¹Î²ÎµÎ²Î±Î¯Ï‰ÏƒÎ· Î±Ï†Î±Î¯ÏÎµÏƒÎ·Ï‚;')) {
                systemData.equipment = systemData.equipment.filter(e => e.id !== id);
                saveData();
                updateEquipmentList();
                updateDashboard();
            }
        }

        function addStaff() {
            const name = document.getElementById('staffName').value.trim();
            const role = document.getElementById('staffRole').value.trim();
            const health = document.getElementById('staffHealth').value;
            const efet = document.getElementById('staffEfet').value;
            
            if (!name || !role) {
                alert('Î Î±ÏÎ±ÎºÎ±Î»Ï ÏƒÏ…Î¼Ï€Î»Î·ÏÏÏƒÏ„Îµ ÏŒÎ½Î¿Î¼Î± ÎºÎ±Î¹ Î¸Î­ÏƒÎ·');
                return;
            }
            
            systemData.staff.push({
                id: Date.now(),
                name: name,
                role: role,
                healthCert: health,
                efetCert: efet
            });
            
            document.getElementById('staffName').value = '';
            document.getElementById('staffRole').value = '';
            document.getElementById('staffHealth').value = '';
            document.getElementById('staffEfet').value = '';
            
            saveData();
            updateStaffTable();
        }

        function updateStaffTable() {
            const tbody = document.getElementById('staffTable');
            
            if (systemData.staff.length === 0) {
                tbody.innerHTML = '<tr><td colspan="5" style="text-align: center; color: #6c757d;">Î”ÎµÎ½ Î­Ï‡ÎµÎ¹ ÎºÎ±Ï„Î±Ï‡Ï‰ÏÎ·Î¸ÎµÎ¯ Ï€ÏÎ¿ÏƒÏ‰Ï€Î¹ÎºÏŒ</td></tr>';
                return;
            }
            
            tbody.innerHTML = systemData.staff.map(s => `
                <tr>
                    <td>${s.name}</td>
                    <td>${s.role}</td>
                    <td>${s.healthCert ? new Date(s.healthCert).toLocaleDateString('el-GR') : '-'}</td>
                    <td>${s.efetCert ? new Date(s.efetCert).toLocaleDateString('el-GR') : '-'}</td>
                    <td>
                        <button class="btn btn-danger" onclick="removeStaff(${s.id})">âœ•</button>
                    </td>
                </tr>
            `).join('');
        }

        function removeStaff(id) {
            if (confirm('Î•Ï€Î¹Î²ÎµÎ²Î±Î¯Ï‰ÏƒÎ· Î´Î¹Î±Î³ÏÎ±Ï†Î®Ï‚;')) {
                systemData.staff = systemData.staff.filter(s => s.id !== id);
                saveData();
                updateStaffTable();
            }
        }

        function addPestControl() {
            const date = document.getElementById('pestDate').value;
            const type = document.getElementById('pestType').value;
            const company = document.getElementById('pestCompany').value.trim();
            
            if (!date || !type || !company) {
                alert('Î Î±ÏÎ±ÎºÎ±Î»Ï ÏƒÏ…Î¼Ï€Î»Î·ÏÏÏƒÏ„Îµ ÏŒÎ»Î± Ï„Î± Ï€ÎµÎ´Î¯Î±');
                return;
            }
            
            systemData.pestControl.push({
                id: Date.now(),
                date: date,
                type: type,
                company: company
            });
            
            document.getElementById('pestDate').value = '';
            document.getElementById('pestType').value = '';
            document.getElementById('pestCompany').value = '';
            
            saveData();
            updatePestTable();
        }

        function updatePestTable() {
            const tbody = document.getElementById('pestTable');
            
            if (systemData.pestControl.length === 0) {
                tbody.innerHTML = '<tr><td colspan="4" style="text-align: center; color: #6c757d;">Î”ÎµÎ½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ ÎºÎ±Ï„Î±Î³ÏÎ±Ï†Î­Ï‚</td></tr>';
                return;
            }
            
            tbody.innerHTML = systemData.pestControl.map(p => {
                const typeText = {
                    'insects': 'Î‘Ï€ÎµÎ½Ï„ÏŒÎ¼Ï‰ÏƒÎ·',
                    'rodents': 'ÎœÏ…Î¿ÎºÏ„Î¿Î½Î¯Î±',
                    'both': 'Î“ÎµÎ½Î¹ÎºÎ®'
                }[p.type] || p.type;
                
                return `
                    <tr>
                        <td>${new Date(p.date).toLocaleDateString('el-GR')}</td>
                        <td>${typeText}</td>
                        <td>${p.company}</td>
                        <td>
                            <button class="btn btn-danger" onclick="removePest(${p.id})">âœ•</button>
                        </td>
                    </tr>
                `;
            }).join('');
        }

        function removePest(id) {
            if (confirm('Î•Ï€Î¹Î²ÎµÎ²Î±Î¯Ï‰ÏƒÎ· Î´Î¹Î±Î³ÏÎ±Ï†Î®Ï‚;')) {
                systemData.pestControl = systemData.pestControl.filter(p => p.id !== id);
                saveData();
                updatePestTable();
            }
        }

        function manualTemperatureEntry() {
            const time = prompt('Î•Î¹ÏƒÎ¬Î³ÎµÏ„Îµ ÏÏÎ± (Ï€.Ï‡. 14:30):');
            if (!time) return;
            
            const date = formatDate(new Date());
            
            systemData.equipment.forEach(eq => {
                const temp = prompt(`Î˜ÎµÏÎ¼Î¿ÎºÏÎ±ÏƒÎ¯Î± ${eq.name} (Â°C):`);
                if (temp) {
                    systemData.temperatures.push({
                        id: Date.now() + Math.random(),
                        date: date,
                        time: time,
                        equipmentId: eq.id,
                        equipmentName: eq.name,
                        temperature: temp,
                        auto: false
                    });
                }
            });
            
            saveData();
            updateDashboard();
            alert('ÎšÎ±Ï„Î±Ï‡Ï‰ÏÎ®Î¸Î·ÎºÎµ ÎµÏ€Î¹Ï„Ï…Ï‡ÏÏ‚');
        }

        function saveSettings() {
            systemData.businessInfo.name = document.getElementById('businessName').value;
            systemData.businessInfo.phone = document.getElementById('businessPhone').value;
            systemData.businessInfo.address = document.getElementById('businessAddress').value;
            
            saveData();
            alert('ÎŸÎ¹ ÏÏ…Î¸Î¼Î¯ÏƒÎµÎ¹Ï‚ Î±Ï€Î¿Î¸Î·ÎºÎµÏÏ„Î·ÎºÎ±Î½');
        }

        function resetSystem() {
            const confirmed = confirm('Î Î¡ÎŸÎ£ÎŸÎ§Î—!\n\nÎ˜Î± Î´Î¹Î±Î³ÏÎ±Ï†Î¿ÏÎ½ ÎŸÎ›Î‘:\n- ÎšÎ±Ï„Î±Î³ÏÎ±Ï†Î­Ï‚\n- Î•Î¾Î¿Ï€Î»Î¹ÏƒÎ¼ÏŒÏ‚\n- Î†Î´ÎµÎ¹Î±\n- Î¡Ï…Î¸Î¼Î¯ÏƒÎµÎ¹Ï‚\n\nÎ•Î¯ÏƒÏ„Îµ Î£Î™Î“ÎŸÎ¥Î¡ÎŸÎ™;');
            
            if (!confirmed) return;
            
            const doubleConfirm = confirm('Î¤ÎµÎ»ÎµÏ…Ï„Î±Î¯Î± ÎµÏ€Î¹Î²ÎµÎ²Î±Î¯Ï‰ÏƒÎ· - Î Î›Î—Î¡Î—Î£ Î•Î Î‘ÎÎ‘Î¦ÎŸÎ¡Î‘;');
            
            if (doubleConfirm) {
                systemData = {
                    license: null,
                    businessInfo: {
                        name: '',
                        phone: '',
                        address: '',
                        type: '',
                        years: 0,
                        workingDays: []
                    },
                    equipment: [],
                    staff: [],
                    temperatures: [],
                    cleaning: [],
                    pestControl: [],
                    archiveMode: false,
                    licenseClicks: 0,
                    setupComplete: false
                };
                
                localStorage.clear();
                sessionStorage.clear();
                
                localStorage.setItem('hygienePro', JSON.stringify(systemData));
                
                alert('Î¤Î¿ ÏƒÏÏƒÏ„Î·Î¼Î± ÎµÏ€Î±Î½Î±Ï†Î­ÏÎ¸Î·ÎºÎµ!\n\nÎ— ÏƒÎµÎ»Î¯Î´Î± Î¸Î± Î±Î½Î±Î½ÎµÏ‰Î¸ÎµÎ¯.');
                
                location.href = location.pathname;
            }
        }

        function filterTemperatures() {
            tempFilterFrom = document.getElementById('tempDateFrom').value;
            tempFilterTo = document.getElementById('tempDateTo').value;
            
            if (!tempFilterFrom || !tempFilterTo) {
                alert('Î Î±ÏÎ±ÎºÎ±Î»Ï ÎµÏ€Î¹Î»Î­Î¾Ï„Îµ ÎºÎ±Î¹ Ï„Î¹Ï‚ Î´Ï…Î¿ Î·Î¼ÎµÏÎ¿Î¼Î·Î½Î¯ÎµÏ‚');
                return;
            }
            
            document.getElementById('tempFilterInfo').textContent = 
                `Î ÏÎ¿Î²Î¿Î»Î®: ${new Date(tempFilterFrom).toLocaleDateString('el-GR')} - ${new Date(tempFilterTo).toLocaleDateString('el-GR')}`;
            
            updateTemperatureTable();
        }

        function showAllTemperatures() {
            tempFilterFrom = null;
            tempFilterTo = null;
            document.getElementById('tempDateFrom').value = '';
            document.getElementById('tempDateTo').value = '';
            document.getElementById('tempFilterInfo').textContent = '';
            updateTemperatureTable();
        }

        function printFilteredTemperatures() {
            if (!tempFilterFrom || !tempFilterTo) {
                alert('Î Î±ÏÎ±ÎºÎ±Î»Ï ÎºÎ¬Î½ÎµÏ„Îµ Ï€ÏÏÏ„Î± Ï†Î¹Î»Ï„ÏÎ¬ÏÎ¹ÏƒÎ¼Î±');
                return;
            }
            
            let temps = systemData.temperatures.filter(t => {
                const dateStr = t.date.split('/').reverse().join('-');
                return dateStr >= tempFilterFrom && dateStr <= tempFilterTo;
            });
            
            temps.sort((a, b) => {
                if (a.date !== b.date) return a.date.localeCompare(b.date);
                return a.time.localeCompare(b.time);
            });
            
            printCustomReport('Î˜ÎµÏÎ¼Î¿ÎºÏÎ±ÏƒÎ¯ÎµÏ‚', temps, tempFilterFrom, tempFilterTo);
        }

        function filterCleaning() {
            cleanFilterFrom = document.getElementById('cleanDateFrom').value;
            cleanFilterTo = document.getElementById('cleanDateTo').value;
            
            if (!cleanFilterFrom || !cleanFilterTo) {
                alert('Î Î±ÏÎ±ÎºÎ±Î»Ï ÎµÏ€Î¹Î»Î­Î¾Ï„Îµ ÎºÎ±Î¹ Ï„Î¹Ï‚ Î´Ï…Î¿ Î·Î¼ÎµÏÎ¿Î¼Î·Î½Î¯ÎµÏ‚');
                return;
            }
            
            document.getElementById('cleanFilterInfo').textContent = 
                `Î ÏÎ¿Î²Î¿Î»Î®: ${new Date(cleanFilterFrom).toLocaleDateString('el-GR')} - ${new Date(cleanFilterTo).toLocaleDateString('el-GR')}`;
            
            updateCleaningTable();
        }

        function showAllCleaning() {
            cleanFilterFrom = null;
            cleanFilterTo = null;
            document.getElementById('cleanDateFrom').value = '';
            document.getElementById('cleanDateTo').value = '';
            document.getElementById('cleanFilterInfo').textContent = '';
            updateCleaningTable();
        }

        function printFilteredCleaning() {
            if (!cleanFilterFrom || !cleanFilterTo) {
                alert('Î Î±ÏÎ±ÎºÎ±Î»Ï ÎºÎ¬Î½ÎµÏ„Îµ Ï€ÏÏÏ„Î± Ï†Î¹Î»Ï„ÏÎ¬ÏÎ¹ÏƒÎ¼Î±');
                return;
            }
            
            let cleaning = systemData.cleaning.filter(c => {
                const dateStr = c.date.split('/').reverse().join('-');
                return dateStr >= cleanFilterFrom && dateStr <= cleanFilterTo;
            });
            
            cleaning.sort((a, b) => a.date.localeCompare(b.date));
            
            printCustomReport('ÎšÎ±Î¸Î±ÏÎ¹ÏŒÏ„Î·Ï„Î±', cleaning, cleanFilterFrom, cleanFilterTo);
        }

        function printCustomReport(type, data, dateFrom, dateTo) {
            const printWindow = window.open('', '_blank');
            
            let tableHTML = '';
            if (type === 'Î˜ÎµÏÎ¼Î¿ÎºÏÎ±ÏƒÎ¯ÎµÏ‚') {
                tableHTML = '<table><thead><tr><th>Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î±</th><th>ÎÏÎ±</th><th>Î•Î¾Î¿Ï€Î»Î¹ÏƒÎ¼ÏŒÏ‚</th><th>Î˜ÎµÏÎ¼Î¿ÎºÏÎ±ÏƒÎ¯Î±</th><th>ÎšÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ·</th></tr></thead><tbody>';
                data.forEach(t => {
                    const temp = parseFloat(t.temperature);
                    const status = temp > 4 ? 'Î¥ÏˆÎ·Î»Î®' : 'ÎšÎ±Î½Î¿Î½Î¹ÎºÎ®';
                    tableHTML += `<tr>
                        <td>${t.date}</td>
                        <td>${t.time}</td>
                        <td>${t.equipmentName}</td>
                        <td>${t.temperature}Â°C</td>
                        <td>${status}</td>
                    </tr>`;
                });
            } else {
                tableHTML = '<table><thead><tr><th>Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î±</th><th>ÎÏÎ±</th><th>Î“ÎµÎ½Î¹ÎºÏŒÏ‚</th><th>Î‘Ï€Î¿Î»ÏÎ¼Î±Î½ÏƒÎ·</th><th>Î’Î¹Ï„ÏÎ¯Î½ÎµÏ‚</th><th>Î•ÏÎ³Î±Î»ÎµÎ¯Î±</th></tr></thead><tbody>';
                data.forEach(c => {
                    tableHTML += `<tr>
                        <td>${c.date}</td>
                        <td>${c.time}</td>
                        <td>${c.general}</td>
                        <td>${c.disinfection}</td>
                        <td>${c.showcases}</td>
                        <td>${c.tools}</td>
                    </tr>`;
                });
            }
            tableHTML += '</tbody></table>';
            
            const html = `
                <!DOCTYPE html>
                <html>
                <head>
                    <meta charset="UTF-8">
                    <title>Hygiene Pro - ${type}</title>
                    <style>
                        body { font-family: Arial, sans-serif; margin: 20px; }
                        h1 { color: #333; }
                        table { width: 100%; border-collapse: collapse; margin: 20px 0; }
                        th, td { border: 1px solid #ddd; padding: 10px; text-align: left; }
                        th { background: #f8f9fa; }
                        @media print { .no-print { display: none; } }
                    </style>
                
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#667eea">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="H-PRO">
    <link rel="apple-touch-icon" href="data:image/png;base64,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">
    
    <!-- Inline Manifest -->
    <link rel="manifest" href="data:application/json;base64,eyJuYW1lIjoiSHlnaWVuZSBQcm8gLSBTw7pzz4TPvM6xIM6Uz4XPg8+Ez4zPsc+CIiwic2hvcnRfbmFtZSI6IkgtUFJPIiwiZGVzY3JpcHRpb24iOiLOo8+Nz4PPhM63zrzOsSDOlM67z4zOs8+Hzr/PhSDOmc+Gzrnzrs63z4IiLCJzdGFydF91cmwiOiIuLyIsImRpc3BsYXkiOiJzdGFuZGFsb25lIiwiYmFja2dyb3VuZF9jb2xvciI6IiM2NjdlZWEiLCJ0aGVtZV9jb2xvciI6IiM2NjdlZWEiLCJpY29ucyI6W3sic3JjIjoiZGF0YTppbWFnZS9wbmc7YmFzZTY0LCcgKyBpY29uMTkyX2Jhc2U2NCArICciLCJzaXplcyI6IjE5MngxOTIiLCJ0eXBlIjoiaW1hZ2UvcG5nIiwicHVycG9zZSI6ImFueSBtYXNrYWJsZSJ9LHsic3JjIjoiZGF0YTppbWFnZS9wbmc7YmFzZTY0LCcgKyBpY29uNTEyX2Jhc2U2NCArICciLCJzaXplcyI6IjUxMng1MTIiLCJ0eXBlIjoiaW1hZ2UvcG5nIiwicHVycG9zZSI6ImFueSBtYXNrYWJsZSJ9XX0=">
</head>
                <body>
                    <h1>Hygiene Pro - Î‘ÏÏ‡ÎµÎ¯Î¿ ${type}</h1>
                    <p>Î ÎµÏÎ¯Î¿Î´Î¿Ï‚: ${new Date(dateFrom).toLocaleDateString('el-GR')} - ${new Date(dateTo).toLocaleDateString('el-GR')}</p>
                    <p>Î•Ï€Î¹Ï‡ÎµÎ¯ÏÎ·ÏƒÎ·: ${systemData.businessInfo.name || 'ÎœÎ· ÎºÎ±Î¸Î¿ÏÎ¹ÏƒÎ¼Î­Î½Î·'}</p>
                    <p>Î£Ï…Î½Î¿Î»Î¹ÎºÎ­Ï‚ Î•Î³Î³ÏÎ±Ï†Î­Ï‚: ${data.length}</p>
                    ${tableHTML}
                    <div class="no-print" style="margin-top: 30px; text-align: center;">
                        <button onclick="window.print()" style="padding: 10px 20px; background: #667eea; color: white; border: none; cursor: pointer; border-radius: 5px;">Î•ÎºÏ„ÏÏ€Ï‰ÏƒÎ·</button>
                    </div>
                </body>
                </html>
            `;
            
            printWindow.document.write(html);
            printWindow.document.close();
        }

        function printReport(type) {
            const printWindow = window.open('', '_blank');
            const content = generatePrintContent(type);
            
            printWindow.document.write(`
                <!DOCTYPE html>
                <html>
                <head>
                    <meta charset="UTF-8">
                    <title>Hygiene Pro - Î•ÎºÏ„ÏÏ€Ï‰ÏƒÎ·</title>
                    <style>
                        body { font-family: Arial, sans-serif; margin: 20px; }
                        h1 { color: #333; }
                        table { width: 100%; border-collapse: collapse; margin: 20px 0; }
                        th, td { border: 1px solid #ddd; padding: 10px; text-align: left; }
                        th { background: #f8f9fa; }
                        .footer { margin-top: 30px; padding-top: 20px; border-top: 1px solid #ddd; text-align: center; font-size: 12px; color: #666; }
                        @media print { .no-print { display: none; } }
                    </style>
                
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#667eea">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="H-PRO">
    <link rel="apple-touch-icon" href="data:image/png;base64,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">
    
    <!-- Inline Manifest -->
    <link rel="manifest" href="data:application/json;base64,eyJuYW1lIjoiSHlnaWVuZSBQcm8gLSBTw7pzz4TPvM6xIM6Uz4XPg8+Ez4zPsc+CIiwic2hvcnRfbmFtZSI6IkgtUFJPIiwiZGVzY3JpcHRpb24iOiLOo8+Nz4PPhM63zrzOsSDOlM67z4zOs8+Hzr/PhSDOmc+Gzrnzrs63z4IiLCJzdGFydF91cmwiOiIuLyIsImRpc3BsYXkiOiJzdGFuZGFsb25lIiwiYmFja2dyb3VuZF9jb2xvciI6IiM2NjdlZWEiLCJ0aGVtZV9jb2xvciI6IiM2NjdlZWEiLCJpY29ucyI6W3sic3JjIjoiZGF0YTppbWFnZS9wbmc7YmFzZTY0LCcgKyBpY29uMTkyX2Jhc2U2NCArICciLCJzaXplcyI6IjE5MngxOTIiLCJ0eXBlIjoiaW1hZ2UvcG5nIiwicHVycG9zZSI6ImFueSBtYXNrYWJsZSJ9LHsic3JjIjoiZGF0YTppbWFnZS9wbmc7YmFzZTY0LCcgKyBpY29uNTEyX2Jhc2U2NCArICciLCJzaXplcyI6IjUxMng1MTIiLCJ0eXBlIjoiaW1hZ2UvcG5nIiwicHVycG9zZSI6ImFueSBtYXNrYWJsZSJ9XX0=">
</head>
                <body>
                    ${content}
                    <div class="footer">
                        Â© 2025 Hygiene Pro - ${systemData.license ? systemData.license.businessName : 'Î”Î¿ÎºÎ¹Î¼Î±ÏƒÏ„Î¹ÎºÎ® ÎˆÎºÎ´Î¿ÏƒÎ·'}<br>
                        ${systemData.license ? 'Î¤Î·Î»: ' + systemData.license.phone : ''}<br>
                        Î‘Ï€Î±Î³Î¿ÏÎµÏÎµÏ„Î±Î¹ Î· Î±Î½Ï„Î¹Î³ÏÎ±Ï†Î® ÎºÎ±Î¹ Î±Î½Î±Î´Î¹Î±Î½Î¿Î¼Î®
                    </div>
                    <div class="no-print" style="margin-top: 30px; text-align: center;">
                        <button onclick="window.print()" style="padding: 10px 20px; background: #667eea; color: white; border: none; cursor: pointer; border-radius: 5px;">Î•ÎºÏ„ÏÏ€Ï‰ÏƒÎ·</button>
                    </div>
                </body>
                </html>
            `);
            
            printWindow.document.close();
        }

        function generatePrintContent(type) {
            const date = new Date().toLocaleDateString('el-GR');
            let html = `<h1>Hygiene Pro - ${getReportTitle(type)}</h1>`;
            html += `<p>Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î±: ${date}</p>`;
            html += `<p>Î•Ï€Î¹Ï‡ÎµÎ¯ÏÎ·ÏƒÎ·: ${systemData.businessInfo.name || 'ÎœÎ· ÎºÎ±Î¸Î¿ÏÎ¹ÏƒÎ¼Î­Î½Î·'}</p>`;
            
            switch(type) {
                case 'temperatures':
                    html += generateTempReport();
                    break;
                case 'cleaning':
                    html += generateCleanReport();
                    break;
                case 'staff':
                    html += generateStaffReport();
                    break;
                case 'pest':
                    html += generatePestReport();
                    break;
            }
            
            return html;
        }

        function getReportTitle(type) {
            const titles = {
                'temperatures': 'Î‘ÏÏ‡ÎµÎ¯Î¿ Î˜ÎµÏÎ¼Î¿ÎºÏÎ±ÏƒÎ¹ÏÎ½',
                'cleaning': 'Î‘ÏÏ‡ÎµÎ¯Î¿ ÎšÎ±Î¸Î±ÏÎ¹ÏŒÏ„Î·Ï„Î±Ï‚',
                'staff': 'Î‘ÏÏ‡ÎµÎ¯Î¿ Î ÏÎ¿ÏƒÏ‰Ï€Î¹ÎºÎ¿Ï',
                'pest': 'Î‘ÏÏ‡ÎµÎ¯Î¿ Î‘Ï€ÎµÎ½Ï„ÏŒÎ¼Ï‰ÏƒÎ·Ï‚'
            };
            return titles[type] || 'Î‘Î½Î±Ï†Î¿ÏÎ¬';
        }

        function generateTempReport() {
            const temps = systemData.temperatures.slice(-100);
            
            if (temps.length === 0) {
                return '<p>Î”ÎµÎ½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ ÎºÎ±Ï„Î±Î³ÏÎ±Ï†Î­Ï‚ Î¸ÎµÏÎ¼Î¿ÎºÏÎ±ÏƒÎ¹ÏÎ½.</p>';
            }
            
            let html = '<table>';
            html += '<thead><tr><th>Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î±</th><th>ÎÏÎ±</th><th>Î•Î¾Î¿Ï€Î»Î¹ÏƒÎ¼ÏŒÏ‚</th><th>Î˜ÎµÏÎ¼Î¿ÎºÏÎ±ÏƒÎ¯Î±</th><th>ÎšÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ·</th></tr></thead>';
            html += '<tbody>';
            
            temps.forEach(t => {
                const temp = parseFloat(t.temperature);
                const status = temp > 4 ? 'Î¥ÏˆÎ·Î»Î®' : 'ÎšÎ±Î½Î¿Î½Î¹ÎºÎ®';
                html += `<tr>
                    <td>${t.date}</td>
                    <td>${t.time}</td>
                    <td>${t.equipmentName}</td>
                    <td>${t.temperature}Â°C</td>
                    <td>${status}</td>
                </tr>`;
            });
            
            html += '</tbody></table>';
            return html;
        }

        function generateCleanReport() {
            const cleaning = systemData.cleaning.slice(-30);
            
            if (cleaning.length === 0) {
                return '<p>Î”ÎµÎ½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ ÎºÎ±Ï„Î±Î³ÏÎ±Ï†Î­Ï‚ ÎºÎ±Î¸Î±ÏÎ¹ÏƒÎ¼Î¿Ï.</p>';
            }
            
            let html = '<table>';
            html += '<thead><tr><th>Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î±</th><th>ÎÏÎ±</th><th>Î“ÎµÎ½Î¹ÎºÏŒÏ‚</th><th>Î‘Ï€Î¿Î»ÏÎ¼Î±Î½ÏƒÎ·</th><th>Î’Î¹Ï„ÏÎ¯Î½ÎµÏ‚</th><th>Î•ÏÎ³Î±Î»ÎµÎ¯Î±</th></tr></thead>';
            html += '<tbody>';
            
            cleaning.forEach(c => {
                html += `<tr>
                    <td>${c.date}</td>
                    <td>${c.time}</td>
                    <td>${c.general}</td>
                    <td>${c.disinfection}</td>
                    <td>${c.showcases}</td>
                    <td>${c.tools}</td>
                </tr>`;
            });
            
            html += '</tbody></table>';
            return html;
        }

        function generateStaffReport() {
            if (systemData.staff.length === 0) {
                return '<p>Î”ÎµÎ½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ ÎºÎ±Ï„Î±Î³ÏÎ±Ï†Î­Ï‚ Ï€ÏÎ¿ÏƒÏ‰Ï€Î¹ÎºÎ¿Ï.</p>';
            }
            
            let html = '<table>';
            html += '<thead><tr><th>ÎŸÎ½Î¿Î¼Î±Ï„ÎµÏ€ÏÎ½Ï…Î¼Î¿</th><th>Î˜Î­ÏƒÎ·</th><th>Î Î¹ÏƒÏ„. Î¥Î³ÎµÎ¯Î±Ï‚</th><th>Î Î¹ÏƒÏ„. Î•Î¦Î•Î¤</th></tr></thead>';
            html += '<tbody>';
            
            systemData.staff.forEach(s => {
                html += `<tr>
                    <td>${s.name}</td>
                    <td>${s.role}</td>
                    <td>${s.healthCert ? new Date(s.healthCert).toLocaleDateString('el-GR') : '-'}</td>
                    <td>${s.efetCert ? new Date(s.efetCert).toLocaleDateString('el-GR') : '-'}</td>
                </tr>`;
            });
            
            html += '</tbody></table>';
            return html;
        }

        function generatePestReport() {
            if (systemData.pestControl.length === 0) {
                return '<p>Î”ÎµÎ½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ ÎºÎ±Ï„Î±Î³ÏÎ±Ï†Î­Ï‚ Î±Ï€ÎµÎ½Ï„ÏŒÎ¼Ï‰ÏƒÎ·Ï‚.</p>';
            }
            
            let html = '<table>';
            html += '<thead><tr><th>Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î±</th><th>Î¤ÏÏ€Î¿Ï‚</th><th>Î•Ï„Î±Î¹ÏÎµÎ¯Î±</th></tr></thead>';
            html += '<tbody>';
            
            systemData.pestControl.forEach(p => {
                const typeText = {
                    'insects': 'Î‘Ï€ÎµÎ½Ï„ÏŒÎ¼Ï‰ÏƒÎ·',
                    'rodents': 'ÎœÏ…Î¿ÎºÏ„Î¿Î½Î¯Î±',
                    'both': 'Î“ÎµÎ½Î¹ÎºÎ®'
                }[p.type] || p.type;
                
                html += `<tr>
                    <td>${new Date(p.date).toLocaleDateString('el-GR')}</td>
                    <td>${typeText}</td>
                    <td>${p.company}</td>
                </tr>`;
            });
            
            html += '</tbody></table>';
            return html;
        }

        function printAll() {
            const types = ['temperatures', 'cleaning', 'staff', 'pest'];
            const printWindow = window.open('', '_blank');
            
            let html = `
                <!DOCTYPE html>
                <html>
                <head>
                    <meta charset="UTF-8">
                    <title>Hygiene Pro - Î Î»Î®ÏÎ·Ï‚ Î¦Î¬ÎºÎµÎ»Î¿Ï‚</title>
                    <style>
                        body { font-family: Arial, sans-serif; margin: 20px; }
                        h1, h2 { color: #333; }
                        table { width: 100%; border-collapse: collapse; margin: 20px 0; }
                        th, td { border: 1px solid #ddd; padding: 10px; text-align: left; }
                        th { background: #f8f9fa; }
                        .page-break { page-break-before: always; }
                        .footer { margin-top: 30px; padding-top: 20px; border-top: 1px solid #ddd; text-align: center; font-size: 12px; color: #666; }
                        @media print { .no-print { display: none; } }
                    </style>
                
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#667eea">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="H-PRO">
    <link rel="apple-touch-icon" href="data:image/png;base64,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">
    
    <!-- Inline Manifest -->
    <link rel="manifest" href="data:application/json;base64,eyJuYW1lIjoiSHlnaWVuZSBQcm8gLSBTw7pzz4TPvM6xIM6Uz4XPg8+Ez4zPsc+CIiwic2hvcnRfbmFtZSI6IkgtUFJPIiwiZGVzY3JpcHRpb24iOiLOo8+Nz4PPhM63zrzOsSDOlM67z4zOs8+Hzr/PhSDOmc+Gzrnzrs63z4IiLCJzdGFydF91cmwiOiIuLyIsImRpc3BsYXkiOiJzdGFuZGFsb25lIiwiYmFja2dyb3VuZF9jb2xvciI6IiM2NjdlZWEiLCJ0aGVtZV9jb2xvciI6IiM2NjdlZWEiLCJpY29ucyI6W3sic3JjIjoiZGF0YTppbWFnZS9wbmc7YmFzZTY0LCcgKyBpY29uMTkyX2Jhc2U2NCArICciLCJzaXplcyI6IjE5MngxOTIiLCJ0eXBlIjoiaW1hZ2UvcG5nIiwicHVycG9zZSI6ImFueSBtYXNrYWJsZSJ9LHsic3JjIjoiZGF0YTppbWFnZS9wbmc7YmFzZTY0LCcgKyBpY29uNTEyX2Jhc2U2NCArICciLCJzaXplcyI6IjUxMng1MTIiLCJ0eXBlIjoiaW1hZ2UvcG5nIiwicHVycG9zZSI6ImFueSBtYXNrYWJsZSJ9XX0=">
</head>
                <body>
                    <h1>Hygiene Pro - Î Î»Î®ÏÎ·Ï‚ Î¦Î¬ÎºÎµÎ»Î¿Ï‚ HACCP</h1>
                    <p>Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î±: ${new Date().toLocaleDateString('el-GR')}</p>
                    <p>Î•Ï€Î¹Ï‡ÎµÎ¯ÏÎ·ÏƒÎ·: ${systemData.businessInfo.name || 'ÎœÎ· ÎºÎ±Î¸Î¿ÏÎ¹ÏƒÎ¼Î­Î½Î·'}</p>
            `;
            
            types.forEach((type, index) => {
                if (index > 0) html += '<div class="page-break"></div>';
                html += `<h2>${getReportTitle(type)}</h2>`;
                
                switch(type) {
                    case 'temperatures':
                        html += generateTempReport();
                        break;
                    case 'cleaning':
                        html += generateCleanReport();
                        break;
                    case 'staff':
                        html += generateStaffReport();
                        break;
                    case 'pest':
                        html += generatePestReport();
                        break;
                }
            });
            
            html += `
                    <div class="footer">
                        Â© 2025 Hygiene Pro - ${systemData.license ? systemData.license.businessName : 'Î”Î¿ÎºÎ¹Î¼Î±ÏƒÏ„Î¹ÎºÎ® ÎˆÎºÎ´Î¿ÏƒÎ·'}<br>
                        ${systemData.license ? 'Î¤Î·Î»: ' + systemData.license.phone : ''}<br>
                        Î‘Ï€Î±Î³Î¿ÏÎµÏÎµÏ„Î±Î¹ Î· Î±Î½Ï„Î¹Î³ÏÎ±Ï†Î® ÎºÎ±Î¹ Î±Î½Î±Î´Î¹Î±Î½Î¿Î¼Î®
                    </div>
                    <div class="no-print" style="margin-top: 30px; text-align: center;">
                        <button onclick="window.print()" style="padding: 10px 20px; background: #667eea; color: white; border: none; cursor: pointer; border-radius: 5px;">Î•ÎºÏ„ÏÏ€Ï‰ÏƒÎ· ÏŒÎ»Ï‰Î½</button>
                    </div>
                </body>
                </html>
            `;
            
            printWindow.document.write(html);
            printWindow.document.close();
        }

        function formatDate(date) {
            const year = date.getFullYear();
            const month = String(date.getMonth() + 1).padStart(2, '0');
            const day = String(date.getDate()).padStart(2, '0');
            return `${year}-${month}-${day}`;
        }

        function cleanupOldRecords() {
            if (!systemData.businessInfo.monthsToKeep) {
                systemData.businessInfo.monthsToKeep = 6;
            }
            
            const monthsToKeep = systemData.businessInfo.monthsToKeep;
            const cutoffDate = new Date();
            cutoffDate.setMonth(cutoffDate.getMonth() - monthsToKeep);
            const cutoffStr = formatDate(cutoffDate);
            
            const beforeCount = systemData.temperatures.length + systemData.cleaning.length;
            
            systemData.temperatures = systemData.temperatures.filter(t => {
                const dateStr = t.date;
                return dateStr >= cutoffStr;
            });
            
            systemData.cleaning = systemData.cleaning.filter(c => {
                const dateStr = c.date;
                return dateStr >= cutoffStr;
            });
            
            const afterCount = systemData.temperatures.length + systemData.cleaning.length;
            const deleted = beforeCount - afterCount;
            
            if (deleted > 0) {
                console.log(`Auto-cleanup: Î”Î¹Î±Î³ÏÎ¬Ï†Î·ÎºÎ±Î½ ${deleted} Ï€Î±Î»Î¹Î­Ï‚ ÎºÎ±Ï„Î±Î³ÏÎ±Ï†Î­Ï‚ (>${monthsToKeep} Î¼Î®Î½ÎµÏ‚)`);
            }
            
            saveData();
        }

        function saveData() {
            try {
                localStorage.setItem('hygienePro', JSON.stringify(systemData));
            } catch (e) {
                console.error('Error saving data:', e);
            }
        }

        function loadData() {
            try {
                const saved = localStorage.getItem('hygienePro');
                if (saved) {
                    systemData = JSON.parse(saved);
                    
                    // v7.4: Validate loaded license
                    if (systemData.license) {
                        if (!systemData.license.key || !systemData.license.businessName) {
                            console.warn('Invalid license data in storage - removing');
                            systemData.license = null;
                            systemData.setupComplete = false;
                        }
                        // Check expiry on load
                        else if (systemData.license.expiry) {
                            const expiryDate = new Date(systemData.license.expiry);
                            const today = new Date();
                            if (expiryDate < today) {
                                console.warn('License expired - removing');
                                systemData.license = null;
                                systemData.setupComplete = false;
                            }
                        }
                    }
                }
            } catch (e) {
                console.error('Error loading data:', e);
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            initSystem();
            
            setTimeout(function() {
                document.getElementById('btnFilterTemp')?.addEventListener('click', filterTemperatures);
                document.getElementById('btnShowAllTemp')?.addEventListener('click', showAllTemperatures);
                document.getElementById('btnPrintFilteredTemp')?.addEventListener('click', printFilteredTemperatures);
                document.getElementById('btnFilterClean')?.addEventListener('click', filterCleaning);
                document.getElementById('btnShowAllClean')?.addEventListener('click', showAllCleaning);
                document.getElementById('btnPrintFilteredClean')?.addEventListener('click', printFilteredCleaning);
            }, 1000);
        });

        window.addEventListener('beforeunload', saveData);
</script>
</body>
</html>