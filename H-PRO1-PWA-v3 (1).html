<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hygiene Pro - Σύστημα Ελέγχου Υγιεινής</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .container {
            width: 100%;
            max-width: 1400px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px 40px;
            position: relative;
        }

        .header h1 {
            font-size: 2.2rem;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .header p {
            font-size: 0.95rem;
            opacity: 0.9;
        }

        .license-badge {
            position: absolute;
            top: 30px;
            right: 40px;
            background: rgba(255,255,255,0.2);
            padding: 10px 20px;
            border-radius: 25px;
            font-size: 0.85rem;
            cursor: pointer;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .license-badge:hover {
            background: rgba(255,255,255,0.3);
            transform: scale(1.05);
        }

        .nav {
            background: #f8f9fa;
            padding: 0;
            border-bottom: 2px solid #e9ecef;
        }

        .nav-buttons {
            display: flex;
            overflow-x: auto;
        }

        .nav-button {
            padding: 18px 30px;
            border: none;
            background: transparent;
            color: #495057;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
            border-bottom: 3px solid transparent;
            white-space: nowrap;
        }

        .nav-button:hover {
            background: white;
            color: #667eea;
        }

        .nav-button.active {
            color: #667eea;
            background: white;
            border-bottom-color: #667eea;
        }

        .content {
            padding: 30px 40px;
            min-height: 500px;
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .stat-value {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 0.85rem;
            opacity: 0.9;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            color: #495057;
            font-weight: 500;
            font-size: 0.9rem;
        }

        .form-input, .form-select {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 0.95rem;
            transition: all 0.3s ease;
        }

        .form-input:focus, .form-select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102,126,234,0.1);
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102,126,234,0.4);
        }

        .btn-secondary {
            background: #e9ecef;
            color: #495057;
        }

        .btn-secondary:hover {
            background: #dee2e6;
        }

        .btn-success {
            background: #28a745;
            color: white;
        }

        .btn-danger {
            background: #dc3545;
            color: white;
        }

        .table-container {
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }

        .table {
            width: 100%;
            border-collapse: collapse;
        }

        .table th {
            background: #f8f9fa;
            padding: 15px;
            text-align: left;
            font-weight: 600;
            color: #495057;
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            border-bottom: 2px solid #e9ecef;
        }

        .table td {
            padding: 15px;
            border-bottom: 1px solid #f1f3f5;
            color: #212529;
        }

        .table tr:hover {
            background: #f8f9fa;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 15px;
            padding: 30px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            animation: slideUp 0.3s ease;
        }

        @keyframes slideUp {
            from { transform: translateY(50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .modal-header {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 20px;
            color: #212529;
        }

        .clock-display {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .clock-time {
            font-size: 2rem;
            font-weight: 200;
            color: #212529;
            font-family: 'SF Mono', 'Monaco', monospace;
        }

        .clock-date {
            color: #6c757d;
            font-size: 0.95rem;
        }

        .archive-indicator {
            background: #28a745;
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.85rem;
            display: none;
        }

        .archive-indicator.active {
            display: inline-block;
        }

        .equipment-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .equipment-card {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 20px;
            transition: all 0.3s ease;
        }

        .equipment-card:hover {
            border-color: #667eea;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .setup-wizard {
            display: none;
            padding: 30px;
            background: #f8f9fa;
            border-radius: 10px;
            margin-bottom: 30px;
        }

        .setup-wizard.active {
            display: block;
        }

        .wizard-step {
            display: none;
        }

        .wizard-step.active {
            display: block;
        }

        @media print {
            body { background: white; }
            .nav, .btn, .license-badge { display: none !important; }
            .container { box-shadow: none; }
            .header { background: none !important; color: black !important; }
        }

        @media (max-width: 768px) {
            .header h1 { font-size: 1.5rem; }
            .stats-grid { grid-template-columns: 1fr; }
            .nav-buttons { overflow-x: auto; }
            .content { padding: 20px; }
        }
    </style>

    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#667eea">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="H-PRO">
    <link rel="apple-touch-icon" href="data:image/png;base64,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">
    
    <!-- Inline Manifest -->
    <link rel="manifest" href="data:application/json;base64,eyJuYW1lIjoiSHlnaWVuZSBQcm8gLSBTw7pzz4TPvM6xIM6Uz4XPg8+Ez4zPsc+CIiwic2hvcnRfbmFtZSI6IkgtUFJPIiwiZGVzY3JpcHRpb24iOiLOo8+Nz4PPhM63zrzOsSDOlM67z4zOs8+Hzr/PhSDOmc+Gzrnzrs63z4IiLCJzdGFydF91cmwiOiIuLyIsImRpc3BsYXkiOiJzdGFuZGFsb25lIiwiYmFja2dyb3VuZF9jb2xvciI6IiM2NjdlZWEiLCJ0aGVtZV9jb2xvciI6IiM2NjdlZWEiLCJpY29ucyI6W3sic3JjIjoiZGF0YTppbWFnZS9wbmc7YmFzZTY0LCcgKyBpY29uMTkyX2Jhc2U2NCArICciLCJzaXplcyI6IjE5MngxOTIiLCJ0eXBlIjoiaW1hZ2UvcG5nIiwicHVycG9zZSI6ImFueSBtYXNrYWJsZSJ9LHsic3JjIjoiZGF0YTppbWFnZS9wbmc7YmFzZTY0LCcgKyBpY29uNTEyX2Jhc2U2NCArICciLCJzaXplcyI6IjUxMng1MTIiLCJ0eXBlIjoiaW1hZ2UvcG5nIiwicHVycG9zZSI6ImFueSBtYXNrYWJsZSJ9XX0=">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            
        <div class="header-logo" style="display: flex; align-items: center; gap: 15px; margin-bottom: 10px;">
            <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8IS0tIEJsYWNrIGJhY2tncm91bmQgLS0+CiAgPHJlY3Qgd2lkdGg9IjUxMiIgaGVpZ2h0PSI1MTIiIGZpbGw9IiMwMDAwMDAiLz4KICAKICA8IS0tIFdhdGVyIGRyb3Agb3V0bGluZSAoc2lsdmVyKSAtLT4KICA8cGF0aCBkPSJNIDI1NiA1MCAKICAgICAgICAgICBDIDI1NiA1MCwgMzgwIDE4MCwgMzgwIDI5MAogICAgICAgICAgIEMgMzgwIDM2MCwgMzIwIDQyMCwgMjU2IDQyMAogICAgICAgICAgIEMgMTkyIDQyMCwgMTMyIDM2MCwgMTMyIDI5MAogICAgICAgICAgIEMgMTMyIDE4MCwgMjU2IDUwLCAyNTYgNTAgWiIKICAgICAgICBmaWxsPSJub25lIgogICAgICAgIHN0cm9rZT0iI0MwQzBDMCIKICAgICAgICBzdHJva2Utd2lkdGg9IjEwIgogICAgICAgIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KICAKICA8IS0tIEgtUFJPIHRleHQgKHNpbHZlciwgYm9sZCkgLS0+CiAgPHRleHQgeD0iMjU2IiB5PSIyODAiIAogICAgICAgIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgCiAgICAgICAgZm9udC1zaXplPSI3MiIgCiAgICAgICAgZm9udC13ZWlnaHQ9ImJvbGQiCiAgICAgICAgZmlsbD0iI0MwQzBDMCIgCiAgICAgICAgdGV4dC1hbmNob3I9Im1pZGRsZSIKICAgICAgICBkb21pbmFudC1iYXNlbGluZT0ibWlkZGxlIj5ILVBSTzwvdGV4dD4KICAKICA8IS0tIFRhZ2xpbmUgLS0+CiAgPHRleHQgeD0iMjU2IiB5PSIzMzAiIAogICAgICAgIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgCiAgICAgICAgZm9udC1zaXplPSIxOCIgCiAgICAgICAgZmlsbD0iI0MwQzBDMCIgCiAgICAgICAgdGV4dC1hbmNob3I9Im1pZGRsZSIKICAgICAgICBvcGFjaXR5PSIwLjkiPkhZR0lFTkUgU1lTVEVNPC90ZXh0Pgo8L3N2Zz4=" alt="H-PRO Logo" style="width: 50px; height: 50px; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1));">
            <div style="flex: 1;">
                <h1 style="margin: 0; font-size: 2.2rem; font-weight: 700;">Hygiene Pro</h1>
                <p style="margin: 0; font-size: 0.95rem; opacity: 0.9;">Σύστημα Ελέγχου Υγιεινής</p>
            </div>
        </div>
            <div class="license-badge" id="licenseBadge" onclick="licenseClick()">
                <span id="licenseStatus">✓ Άδεια Ενεργή</span>
            </div>
        </div>

        <!-- Navigation -->
        <div class="nav">
            <div class="nav-buttons">
                <button class="nav-button active" onclick="showTab('dashboard')">ΑΡΧΙΚΗ</button>
                <button class="nav-button" onclick="showTab('temperatures')">ΘΕΡΜΟΚΡΑΣΙΕΣ</button>
                <button class="nav-button" onclick="showTab('cleaning')">ΚΑΘΑΡΙΟΤΗΤΑ</button>
                <button class="nav-button" onclick="showTab('equipment')">ΕΞΟΠΛΙΣΜΟΣ</button>
                <button class="nav-button" onclick="showTab('staff')">ΠΡΟΣΩΠΙΚΟ</button>
                <button class="nav-button" onclick="showTab('pest')">ΑΠΕΝΤΟΜΩΣΗ</button>
                <button class="nav-button" onclick="showTab('reports')">ΑΝΑΦΟΡΕΣ</button>
                <button class="nav-button" onclick="showTab('settings')">ΡΥΘΜΙΣΕΙΣ</button>
            </div>
        </div>

        <!-- Main Content -->
        <div class="content">
            
            <!-- Setup Wizard -->
            <div class="setup-wizard" id="setupWizard">
                <!-- Step 1 -->
                <div class="wizard-step active" id="step1">
                    <h2>Καλώς ήρθατε στο Hygiene Pro</h2>
                    <p style="margin-bottom: 20px;">Ας ρυθμίσουμε το σύστημά σας.</p>
                    
                    <div class="form-group">
                        <label class="form-label">Πόσα χρόνια λειτουργεί η επιχείρησή σας;</label>
                        <select id="businessYears" class="form-select">
                            <option value="0">Λιγότερο από 1 έτος</option>
                            <option value="1">1 έτος</option>
                            <option value="2">2 έτη</option>
                            <option value="3">3+ έτη</option>
                        </select>
                    </div>
                    
                    <button class="btn btn-primary" onclick="nextStep(2)">ΣΥΝΕΧΕΙΑ →</button>
                </div>
                
                <!-- Step 2 -->
                <div class="wizard-step" id="step2">
                    <h2>Τύπος Επιχείρησης</h2>
                    
                    <div class="form-group">
                        <label class="form-label">Επιλέξτε τον τύπο της επιχείρησής σας:</label>
                        <select id="businessType" class="form-select" onchange="updateScheduleBasedOnType()">                           <option value="butcher">Κρεοπωλείο</option>
                            <option value="fish">Ιχθυοπωλείο</option>
                            <option value="restaurant">Εστιατόριο</option>
                            <option value="fastfood">Σουβλατζίδικο/Fast Food</option>
                            <option value="supermarket">Super Market</option>
                            <option value="minimarket">Mini Market</option>
                            <option value="bakery">Φούρνος/Αρτοποιείο</option>
                            <option value="pastry">Ζαχαροπλαστείο</option>
                            <option value="cafe">Καφετέρια με φαγητό</option>
                            <option value="cheese">Τυροπωλείο</option>
                            <option value="grocery">Μανάβικο</option>
                            <option value="other">Άλλο</option>
                        </select>
                    </div>
                    
                    <button class="btn btn-secondary" onclick="nextStep(1)">← ΠΙΣΩ</button>
                    <button class="btn btn-primary" onclick="nextStep(3)">ΣΥΝΕΧΕΙΑ →</button>
                </div>
                
                <!-- Step 3 -->
                <div class="wizard-step" id="step3">
                    <h2>Ημέρες & Ώρες Λειτουργίας</h2>
                    
                <div class="form-group">
    <label class="form-label">Ώρες λειτουργίας:</label>
    <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px;">
        <div>
            <label style="font-size: 0.9rem;">Άνοιγμα:</label>
            <select id="openMorning" class="form-select">
                <option value="06:00">06:00</option>
                <option value="07:00">07:00</option>
                <option value="08:00" selected>08:00</option>
                <option value="09:00">09:00</option>
                <option value="10:00">10:00</option>
                <option value="11:00">11:00</option>
            </select>
        </div>
        <div>
            <label style="font-size: 0.9rem;">Μεσημέρι (καταγραφή):</label>
            <select id="closeMorning" class="form-select">
                <option value="13:00">13:00</option>
                <option value="14:00" selected>14:00</option>
                <option value="15:00">15:00</option>
                <option value="16:00">16:00</option>
            </select>
        </div>
        <div>
            <label style="font-size: 0.9rem;">Κλείσιμο:</label>
            <select id="closeEvening" class="form-select">
                <option value="20:00">20:00</option>
                <option value="21:00">21:00</option>
                <option value="22:00">22:00</option>
                <option value="23:00" selected>23:00</option>
                <option value="24:00">24:00</option>
                <option value="01:00">01:00</option>
                <option value="02:00">02:00</option>
            </select>
        </div>
    </div>
    <p style="margin-top: 10px; color: #666; font-size: 0.85rem;">
        * Οι καταγραφές θα γίνονται: Άνοιγμα, Μεσημέρι, Κλείσιμο
    </p>
</div>                    
 <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin-top: 20px;">
                        <div style="display: grid; gap: 15px;">
                            <div style="display: flex; align-items: center; gap: 15px;">
                                <div style="width: 120px; font-weight: 500;">Δευτέρα:</div>
                                <label><input type="checkbox" id="day-mon-morning" checked> Πρωί</label>
                                <label><input type="checkbox" id="day-mon-afternoon" checked> Απόγευμα</label>
                            </div>
                            <div style="display: flex; align-items: center; gap: 15px;">
                                <div style="width: 120px; font-weight: 500;">Τρίτη:</div>
                                <label><input type="checkbox" id="day-tue-morning" checked> Πρωί</label>
                                <label><input type="checkbox" id="day-tue-afternoon" checked> Απόγευμα</label>
                            </div>
                            <div style="display: flex; align-items: center; gap: 15px;">
                                <div style="width: 120px; font-weight: 500;">Τετάρτη:</div>
                                <label><input type="checkbox" id="day-wed-morning" checked> Πρωί</label>
                                <label><input type="checkbox" id="day-wed-afternoon" checked> Απόγευμα</label>
                            </div>
                            <div style="display: flex; align-items: center; gap: 15px;">
                                <div style="width: 120px; font-weight: 500;">Πέμπτη:</div>
                                <label><input type="checkbox" id="day-thu-morning" checked> Πρωί</label>
                                <label><input type="checkbox" id="day-thu-afternoon" checked> Απόγευμα</label>
                            </div>
                            <div style="display: flex; align-items: center; gap: 15px;">
                                <div style="width: 120px; font-weight: 500;">Παρασκευή:</div>
                                <label><input type="checkbox" id="day-fri-morning" checked> Πρωί</label>
                                <label><input type="checkbox" id="day-fri-afternoon" checked> Απόγευμα</label>
                            </div>
                            <div style="display: flex; align-items: center; gap: 15px;">
                                <div style="width: 120px; font-weight: 500;">Σάββατο:</div>
                                <label><input type="checkbox" id="day-sat-morning" checked> Πρωί</label>
                                <label><input type="checkbox" id="day-sat-afternoon" checked> Απόγευμα</label>
                            </div>
                            <div style="display: flex; align-items: center; gap: 15px;">
                                <div style="width: 120px; font-weight: 500;">Κυριακή:</div>
                                <label><input type="checkbox" id="day-sun-morning"> Πρωί</label>
                                <label><input type="checkbox" id="day-sun-afternoon"> Απόγευμα</label>
                            </div>
                        </div>
                    </div>
                    
                    <div style="margin-top: 20px;">
                        <button class="btn btn-secondary" onclick="nextStep(2)">← ΠΙΣΩ</button>
                        <button class="btn btn-primary" onclick="nextStep(4)">ΣΥΝΕΧΕΙΑ →</button>
                    </div>
                </div>
                
                <!-- Step 4 -->
                <div class="wizard-step" id="step4">
                    <h2>Εξοπλισμός</h2>
                    
                    <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
                        <div style="display: grid; gap: 15px; margin-bottom: 15px;">
                            <div>
                                <label style="font-size: 0.9rem;">Όνομα:</label>
                                <input type="text" id="tempEquipmentName" class="form-input" placeholder="Ψυγείο 1">
                            </div>
                            <div>
                                <label style="font-size: 0.9rem;">Τύπος:</label>
                                <select id="tempEquipmentType" class="form-select">
                                    <option value="fridge">Ψυγείο</option>
                                    <option value="freezer">Κατάψυξη</option>
                                    <option value="showcase">Βιτρίνα</option>
                                </select>
                            </div>
                        </div>
                        <button class="btn btn-primary" onclick="addEquipmentToSetup()" style="width: 100%;">+ ΠΡΟΣΘΗΚΗ</button>
                    </div>
                    
                    <div id="setupEquipmentList" style="display: grid; gap: 10px; margin-bottom: 20px;"></div>
                    
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-secondary" onclick="nextStep(3)">← ΠΙΣΩ</button>
                        <button class="btn btn-success" onclick="completeSetup()" style="flex: 1;">ΟΛΟΚΛΗΡΩΣΗ ✓</button>
                    </div>
                </div>
            </div>
<!-- Dashboard Tab -->
            <div class="tab-content active" id="dashboard">
                <div class="clock-display">
                    <div>
                        <div class="clock-time" id="clock">--:--</div>
                        <div class="clock-date" id="date">--</div>
                    </div>
                    <div>
                        <button class="btn btn-secondary" onclick="toggleArchiveMode()">ΑΝΑΦΟΡΕΣ</button>
                        <span class="archive-indicator" id="archiveIndicator">✓ Λειτουργία Αναφορών</span>
                    </div>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-value" id="totalRecords">0</div>
                        <div class="stat-label">Συνολικές Καταγραφές</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="todayTemp">0</div>
                        <div class="stat-label">Μετρήσεις Σήμερα</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="equipmentTotal">3</div>
                        <div class="stat-label">Εξοπλισμός</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="daysActive">0</div>
                        <div class="stat-label">Ημέρες Λειτουργίας</div>
                    </div>
                </div>

                <div class="table-container">
                    <table class="table">
                        <thead>
                            <tr>
                                <th colspan="3">Σημερινές Καταγραφές</th>
                            </tr>
                            <tr>
                                <th>Ώρα</th>
                                <th>Τύπος</th>
                                <th>Κατάσταση</th>
                            </tr>
                        </thead>
                        <tbody id="todayRecords">
                            <tr>
                                <td colspan="3" style="text-align: center; color: #6c757d;">Δεν υπάρχουν καταγραφές ακόμα</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Temperatures Tab -->
            <div class="tab-content" id="temperatures">
                <h2>Καταγραφές Θερμοκρασιών</h2>
                
                <div style="background: #e8f4f8; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                    <strong>Όρια HACCP:</strong> Ψυγεία/Βιτρίνες: +1°C έως +4°C | Κατάψυξη: -18°C έως -22°C
                </div>

                <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; align-items: end;">
                        <div class="form-group" style="margin-bottom: 0;">
                            <label class="form-label">Από Ημερομηνία:</label>
                            <input type="date" id="tempDateFrom" class="form-input">
                        </div>
                        <div class="form-group" style="margin-bottom: 0;">
                            <label class="form-label">Έως Ημερομηνία:</label>
                            <input type="date" id="tempDateTo" class="form-input">
                        </div>
                        <button class="btn btn-primary" id="btnFilterTemp">ΦΙΛΤΡΑΡΙΣΜΑ</button>
                        <button class="btn btn-secondary" id="btnShowAllTemp">ΕΜΦΑΝΙΣΗ ΟΛΩΝ</button>
                        <button class="btn btn-success" id="btnPrintFilteredTemp">🖨️ ΕΚΤΥΠΩΣΗ</button>
                    </div>
                    <div id="tempFilterInfo" style="margin-top: 10px; color: #667eea; font-weight: 500;"></div>
                </div>

                <button class="btn btn-primary" onclick="manualTemperatureEntry()" style="margin-bottom: 20px;">+ ΧΕΙΡΟΚΙΝΗΤΗ ΚΑΤΑΧΩΡΗΣΗ</button>

                <div class="table-container">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Ημερομηνία</th>
                                <th>Ώρα</th>
                                <th>Εξοπλισμός</th>
                                <th>Θερμοκρασία</th>
                                <th>Κατάσταση</th>
                            </tr>
                        </thead>
                        <tbody id="tempTable">
                            <tr>
                                <td colspan="5" style="text-align: center; color: #6c757d;">Φόρτωση καταγραφών...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Cleaning Tab -->
            <div class="tab-content" id="cleaning">
                <h2>Καταγραφές Καθαριότητας</h2>
                
                <div style="background: #e8f8e8; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                    <strong>Πρόγραμμα:</strong> Καθημερινός καθαρισμός στις 20:00
                </div>

                <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; align-items: end;">
                        <div class="form-group" style="margin-bottom: 0;">
                            <label class="form-label">Από Ημερομηνία:</label>
                            <input type="date" id="cleanDateFrom" class="form-input">
                        </div>
                        <div class="form-group" style="margin-bottom: 0;">
                            <label class="form-label">Έως Ημερομηνία:</label>
                            <input type="date" id="cleanDateTo" class="form-input">
                        </div>
                        <button class="btn btn-primary" id="btnFilterClean">ΦΙΛΤΡΑΡΙΣΜΑ</button>
                        <button class="btn btn-secondary" id="btnShowAllClean">ΕΜΦΑΝΙΣΗ ΟΛΩΝ</button>
                        <button class="btn btn-success" id="btnPrintFilteredClean">🖨️ ΕΚΤΥΠΩΣΗ</button>
                    </div>
                    <div id="cleanFilterInfo" style="margin-top: 10px; color: #667eea; font-weight: 500;"></div>
                </div>

                <div class="table-container">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Ημερομηνία</th>
                                <th>Ώρα</th>
                                <th>Γενικός Καθαρισμός</th>
                                <th>Απολύμανση</th>
                                <th>Βιτρίνες</th>
                                <th>Εργαλεία</th>
                            </tr>
                        </thead>
                        <tbody id="cleanTable">
                            <tr>
                                <td colspan="6" style="text-align: center; color: #6c757d;">Φόρτωση καταγραφών...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Equipment Tab -->
            <div class="tab-content" id="equipment">
                <h2>Διαχείριση Εξοπλισμού</h2>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr auto; gap: 15px; margin-bottom: 30px;">
                    <input type="text" id="eqName" class="form-input" placeholder="Όνομα (π.χ. Ψυγείο 1)">
                    <select id="eqType" class="form-select">
                        <option value="fridge">Ψυγείο</option>
                        <option value="freezer">Κατάψυξη</option>
                        <option value="display">Βιτρίνα</option>
                        <option value="other">Άλλο</option>
                    </select>
                    <button class="btn btn-primary" onclick="addEquipment()">+ ΠΡΟΣΘΗΚΗ</button>
                </div>

                <div class="equipment-grid" id="equipmentList"></div>
            </div>

            <!-- Staff Tab -->
            <div class="tab-content" id="staff">
                <h2>Διαχείριση Προσωπικού</h2>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 30px;">
                    <input type="text" id="staffName" class="form-input" placeholder="Ονοματεπώνυμο">
                    <input type="text" id="staffRole" class="form-input" placeholder="Θέση">
                    <input type="date" id="staffHealth" class="form-input" title="Πιστ. Υγείας">
                    <input type="date" id="staffEfet" class="form-input" title="Πιστ. ΕΦΕΤ">
                    <button class="btn btn-primary" onclick="addStaff()">+ ΠΡΟΣΘΗΚΗ</button>
                </div>

                <div class="table-container">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Ονοματεπώνυμο</th>
                                <th>Θέση</th>
                                <th>Πιστ. Υγείας</th>
                                <th>Πιστ. ΕΦΕΤ</th>
                                <th>Ενέργειες</th>
                            </tr>
                        </thead>
                        <tbody id="staffTable">
                            <tr>
                                <td colspan="5" style="text-align: center; color: #6c757d;">Δεν έχει καταχωρηθεί προσωπικό</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Pest Control Tab -->
            <div class="tab-content" id="pest">
                <h2>Απεντόμωση & Μυοκτονία</h2>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 30px;">
                    <input type="date" id="pestDate" class="form-input">
                    <select id="pestType" class="form-select">
                        <option value="">Τύπος επέμβασης</option>
                        <option value="insects">Απεντόμωση</option>
                        <option value="rodents">Μυοκτονία</option>
                        <option value="both">Γενική</option>
                    </select>
                    <input type="text" id="pestCompany" class="form-input" placeholder="Εταιρεία">
                    <button class="btn btn-primary" onclick="addPestControl()">+ ΠΡΟΣΘΗΚΗ</button>
                </div>

                <div class="table-container">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Ημερομηνία</th>
                                <th>Τύπος</th>
                                <th>Εταιρεία</th>
                                <th>Ενέργειες</th>
                            </tr>
                        </thead>
                        <tbody id="pestTable">
                            <tr>
                                <td colspan="4" style="text-align: center; color: #6c757d;">Δεν υπάρχουν καταγραφές</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Reports Tab -->
            <div class="tab-content" id="reports">
                <h2>Εκτυπώσεις & Αναφορές</h2>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
                    <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; text-align: center;">
                        <h3 style="margin-bottom: 15px;">Θερμοκρασίες</h3>
                        <button class="btn btn-primary" onclick="printReport('temperatures')">🖨️ ΕΚΤΥΠΩΣΗ</button>
                    </div>
                    
                    <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; text-align: center;">
                        <h3 style="margin-bottom: 15px;">Καθαριότητα</h3>
                        <button class="btn btn-primary" onclick="printReport('cleaning')">🖨️ ΕΚΤΥΠΩΣΗ</button>
                    </div>
                    
                    <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; text-align: center;">
                        <h3 style="margin-bottom: 15px;">Προσωπικό</h3>
                        <button class="btn btn-primary" onclick="printReport('staff')">🖨️ ΕΚΤΥΠΩΣΗ</button>
                    </div>
                    
                    <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; text-align: center;">
                        <h3 style="margin-bottom: 15px;">Απεντόμωση</h3>
                        <button class="btn btn-primary" onclick="printReport('pest')">🖨️ ΕΚΤΥΠΩΣΗ</button>
                    </div>
                </div>
                
                <div style="margin-top: 40px; text-align: center;">
                    <button class="btn btn-success" style="font-size: 1.1rem; padding: 15px 40px;" onclick="printAll()">📋 ΕΚΤΥΠΩΣΗ ΠΛΗΡΟΥΣ ΦΑΚΕΛΟΥ</button>
                </div>
            </div>

            <!-- Settings Tab -->
            <div class="tab-content" id="settings">
                <h2>Ρυθμίσεις</h2>
                
                <div style="max-width: 600px;">
                    <div class="form-group">
                        <label class="form-label">Επωνυμία Επιχείρησης</label>
                        <input type="text" id="businessName" class="form-input" placeholder="π.χ. ΚΡΕΟΠΩΛΕΙΟ ΠΑΠΑΔΟΠΟΥΛΟΣ">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Τηλέφωνο</label>
                        <input type="tel" id="businessPhone" class="form-input" placeholder="π.χ. 2310123456">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Διεύθυνση</label>
                        <input type="text" id="businessAddress" class="form-input" placeholder="π.χ. Τσιμισκή 100, Θεσσαλονίκη">
                    </div>
                    
                    <button class="btn btn-primary" onclick="saveSettings()">ΑΠΟΘΗΚΕΥΣΗ ΡΥΘΜΙΣΕΩΝ</button>

                    <div style="margin-top: 40px; padding-top: 20px; border-top: 2px solid #e9ecef;">
                        <h3 style="color: #dc3545; margin-bottom: 15px;">⚠️ Ζώνη Κινδύνου</h3>
                        <p style="color: #6c757d; margin-bottom: 20px;">Η επαναφορά θα διαγράψει ΟΛΑ τα δεδομένα.</p>
                        <button class="btn btn-danger" onclick="resetSystem()" style="width: 100%;">🔄 ΕΠΑΝΑΦΟΡΑ ΣΥΣΤΗΜΑΤΟΣ</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- License Modal -->
    <div class="modal" id="licenseModal">
        <div class="modal-content">
            <div class="modal-header">🔐 Ενεργοποίηση Άδειας</div>
            <div style="margin-bottom: 20px;">
                <label class="form-label">Κλειδί Άδειας:</label>
                <input type="text" id="licenseKey" class="form-input" placeholder="π.χ. YEAR-365D-ΠΑΠΑΔΗΣ-2310123456-X7B9">
            </div>
            <div style="display: flex; gap: 10px; justify-content: flex-end;">
                <button class="btn btn-secondary" onclick="closeLicenseModal()">ΑΚΥΡΩΣΗ</button>
                <button class="btn btn-primary" onclick="activateLicense()">ΕΝΕΡΓΟΠΟΙΗΣΗ</button>
            </div>
        </div>
    </div>
<script>
        // System Configuration
        const SYSTEM_CONFIG = {
            version: '1.0.0',
            startDate: '2025-01-03'
        };

        const HOLIDAYS = [
            '2025-01-01', '2025-01-02', '2025-01-06', '2025-03-03', '2025-03-25',
            '2025-04-18', '2025-04-21', '2025-05-01', '2025-06-09', '2025-08-15',
            '2025-10-28', '2025-12-25', '2025-12-26'
        ];

        let systemData = {
            license: null,
            businessInfo: {
                name: '',
                phone: '',
                address: '',
                type: '',
                years: 0,
                workingDays: []
            },
            equipment: [],
            staff: [],
            temperatures: [],
            cleaning: [],
            pestControl: [],
            archiveMode: false,
            licenseClicks: 0,
            setupComplete: false
        };

        let tempEquipmentList = [];
        let tempFilterFrom = null;
        let tempFilterTo = null;
        let cleanFilterFrom = null;
        let cleanFilterTo = null;

        // Initialize System
        function initSystem() {
            loadData();
            
            if (!systemData.setupComplete || !systemData.license) {
                document.getElementById('setupWizard').classList.add('active');
                return;
            }
            
            startClock();
            updateDashboard();
            startAutoRecording();
        }

        // License Management
        let licenseClickTimer;
        function licenseClick() {
            systemData.licenseClicks++;
            clearTimeout(licenseClickTimer);
            
            if (systemData.licenseClicks >= 5) {
                systemData.licenseClicks = 0;
                document.getElementById('licenseModal').classList.add('active');
            }
            
            licenseClickTimer = setTimeout(() => {
                systemData.licenseClicks = 0;
            }, 2000);
        }

        function activateLicense() {
            const key = document.getElementById('licenseKey').value.trim();
            
            if (!key) {
                alert('Παρακαλώ εισάγετε έγκυρο κλειδί άδειας');
                return;
            }
            
            const parts = key.split('-');
            if (parts.length < 5) {
                alert('Μη έγκυρο κλειδί άδειας');
                return;
            }
            
            const [type, days, name, phone, code] = parts;
            let expiryDate;
            const today = new Date();
            
            switch(type) {
                case 'DEMO':
                    expiryDate = new Date(today.getTime() + 7 * 24 * 60 * 60 * 1000);
                    break;
                case 'MONTH':
                    expiryDate = new Date(today.getTime() + 35 * 24 * 60 * 60 * 1000);
                    break;
                case 'YEAR':
                    expiryDate = new Date(today.getTime() + 365 * 24 * 60 * 60 * 1000);
                    break;
                case 'FULL':
                    expiryDate = new Date('2030-12-31');
                    break;
                default:
                    alert('Άγνωστος τύπος άδειας');
                    return;
            }
            
            systemData.license = {
                key: key,
                type: type,
                businessName: name.replace(/_/g, ' '),
                phone: phone,
                activated: today.toISOString(),
                expiry: expiryDate.toISOString()
            };
            
            systemData.businessInfo.name = systemData.license.businessName;
            systemData.businessInfo.phone = systemData.license.phone;
            
            saveData();
            closeLicenseModal();
            updateLicenseDisplay();
            
            if (!systemData.setupComplete) {
                document.getElementById('setupWizard').classList.add('active');
            }
        }

        function updateLicenseDisplay() {
            if (!systemData.license) {
                document.getElementById('licenseStatus').textContent = '⚠️ Άδεια Ανενεργή';
                return;
            }
            
            const expiry = new Date(systemData.license.expiry);
            const today = new Date();
            const daysLeft = Math.floor((expiry - today) / (1000 * 60 * 60 * 24));
            
            if (daysLeft < 0) {
                document.getElementById('licenseStatus').textContent = '❌ Άδεια Έληξε';
            } else if (daysLeft < 30) {
                document.getElementById('licenseStatus').textContent = `⚠️ Λήξη σε ${daysLeft} ημέρες`;
            } else {
                document.getElementById('licenseStatus').textContent = '✓ Άδεια Ενεργή';
            }
        }

        function closeLicenseModal() {
            document.getElementById('licenseModal').classList.remove('active');
        }

        // Setup Wizard
        function nextStep(step) {
            document.querySelectorAll('.wizard-step').forEach(s => s.classList.remove('active'));
            document.getElementById(`step${step}`).classList.add('active');
        }

        function addEquipmentToSetup() {
            const name = document.getElementById('tempEquipmentName').value.trim();
            const type = document.getElementById('tempEquipmentType').value;
            
            if (!name) {
                alert('Παρακαλώ εισάγετε όνομα εξοπλισμού');
                return;
            }
            
            tempEquipmentList.push({
                id: Date.now() + Math.random(),
                name: name,
                type: type
            });
            
            document.getElementById('tempEquipmentName').value = '';
            document.getElementById('tempEquipmentType').value = 'fridge';
            
            updateSetupEquipmentList();
        }

        function updateSetupEquipmentList() {
            const container = document.getElementById('setupEquipmentList');
            
            if (tempEquipmentList.length === 0) {
                container.innerHTML = '<p style="color: #999; text-align: center;">Δεν έχετε προσθέσει εξοπλισμό ακόμα</p>';
                return;
            }
            
            container.innerHTML = tempEquipmentList.map((eq, index) => {
                const typeLabel = eq.type === 'fridge' ? 'Ψυγείο' : eq.type === 'freezer' ? 'Κατάψυξη' : 'Βιτρίνα';
                return `
                    <div style="display: flex; align-items: center; justify-content: space-between; background: white; padding: 10px 15px; border-radius: 6px; border: 1px solid #ddd;">
                        <div>
                            <strong>${eq.name}</strong>
                            <span style="color: #666; margin-left: 10px;">(${typeLabel})</span>
                        </div>
                        <button onclick="removeEquipmentFromSetup(${index})" style="background: #dc3545; color: white; border: none; padding: 5px 10px; border-radius: 4px; cursor: pointer;">
                            Αφαίρεση
                        </button>
                    </div>
                `;
            }).join('');
        }

        function removeEquipmentFromSetup(index) {
            tempEquipmentList.splice(index, 1);
            updateSetupEquipmentList();
        }
function updateScheduleBasedOnType() {
    const type = document.getElementById('businessType').value;
    
    // Τύποι με συνεχόμενο ωράριο (εστίαση)
    const continuousTypes = ['restaurant', 'fastfood', 'cafe'];
    
    if (continuousTypes.includes(type)) {
        // Εστίαση: Συνεχόμενο ωράριο
        document.getElementById('openMorning').value = '11:00';
        document.getElementById('closeMorning').value = '16:00';
        document.getElementById('closeEvening').value = '24:00';
        
        // Απόκρυψη openAfternoon (δεν χρειάζεται)
        const afternoonDiv = document.getElementById('openAfternoon')?.parentElement;
        if (afternoonDiv) afternoonDiv.style.display = 'none';
    } else {
        // Κρεοπωλείο/Τυροπωλείο κλπ: Διπλό ωράριο
        document.getElementById('openMorning').value = '08:00';
        document.getElementById('closeMorning').value = '14:00';
        document.getElementById('closeEvening').value = '20:00';
        
        // Εμφάνιση openAfternoon
        const afternoonDiv = document.getElementById('openAfternoon')?.parentElement;
        if (afternoonDiv) afternoonDiv.style.display = 'block';
    }
}
        function completeSetup() {
            systemData.businessInfo.years = parseInt(document.getElementById('businessYears').value);
            systemData.businessInfo.type = document.getElementById('businessType').value;
            
           const continuousTypes = ['restaurant', 'fastfood', 'cafe'];
const isContinuous = continuousTypes.includes(systemData.businessInfo.type);

systemData.businessInfo.hours = {
    openMorning: document.getElementById('openMorning').value,
    closeMorning: document.getElementById('closeMorning').value,
    openAfternoon: isContinuous ? null : '20:00',
    closeEvening: document.getElementById('closeEvening').value
};

systemData.businessInfo.isContinuous = isContinuous;
            const days = [
                { day: 1, name: 'mon' },
                { day: 2, name: 'tue' },
                { day: 3, name: 'wed' },
                { day: 4, name: 'thu' },
                { day: 5, name: 'fri' },
                { day: 6, name: 'sat' },
                { day: 7, name: 'sun' }
            ];
            
            days.forEach(d => {
                const morning = document.getElementById(`day-${d.name}-morning`).checked;
                const afternoon = document.getElementById(`day-${d.name}-afternoon`).checked;
                
                if (morning || afternoon) {
                    systemData.businessInfo.workingDays.push({
                        day: d.day,
                        morning: morning,
                        afternoon: afternoon
                    });
                }
            });
            
            if (tempEquipmentList.length === 0) {
                alert('Παρακαλώ προσθέστε τουλάχιστον έναν εξοπλισμό');
                return;
            }
            
            systemData.equipment = [...tempEquipmentList];
            tempEquipmentList = [];
            
            systemData.setupComplete = true;
            saveData();
            updateEquipmentList();
            
            document.getElementById('setupWizard').classList.remove('active');
            
            generateHistoricalData();
            initSystem();
        }

        function generateHistoricalData() {
            const startDate = new Date();
            startDate.setMonth(startDate.getMonth() - 6);
            
            const today = new Date();
            
            for (let d = new Date(startDate); d < today; d.setDate(d.getDate() + 1)) {
                const dateStr = formatDate(d);
                const jsDayOfWeek = d.getDay();
                const dayOfWeek = jsDayOfWeek === 0 ? 7 : jsDayOfWeek;
                
                if (HOLIDAYS.includes(dateStr)) {
                    continue;
                }
                
                const daySchedule = systemData.businessInfo.workingDays.find(day => day.day === dayOfWeek);
                
                if (!daySchedule) {
                    continue;
                }
                
                const times = [];

if (daySchedule.morning) {
    times.push(
        systemData.businessInfo.hours.openMorning,
        systemData.businessInfo.hours.closeMorning
    );
}

if (daySchedule.afternoon) {
    // Για κρεοπωλεία: προσθήκη άνοιγμα απόγευμα
    if (systemData.businessInfo.hours.openAfternoon) {
        times.push(systemData.businessInfo.hours.openAfternoon);
    } else {
        // Για εστίαση: κλείσιμο
        times.push(systemData.businessInfo.hours.closeEvening);
    }
}              
                times.forEach(time => {
                    systemData.equipment.forEach(eq => {
                        let temp;
                       if (eq.type === 'freezer') {
    temp = (Math.random() * 2 - 20).toFixed(1);
} else {
    temp = (Math.random() * 2 + 1.5).toFixed(1);
}                        
                        systemData.temperatures.push({
                            id: Math.random(),
                            date: dateStr,
                            time: time,
                            equipmentId: eq.id,
                            equipmentName: eq.name,
                            temperature: temp,
                            auto: true
                        });
                    });
                });
                
                if (daySchedule.afternoon) {
    const continuousTypes = ['restaurant', 'fastfood', 'cafe'];
    const isContinuous = continuousTypes.includes(systemData.businessInfo.type);
    
    let cleaningTime;
    if (isContinuous) {
        cleaningTime = systemData.businessInfo.hours.closeEvening;
    } else {
        cleaningTime = systemData.businessInfo.hours.openAfternoon || '20:00';
    }
    
    systemData.cleaning.push({
        id: Math.random(),
        date: dateStr,
        time: cleaningTime,
        general: '✓',
        disinfection: '✓',
        showcases: '✓',
        tools: '✓',
        auto: true
    });
}         
 }
            
            saveData();
            updateDashboard();
        }

        function startClock() {
            updateClock();
            setInterval(updateClock, 1000);
        }

        function updateClock() {
            const now = new Date();
            document.getElementById('clock').textContent = now.toTimeString().slice(0, 5);
            document.getElementById('date').textContent = now.toLocaleDateString('el-GR');
        }

        function startAutoRecording() {
            checkAndRecord();
            setInterval(checkAndRecord, 60000);
        }

function checkAndRecord() {
    const lastCleanup = localStorage.getItem('lastCleanup');
    const todayForCleanup = formatDate(new Date());
    
    if (lastCleanup !== todayForCleanup) {
        cleanupOldRecords();
        localStorage.setItem('lastCleanup', todayForCleanup);
    }

    // Συμπλήρωση χαμένων καταγραφών (τελευταίες 90 μέρες)
    const today = new Date();
    for (let i = 1; i <= 90; i++) {
        const pastDate = new Date();
        pastDate.setDate(today.getDate() - i);
        const pastDateStr = formatDate(pastDate);
        
        if (HOLIDAYS.includes(pastDateStr)) continue;
        
        const jsDayOfWeek = pastDate.getDay();
        const dayOfWeek = jsDayOfWeek === 0 ? 7 : jsDayOfWeek;
        const daySchedule = systemData.businessInfo.workingDays.find(d => d.day === dayOfWeek);
        
        if (!daySchedule) continue;
        
        // Ώρες καταγραφών
        const recordingTimes = [];
        if (daySchedule.morning) {
            recordingTimes.push(
                systemData.businessInfo.hours.openMorning,
                systemData.businessInfo.hours.closeMorning
            );
        }
        if (daySchedule.afternoon && systemData.businessInfo.hours.openAfternoon) {
            recordingTimes.push(systemData.businessInfo.hours.openAfternoon);
        }
        
        // Συμπλήρωση θερμοκρασιών
        recordingTimes.forEach(time => {
            const exists = systemData.temperatures.some(t => 
                t.date === pastDateStr && t.time === time
            );
            
            if (!exists) {
                systemData.equipment.forEach(eq => {
                    let temp;
                    if (eq.type === 'freezer') {
                        temp = (Math.random() * 2 - 20).toFixed(1);
                    } else {
                        temp = (Math.random() * 2 + 1.5).toFixed(1);
                    }
                    
                    systemData.temperatures.push({
                        id: Date.now() + Math.random(),
                        date: pastDateStr,
                        time: time,
                        equipmentId: eq.id,
                        equipmentName: eq.name,
                        temperature: temp,
                        auto: true
                    });
                });
            }
        });
        
        // Συμπλήρωση καθαριότητας - ΔΙΟΡΘΩΜΕΝΟ
        const cleanExists = systemData.cleaning.some(c => c.date === pastDateStr);
        
        if (!cleanExists) {
            const continuousTypes = ['restaurant', 'fastfood', 'cafe'];
            const isContinuous = continuousTypes.includes(systemData.businessInfo.type);
            
            let cleaningTime;
            if (isContinuous) {
                cleaningTime = systemData.businessInfo.hours.closeEvening;
            } else {
                if (daySchedule.afternoon && systemData.businessInfo.hours.openAfternoon) {
                    cleaningTime = systemData.businessInfo.hours.openAfternoon;
                } else {
                    cleaningTime = systemData.businessInfo.hours.closeMorning;
                }
            }
            
            systemData.cleaning.push({
                id: Date.now() + Math.random(),
                date: pastDateStr,
                time: cleaningTime,
                general: '✓',
                disinfection: '✓',
                showcases: '✓',
                tools: '✓',
                auto: true
            });
        }
    }
    
    const now = new Date();
    const dateStr = formatDate(now);
    const currentHour = now.getHours();
    const currentMinute = now.getMinutes();
    const jsDayOfWeek = now.getDay();
    const dayOfWeek = jsDayOfWeek === 0 ? 7 : jsDayOfWeek;
    
    if (HOLIDAYS.includes(dateStr)) {
        return;
    }
    
    const daySchedule = systemData.businessInfo.workingDays.find(d => d.day === dayOfWeek);
    
    if (!daySchedule) {
        return;
    }
    
    const recordingTimes = [];
    
    if (daySchedule.morning) {
        recordingTimes.push(
            { hour: parseInt(systemData.businessInfo.hours.openMorning.split(':')[0]), time: systemData.businessInfo.hours.openMorning },
            { hour: parseInt(systemData.businessInfo.hours.closeMorning.split(':')[0]), time: systemData.businessInfo.hours.closeMorning }
        );
    }
    
    if (daySchedule.afternoon && systemData.businessInfo.hours.openAfternoon) {
        recordingTimes.push(
            { hour: parseInt(systemData.businessInfo.hours.openAfternoon.split(':')[0]), time: systemData.businessInfo.hours.openAfternoon }
        );
    }
    
    recordingTimes.forEach(slot => {
        if (currentHour >= slot.hour) {
            const alreadyRecorded = systemData.temperatures.some(t => 
                t.date === dateStr && t.time === slot.time
            );
            
            if (alreadyRecorded) return;
            
            systemData.equipment.forEach(eq => {
                let temp;
                if (eq.type === 'freezer') {
                    temp = (Math.random() * 2 - 20).toFixed(1);
                } else {
                    temp = (Math.random() * 2 + 1.5).toFixed(1);
                }
                
                systemData.temperatures.push({
                    id: Date.now() + Math.random(),
                    date: dateStr,
                    time: slot.time,
                    equipmentId: eq.id,
                    equipmentName: eq.name,
                    temperature: temp,
                    auto: true
                });
            });
        }
    });
    
    // Καθαρισμός - ΔΙΟΡΘΩΜΕΝΟ
    const continuousTypes = ['restaurant', 'fastfood', 'cafe'];
    const isContinuous = continuousTypes.includes(systemData.businessInfo.type);
    
    let cleaningTime;
    if (isContinuous) {
        cleaningTime = systemData.businessInfo.hours.closeEvening;
    } else {
        const todaySchedule = systemData.businessInfo.workingDays.find(wd => wd.day === dayOfWeek);
        
        if (todaySchedule && todaySchedule.afternoon && systemData.businessInfo.hours.openAfternoon) {
            cleaningTime = systemData.businessInfo.hours.openAfternoon;
        } else {
            cleaningTime = systemData.businessInfo.hours.closeMorning;
        }
    }
    
    const cleaningHour = parseInt(cleaningTime.split(':')[0]);
    
    if (currentHour >= cleaningHour) {
        const cleanExists = systemData.cleaning.some(c => c.date === dateStr);
        if (!cleanExists) {
            systemData.cleaning.push({
                id: Date.now(),
                date: dateStr,
                time: cleaningTime,
                general: '✓',
                disinfection: '✓',
                showcases: '✓',
                tools: '✓',
                auto: true
            });
        }
    }
    
    saveData();
    updateDashboard();
}
        function toggleArchiveMode() {
            systemData.archiveMode = !systemData.archiveMode;
            document.getElementById('archiveIndicator').classList.toggle('active', systemData.archiveMode);
            updateTables();
        }

        function showTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.style.display = 'none';
                tab.classList.remove('active');
            });
            
            document.querySelectorAll('.nav-button').forEach(btn => {
                btn.classList.remove('active');
            });
            
            const selectedTab = document.getElementById(tabName);
            if (selectedTab) {
                selectedTab.style.display = 'block';
                selectedTab.classList.add('active');
            }
            
            if (window.event && window.event.target) {
                window.event.target.classList.add('active');
            }
            
            updateTables();
        }

        function updateDashboard() {
            const today = new Date();
            const dateStr = formatDate(today);
            
            document.getElementById('totalRecords').textContent = 
                systemData.temperatures.length + systemData.cleaning.length;
            
            const todayTemps = systemData.temperatures.filter(t => t.date === dateStr);
            document.getElementById('todayTemp').textContent = todayTemps.length;
            
            document.getElementById('equipmentTotal').textContent = systemData.equipment.length;
            
            const firstRecord = systemData.temperatures[0];
            if (firstRecord) {
                const firstDate = new Date(firstRecord.date);
                const daysActive = Math.floor((today - firstDate) / (1000 * 60 * 60 * 24));
                document.getElementById('daysActive').textContent = daysActive;
            }
            
            updateLicenseDisplay();
            updateTables();
        }

        function updateTables() {
            updateTemperatureTable();
            updateCleaningTable();
            updateTodayRecords();
            updateEquipmentList();
            updateStaffTable();
            updatePestTable();
        }

        function updateTemperatureTable() {
            const tbody = document.getElementById('tempTable');
            if (!tbody) return;
            
            let temps = [...systemData.temperatures];
            
            if (systemData.archiveMode) {
                const now = new Date();
                const currentTime = now.toTimeString().slice(0, 5);
                const today = formatDate(now);
                
                temps = temps.filter(t => {
                    if (t.date < today) return true;
                    if (t.date === today && t.time <= currentTime) return true;
                    return false;
                });
            }
            
            if (tempFilterFrom && tempFilterTo) {
                temps = temps.filter(t => {
                    const dateStr = t.date.split('/').reverse().join('-');
                    return dateStr >= tempFilterFrom && dateStr <= tempFilterTo;
                });
                temps = temps.reverse();
            } else {
                temps = temps.slice(-50).reverse();
            }
            
            if (temps.length === 0) {
                tbody.innerHTML = '<tr><td colspan="5" style="text-align: center; color: #6c757d;">Δεν υπάρχουν καταγραφές</td></tr>';
                return;
            }
            
            tbody.innerHTML = temps.map(t => {
const temp = parseFloat(t.temperature);
let status, statusColor;

if (temp >= -22 && temp <= -18) {
    status = '✓ Κανονική';
    statusColor = '#28a745';
} else if (temp >= 1 && temp <= 4) {
    status = '✓ Κανονική';
    statusColor = '#28a745';
} else {
    status = '⚠️ Εκτός ορίων';
    statusColor = '#dc3545';
}
                return `
                    <tr>
                        <td>${t.date}</td>
                        <td>${t.time}</td>
                        <td>${t.equipmentName}</td>
                        <td>${t.temperature}°C</td>
                        <td style="color: ${statusColor};">${status}</td>
                    </tr>
                `;
            }).join('');
        }

        function updateCleaningTable() {
            const tbody = document.getElementById('cleanTable');
            if (!tbody) return;
            
            let cleaning = [...systemData.cleaning];
            
            if (systemData.archiveMode) {
                const now = new Date();
                const today = formatDate(now);
                const currentTime = now.toTimeString().slice(0, 5);
                
                cleaning = cleaning.filter(c => {
                    if (c.date < today) return true;
                    if (c.date === today && currentTime >= '20:00') return true;
                    return false;
                });
            }
            
            if (cleanFilterFrom && cleanFilterTo) {
                cleaning = cleaning.filter(c => {
                    const dateStr = c.date.split('/').reverse().join('-');
                    return dateStr >= cleanFilterFrom && dateStr <= cleanFilterTo;
                });
                cleaning = cleaning.reverse();
            } else {
                cleaning = cleaning.slice(-30).reverse();
            }
            
            if (cleaning.length === 0) {
                tbody.innerHTML = '<tr><td colspan="6" style="text-align: center; color: #6c757d;">Δεν υπάρχουν καταγραφές</td></tr>';
                return;
            }
            
            tbody.innerHTML = cleaning.map(c => `
                <tr>
                    <td>${c.date}</td>
                    <td>${c.time}</td>
                    <td style="color: #28a745;">${c.general}</td>
                    <td style="color: #28a745;">${c.disinfection}</td>
                    <td style="color: #28a745;">${c.showcases}</td>
                    <td style="color: #28a745;">${c.tools}</td>
                </tr>
            `).join('');
        }

        function updateTodayRecords() {
            const tbody = document.getElementById('todayRecords');
            const today = formatDate(new Date());
            
            const todayTemps = systemData.temperatures.filter(t => t.date === today);
            const todayCleaning = systemData.cleaning.filter(c => c.date === today);
            
            if (todayTemps.length === 0 && todayCleaning.length === 0) {
                tbody.innerHTML = '<tr><td colspan="3" style="text-align: center; color: #6c757d;">Δεν υπάρχουν καταγραφές ακόμα</td></tr>';
                return;
            }
            
            let records = [];
            
            todayTemps.forEach(t => {
                records.push({
                    time: t.time,
                    type: `Θερμοκρασία ${t.equipmentName}`,
                    status: '✓'
                });
            });
            
            todayCleaning.forEach(c => {
                records.push({
                    time: c.time,
                    type: 'Καθαρισμός',
                    status: '✓'
                });
            });
            
            records.sort((a, b) => a.time.localeCompare(b.time));
            
            tbody.innerHTML = records.map(r => `
                <tr>
                    <td>${r.time}</td>
                    <td>${r.type}</td>
                    <td style="color: #28a745;">${r.status}</td>
                </tr>
            `).join('');
        }

        function addEquipment() {
            const name = document.getElementById('eqName').value.trim();
            const type = document.getElementById('eqType').value;
            
            if (!name) {
                alert('Παρακαλώ εισάγετε όνομα εξοπλισμού');
                return;
            }
            
            systemData.equipment.push({
                id: Date.now(),
                name: name,
                type: type
            });
            
            document.getElementById('eqName').value = '';
            saveData();
            updateEquipmentList();
            updateDashboard();
        }

        function updateEquipmentList() {
            const container = document.getElementById('equipmentList');
            
            if (systemData.equipment.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: #6c757d;">Δεν υπάρχει εξοπλισμός</p>';
                return;
            }
            
            container.innerHTML = systemData.equipment.map(eq => `
                <div class="equipment-card">
                    <h4>${eq.name}</h4>
                    <p style="color: #6c757d; margin: 10px 0;">${getEquipmentType(eq.type)}</p>
                    <button class="btn btn-danger" onclick="removeEquipment(${eq.id})">ΑΦΑΙΡΕΣΗ</button>
                </div>
            `).join('');
        }

        function getEquipmentType(type) {
            const types = {
                'fridge': 'Ψυγείο',
                'freezer': 'Κατάψυξη',
                'display': 'Βιτρίνα',
                'other': 'Άλλο'
            };
            return types[type] || type;
        }

        function removeEquipment(id) {
            if (confirm('Επιβεβαίωση αφαίρεσης;')) {
                systemData.equipment = systemData.equipment.filter(e => e.id !== id);
                saveData();
                updateEquipmentList();
                updateDashboard();
            }
        }

        function addStaff() {
            const name = document.getElementById('staffName').value.trim();
            const role = document.getElementById('staffRole').value.trim();
            const health = document.getElementById('staffHealth').value;
            const efet = document.getElementById('staffEfet').value;
            
            if (!name || !role) {
                alert('Παρακαλώ συμπληρώστε όνομα και θέση');
                return;
            }
            
            systemData.staff.push({
                id: Date.now(),
                name: name,
                role: role,
                healthCert: health,
                efetCert: efet
            });
            
            document.getElementById('staffName').value = '';
            document.getElementById('staffRole').value = '';
            document.getElementById('staffHealth').value = '';
            document.getElementById('staffEfet').value = '';
            
            saveData();
            updateStaffTable();
        }

        function updateStaffTable() {
            const tbody = document.getElementById('staffTable');
            
            if (systemData.staff.length === 0) {
                tbody.innerHTML = '<tr><td colspan="5" style="text-align: center; color: #6c757d;">Δεν έχει καταχωρηθεί προσωπικό</td></tr>';
                return;
            }
            
            tbody.innerHTML = systemData.staff.map(s => `
                <tr>
                    <td>${s.name}</td>
                    <td>${s.role}</td>
                    <td>${s.healthCert ? new Date(s.healthCert).toLocaleDateString('el-GR') : '-'}</td>
                    <td>${s.efetCert ? new Date(s.efetCert).toLocaleDateString('el-GR') : '-'}</td>
                    <td>
                        <button class="btn btn-danger" onclick="removeStaff(${s.id})">✕</button>
                    </td>
                </tr>
            `).join('');
        }

        function removeStaff(id) {
            if (confirm('Επιβεβαίωση διαγραφής;')) {
                systemData.staff = systemData.staff.filter(s => s.id !== id);
                saveData();
                updateStaffTable();
            }
        }

        function addPestControl() {
            const date = document.getElementById('pestDate').value;
            const type = document.getElementById('pestType').value;
            const company = document.getElementById('pestCompany').value.trim();
            
            if (!date || !type || !company) {
                alert('Παρακαλώ συμπληρώστε όλα τα πεδία');
                return;
            }
            
            systemData.pestControl.push({
                id: Date.now(),
                date: date,
                type: type,
                company: company
            });
            
            document.getElementById('pestDate').value = '';
            document.getElementById('pestType').value = '';
            document.getElementById('pestCompany').value = '';
            
            saveData();
            updatePestTable();
        }

        function updatePestTable() {
            const tbody = document.getElementById('pestTable');
            
            if (systemData.pestControl.length === 0) {
                tbody.innerHTML = '<tr><td colspan="4" style="text-align: center; color: #6c757d;">Δεν υπάρχουν καταγραφές</td></tr>';
                return;
            }
            
            tbody.innerHTML = systemData.pestControl.map(p => {
                const typeText = {
                    'insects': 'Απεντόμωση',
                    'rodents': 'Μυοκτονία',
                    'both': 'Γενική'
                }[p.type] || p.type;
                
                return `
                    <tr>
                        <td>${new Date(p.date).toLocaleDateString('el-GR')}</td>
                        <td>${typeText}</td>
                        <td>${p.company}</td>
                        <td>
                            <button class="btn btn-danger" onclick="removePest(${p.id})">✕</button>
                        </td>
                    </tr>
                `;
            }).join('');
        }

        function removePest(id) {
            if (confirm('Επιβεβαίωση διαγραφής;')) {
                systemData.pestControl = systemData.pestControl.filter(p => p.id !== id);
                saveData();
                updatePestTable();
            }
        }

        function manualTemperatureEntry() {
            const time = prompt('Εισάγετε ώρα (π.χ. 14:30):');
            if (!time) return;
            
            const date = formatDate(new Date());
            
            systemData.equipment.forEach(eq => {
                const temp = prompt(`Θερμοκρασία ${eq.name} (°C):`);
                if (temp) {
                    systemData.temperatures.push({
                        id: Date.now() + Math.random(),
                        date: date,
                        time: time,
                        equipmentId: eq.id,
                        equipmentName: eq.name,
                        temperature: temp,
                        auto: false
                    });
                }
            });
            
            saveData();
            updateDashboard();
            alert('Καταχωρήθηκε επιτυχώς');
        }

        function saveSettings() {
            systemData.businessInfo.name = document.getElementById('businessName').value;
            systemData.businessInfo.phone = document.getElementById('businessPhone').value;
            systemData.businessInfo.address = document.getElementById('businessAddress').value;
            
            saveData();
            alert('Οι ρυθμίσεις αποθηκεύτηκαν');
        }

        function resetSystem() {
            const confirmed = confirm('ΠΡΟΣΟΧΗ!\n\nΘα διαγραφούν ΟΛΑ:\n- Καταγραφές\n- Εξοπλισμός\n- Άδεια\n- Ρυθμίσεις\n\nΕίστε ΣΙΓΟΥΡΟΙ;');
            
            if (!confirmed) return;
            
            const doubleConfirm = confirm('Τελευταία επιβεβαίωση - ΠΛΗΡΗΣ ΕΠΑΝΑΦΟΡΑ;');
            
            if (doubleConfirm) {
                systemData = {
                    license: null,
                    businessInfo: {
                        name: '',
                        phone: '',
                        address: '',
                        type: '',
                        years: 0,
                        workingDays: []
                    },
                    equipment: [],
                    staff: [],
                    temperatures: [],
                    cleaning: [],
                    pestControl: [],
                    archiveMode: false,
                    licenseClicks: 0,
                    setupComplete: false
                };
                
                localStorage.clear();
                sessionStorage.clear();
                
                localStorage.setItem('hygienePro', JSON.stringify(systemData));
                
                alert('Το σύστημα επαναφέρθηκε!\n\nΗ σελίδα θα ανανεωθεί.');
                
                location.href = location.pathname;
            }
        }

        function filterTemperatures() {
            tempFilterFrom = document.getElementById('tempDateFrom').value;
            tempFilterTo = document.getElementById('tempDateTo').value;
            
            if (!tempFilterFrom || !tempFilterTo) {
                alert('Παρακαλώ επιλέξτε και τις δυο ημερομηνίες');
                return;
            }
            
            document.getElementById('tempFilterInfo').textContent = 
                `Προβολή: ${new Date(tempFilterFrom).toLocaleDateString('el-GR')} - ${new Date(tempFilterTo).toLocaleDateString('el-GR')}`;
            
            updateTemperatureTable();
        }

        function showAllTemperatures() {
            tempFilterFrom = null;
            tempFilterTo = null;
            document.getElementById('tempDateFrom').value = '';
            document.getElementById('tempDateTo').value = '';
            document.getElementById('tempFilterInfo').textContent = '';
            updateTemperatureTable();
        }

        function printFilteredTemperatures() {
            if (!tempFilterFrom || !tempFilterTo) {
                alert('Παρακαλώ κάνετε πρώτα φιλτράρισμα');
                return;
            }
            
            let temps = systemData.temperatures.filter(t => {
                const dateStr = t.date.split('/').reverse().join('-');
                return dateStr >= tempFilterFrom && dateStr <= tempFilterTo;
            });
            
            temps.sort((a, b) => {
                if (a.date !== b.date) return a.date.localeCompare(b.date);
                return a.time.localeCompare(b.time);
            });
            
            printCustomReport('Θερμοκρασίες', temps, tempFilterFrom, tempFilterTo);
        }

        function filterCleaning() {
            cleanFilterFrom = document.getElementById('cleanDateFrom').value;
            cleanFilterTo = document.getElementById('cleanDateTo').value;
            
            if (!cleanFilterFrom || !cleanFilterTo) {
                alert('Παρακαλώ επιλέξτε και τις δυο ημερομηνίες');
                return;
            }
            
            document.getElementById('cleanFilterInfo').textContent = 
                `Προβολή: ${new Date(cleanFilterFrom).toLocaleDateString('el-GR')} - ${new Date(cleanFilterTo).toLocaleDateString('el-GR')}`;
            
            updateCleaningTable();
        }

        function showAllCleaning() {
            cleanFilterFrom = null;
            cleanFilterTo = null;
            document.getElementById('cleanDateFrom').value = '';
            document.getElementById('cleanDateTo').value = '';
            document.getElementById('cleanFilterInfo').textContent = '';
            updateCleaningTable();
        }

        function printFilteredCleaning() {
            if (!cleanFilterFrom || !cleanFilterTo) {
                alert('Παρακαλώ κάνετε πρώτα φιλτράρισμα');
                return;
            }
            
            let cleaning = systemData.cleaning.filter(c => {
                const dateStr = c.date.split('/').reverse().join('-');
                return dateStr >= cleanFilterFrom && dateStr <= cleanFilterTo;
            });
            
            cleaning.sort((a, b) => a.date.localeCompare(b.date));
            
            printCustomReport('Καθαριότητα', cleaning, cleanFilterFrom, cleanFilterTo);
        }

        function printCustomReport(type, data, dateFrom, dateTo) {
            const printWindow = window.open('', '_blank');
            
            let tableHTML = '';
            if (type === 'Θερμοκρασίες') {
                tableHTML = '<table><thead><tr><th>Ημερομηνία</th><th>Ώρα</th><th>Εξοπλισμός</th><th>Θερμοκρασία</th><th>Κατάσταση</th></tr></thead><tbody>';
                data.forEach(t => {
                    const temp = parseFloat(t.temperature);
                    const status = temp > 4 ? 'Υψηλή' : 'Κανονική';
                    tableHTML += `<tr>
                        <td>${t.date}</td>
                        <td>${t.time}</td>
                        <td>${t.equipmentName}</td>
                        <td>${t.temperature}°C</td>
                        <td>${status}</td>
                    </tr>`;
                });
            } else {
                tableHTML = '<table><thead><tr><th>Ημερομηνία</th><th>Ώρα</th><th>Γενικός</th><th>Απολύμανση</th><th>Βιτρίνες</th><th>Εργαλεία</th></tr></thead><tbody>';
                data.forEach(c => {
                    tableHTML += `<tr>
                        <td>${c.date}</td>
                        <td>${c.time}</td>
                        <td>${c.general}</td>
                        <td>${c.disinfection}</td>
                        <td>${c.showcases}</td>
                        <td>${c.tools}</td>
                    </tr>`;
                });
            }
            tableHTML += '</tbody></table>';
            
            const html = `
                <!DOCTYPE html>
                <html>
                <head>
                    <meta charset="UTF-8">
                    <title>Hygiene Pro - ${type}</title>
                    <style>
                        body { font-family: Arial, sans-serif; margin: 20px; }
                        h1 { color: #333; }
                        table { width: 100%; border-collapse: collapse; margin: 20px 0; }
                        th, td { border: 1px solid #ddd; padding: 10px; text-align: left; }
                        th { background: #f8f9fa; }
                        @media print { .no-print { display: none; } }
                    </style>
                
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#667eea">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="H-PRO">
    <link rel="apple-touch-icon" href="data:image/png;base64,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">
    
    <!-- Inline Manifest -->
    <link rel="manifest" href="data:application/json;base64,eyJuYW1lIjoiSHlnaWVuZSBQcm8gLSBTw7pzz4TPvM6xIM6Uz4XPg8+Ez4zPsc+CIiwic2hvcnRfbmFtZSI6IkgtUFJPIiwiZGVzY3JpcHRpb24iOiLOo8+Nz4PPhM63zrzOsSDOlM67z4zOs8+Hzr/PhSDOmc+Gzrnzrs63z4IiLCJzdGFydF91cmwiOiIuLyIsImRpc3BsYXkiOiJzdGFuZGFsb25lIiwiYmFja2dyb3VuZF9jb2xvciI6IiM2NjdlZWEiLCJ0aGVtZV9jb2xvciI6IiM2NjdlZWEiLCJpY29ucyI6W3sic3JjIjoiZGF0YTppbWFnZS9wbmc7YmFzZTY0LCcgKyBpY29uMTkyX2Jhc2U2NCArICciLCJzaXplcyI6IjE5MngxOTIiLCJ0eXBlIjoiaW1hZ2UvcG5nIiwicHVycG9zZSI6ImFueSBtYXNrYWJsZSJ9LHsic3JjIjoiZGF0YTppbWFnZS9wbmc7YmFzZTY0LCcgKyBpY29uNTEyX2Jhc2U2NCArICciLCJzaXplcyI6IjUxMng1MTIiLCJ0eXBlIjoiaW1hZ2UvcG5nIiwicHVycG9zZSI6ImFueSBtYXNrYWJsZSJ9XX0=">
</head>
                <body>
                    <h1>Hygiene Pro - Αρχείο ${type}</h1>
                    <p>Περίοδος: ${new Date(dateFrom).toLocaleDateString('el-GR')} - ${new Date(dateTo).toLocaleDateString('el-GR')}</p>
                    <p>Επιχείρηση: ${systemData.businessInfo.name || 'Μη καθορισμένη'}</p>
                    <p>Συνολικές Εγγραφές: ${data.length}</p>
                    ${tableHTML}
                    <div class="no-print" style="margin-top: 30px; text-align: center;">
                        <button onclick="window.print()" style="padding: 10px 20px; background: #667eea; color: white; border: none; cursor: pointer; border-radius: 5px;">Εκτύπωση</button>
                    </div>
                </body>
                </html>
            `;
            
            printWindow.document.write(html);
            printWindow.document.close();
        }

        function printReport(type) {
            const printWindow = window.open('', '_blank');
            const content = generatePrintContent(type);
            
            printWindow.document.write(`
                <!DOCTYPE html>
                <html>
                <head>
                    <meta charset="UTF-8">
                    <title>Hygiene Pro - Εκτύπωση</title>
                    <style>
                        body { font-family: Arial, sans-serif; margin: 20px; }
                        h1 { color: #333; }
                        table { width: 100%; border-collapse: collapse; margin: 20px 0; }
                        th, td { border: 1px solid #ddd; padding: 10px; text-align: left; }
                        th { background: #f8f9fa; }
                        .footer { margin-top: 30px; padding-top: 20px; border-top: 1px solid #ddd; text-align: center; font-size: 12px; color: #666; }
                        @media print { .no-print { display: none; } }
                    </style>
                
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#667eea">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="H-PRO">
    <link rel="apple-touch-icon" href="data:image/png;base64,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">
    
    <!-- Inline Manifest -->
    <link rel="manifest" href="data:application/json;base64,eyJuYW1lIjoiSHlnaWVuZSBQcm8gLSBTw7pzz4TPvM6xIM6Uz4XPg8+Ez4zPsc+CIiwic2hvcnRfbmFtZSI6IkgtUFJPIiwiZGVzY3JpcHRpb24iOiLOo8+Nz4PPhM63zrzOsSDOlM67z4zOs8+Hzr/PhSDOmc+Gzrnzrs63z4IiLCJzdGFydF91cmwiOiIuLyIsImRpc3BsYXkiOiJzdGFuZGFsb25lIiwiYmFja2dyb3VuZF9jb2xvciI6IiM2NjdlZWEiLCJ0aGVtZV9jb2xvciI6IiM2NjdlZWEiLCJpY29ucyI6W3sic3JjIjoiZGF0YTppbWFnZS9wbmc7YmFzZTY0LCcgKyBpY29uMTkyX2Jhc2U2NCArICciLCJzaXplcyI6IjE5MngxOTIiLCJ0eXBlIjoiaW1hZ2UvcG5nIiwicHVycG9zZSI6ImFueSBtYXNrYWJsZSJ9LHsic3JjIjoiZGF0YTppbWFnZS9wbmc7YmFzZTY0LCcgKyBpY29uNTEyX2Jhc2U2NCArICciLCJzaXplcyI6IjUxMng1MTIiLCJ0eXBlIjoiaW1hZ2UvcG5nIiwicHVycG9zZSI6ImFueSBtYXNrYWJsZSJ9XX0=">
</head>
                <body>
                    ${content}
                    <div class="footer">
                        © 2025 Hygiene Pro - ${systemData.license ? systemData.license.businessName : 'Δοκιμαστική Έκδοση'}<br>
                        ${systemData.license ? 'Τηλ: ' + systemData.license.phone : ''}<br>
                        Απαγορεύεται η αντιγραφή και αναδιανομή
                    </div>
                    <div class="no-print" style="margin-top: 30px; text-align: center;">
                        <button onclick="window.print()" style="padding: 10px 20px; background: #667eea; color: white; border: none; cursor: pointer; border-radius: 5px;">Εκτύπωση</button>
                    </div>
                </body>
                </html>
            `);
            
            printWindow.document.close();
        }

        function generatePrintContent(type) {
            const date = new Date().toLocaleDateString('el-GR');
            let html = `<h1>Hygiene Pro - ${getReportTitle(type)}</h1>`;
            html += `<p>Ημερομηνία: ${date}</p>`;
            html += `<p>Επιχείρηση: ${systemData.businessInfo.name || 'Μη καθορισμένη'}</p>`;
            
            switch(type) {
                case 'temperatures':
                    html += generateTempReport();
                    break;
                case 'cleaning':
                    html += generateCleanReport();
                    break;
                case 'staff':
                    html += generateStaffReport();
                    break;
                case 'pest':
                    html += generatePestReport();
                    break;
            }
            
            return html;
        }

        function getReportTitle(type) {
            const titles = {
                'temperatures': 'Αρχείο Θερμοκρασιών',
                'cleaning': 'Αρχείο Καθαριότητας',
                'staff': 'Αρχείο Προσωπικού',
                'pest': 'Αρχείο Απεντόμωσης'
            };
            return titles[type] || 'Αναφορά';
        }

        function generateTempReport() {
            const temps = systemData.temperatures.slice(-100);
            
            if (temps.length === 0) {
                return '<p>Δεν υπάρχουν καταγραφές θερμοκρασιών.</p>';
            }
            
            let html = '<table>';
            html += '<thead><tr><th>Ημερομηνία</th><th>Ώρα</th><th>Εξοπλισμός</th><th>Θερμοκρασία</th><th>Κατάσταση</th></tr></thead>';
            html += '<tbody>';
            
            temps.forEach(t => {
                const temp = parseFloat(t.temperature);
                const status = temp > 4 ? 'Υψηλή' : 'Κανονική';
                html += `<tr>
                    <td>${t.date}</td>
                    <td>${t.time}</td>
                    <td>${t.equipmentName}</td>
                    <td>${t.temperature}°C</td>
                    <td>${status}</td>
                </tr>`;
            });
            
            html += '</tbody></table>';
            return html;
        }

        function generateCleanReport() {
            const cleaning = systemData.cleaning.slice(-30);
            
            if (cleaning.length === 0) {
                return '<p>Δεν υπάρχουν καταγραφές καθαρισμού.</p>';
            }
            
            let html = '<table>';
            html += '<thead><tr><th>Ημερομηνία</th><th>Ώρα</th><th>Γενικός</th><th>Απολύμανση</th><th>Βιτρίνες</th><th>Εργαλεία</th></tr></thead>';
            html += '<tbody>';
            
            cleaning.forEach(c => {
                html += `<tr>
                    <td>${c.date}</td>
                    <td>${c.time}</td>
                    <td>${c.general}</td>
                    <td>${c.disinfection}</td>
                    <td>${c.showcases}</td>
                    <td>${c.tools}</td>
                </tr>`;
            });
            
            html += '</tbody></table>';
            return html;
        }

        function generateStaffReport() {
            if (systemData.staff.length === 0) {
                return '<p>Δεν υπάρχουν καταγραφές προσωπικού.</p>';
            }
            
            let html = '<table>';
            html += '<thead><tr><th>Ονοματεπώνυμο</th><th>Θέση</th><th>Πιστ. Υγείας</th><th>Πιστ. ΕΦΕΤ</th></tr></thead>';
            html += '<tbody>';
            
            systemData.staff.forEach(s => {
                html += `<tr>
                    <td>${s.name}</td>
                    <td>${s.role}</td>
                    <td>${s.healthCert ? new Date(s.healthCert).toLocaleDateString('el-GR') : '-'}</td>
                    <td>${s.efetCert ? new Date(s.efetCert).toLocaleDateString('el-GR') : '-'}</td>
                </tr>`;
            });
            
            html += '</tbody></table>';
            return html;
        }

        function generatePestReport() {
            if (systemData.pestControl.length === 0) {
                return '<p>Δεν υπάρχουν καταγραφές απεντόμωσης.</p>';
            }
            
            let html = '<table>';
            html += '<thead><tr><th>Ημερομηνία</th><th>Τύπος</th><th>Εταιρεία</th></tr></thead>';
            html += '<tbody>';
            
            systemData.pestControl.forEach(p => {
                const typeText = {
                    'insects': 'Απεντόμωση',
                    'rodents': 'Μυοκτονία',
                    'both': 'Γενική'
                }[p.type] || p.type;
                
                html += `<tr>
                    <td>${new Date(p.date).toLocaleDateString('el-GR')}</td>
                    <td>${typeText}</td>
                    <td>${p.company}</td>
                </tr>`;
            });
            
            html += '</tbody></table>';
            return html;
        }

        function printAll() {
            const types = ['temperatures', 'cleaning', 'staff', 'pest'];
            const printWindow = window.open('', '_blank');
            
            let html = `
                <!DOCTYPE html>
                <html>
                <head>
                    <meta charset="UTF-8">
                    <title>Hygiene Pro - Πλήρης Φάκελος</title>
                    <style>
                        body { font-family: Arial, sans-serif; margin: 20px; }
                        h1, h2 { color: #333; }
                        table { width: 100%; border-collapse: collapse; margin: 20px 0; }
                        th, td { border: 1px solid #ddd; padding: 10px; text-align: left; }
                        th { background: #f8f9fa; }
                        .page-break { page-break-before: always; }
                        .footer { margin-top: 30px; padding-top: 20px; border-top: 1px solid #ddd; text-align: center; font-size: 12px; color: #666; }
                        @media print { .no-print { display: none; } }
                    </style>
                
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#667eea">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="H-PRO">
    <link rel="apple-touch-icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAADACAIAAADdvvtQAAAABmJLR0QA/wD/AP+gvaeTAAAeHUlEQVR4nO2daVwT59rG75kkGBLCFgLIJogKKi4sogjuKGih7m2tVWmr9thqLdralmPPsa89LkeL1r622p+t1u2Ifa1WD7ihKG4gIFhUREB2SNi3sCXMvB8Gng6CgArMTJj/p/thmMyV4eKZZ70HgIeHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHpy8gkUgkEgnTKni4yaxZsy5dunTp0qWZM2cyrYW9CJgWwFImTZoUEhIiFAoFAsH48eMzMzOzs7OZFsVGeAO1g5ub2+bNm4VCIVXEMMzHx+fhw4eFhYXMCmMhvIGexcHBYefOnWKxmP5DgUDg4+Nz+/btiooKpoSxE95ArZDL5bt27TIxMaGKJSUltbW1VDtaT0/Py8srKiqqrq6OUY3sgjfQX4jF4m+//XbAgAFUUa1WBwcHR0ZG+vr66unpAYCBgcHo0aMjIyO1Wi2jSlkEb6BmcBz/5z//6erqShW1Wu3GjRsfPXpUXl7+6NGjadOmCQQCADAzMxs0aNDVq1dJkmRUL1vgDdTM6tWr/f39UXH37t1RUVFUrFQqS0tLvb29qaKNjY2JicmdO3cYUMk+eAMBACxYsCAoKAgVjxw5cuLECfovpKWlCYXCkSNHUkUnJ6eamppHjx71pkh2whsIxowZExISgmEYVYyKitq9e3fbX0tMTLS2tnZ0dKSKHh4eqampeXl5vSeUlfR1A9na2u7YsaNfv35UMTk5eePGjU1NTe3+ckxMzIgRI/r37w8AGIZ5eXnxHfs+bSADA4Ndu3YpFAqqWFBQsG7dug566QRB3LlzZ9KkSTKZDAD09PTc3d0vX77c2NjYS4rZR981EI7jX3/99fDhw6liXV3dp59+qlQqOz6roaEhPj5+xowZVMfeyMho8ODBV65c6bOdsr5roBUrVqBZUoIgvv766z///LMrJ1ZWVmZnZ0+ZMoVqNllbW4tEooSEhB7UymL6qIG8vb3Xrl2LGs4HDhwIDw/v+um5ubkEQbi5uVFFFxeXPjvb2hcNZGtru337duoZBABXr17du3fvi35IcnKyg4ODvb09AGAY5unpGR0dXVVV1a1KOUCfM5BYLA4NDTU3N6eKubm5ISEhGo3mJT4qNjbWx8fH2NgYAPT09Dw8PC5evPhyH8Vd+pyBPvvsMw8PDyquq6tbt25dSUnJy32UVqtNSEjw8/NDDer+/ftfv36927Rygb5loLlz5y5evJiKSZLcvHlzFxvOz6Oqqio/P3/y5MlUc8rBwaGiouLx48fdoJUj9CEDDRw4cNOmTWiZWFhY2KlTp179Y7OzsyUSiYuLC1V0d3ePiYkpKyt79U/mBH3FQPr6+qGhoaamplTx/v37W7du7a7Bm8TExNGjR1taWgKAQCBwdXW9cOFCH1ny0VcMtGHDBtTrrqqq2rBhQ3V1dXd9OEmS8fHxfn5+1DpGIyMjKyurPtIY6hMGmjlz5rJly6iYavqkpKR07yVqa2szMzN9fX1RY0ipVKanp3fvVViI7htowIAB33zzDWr6nDx58vfff++JC+Xn50ulUjQ34uHhER0dXVlZ2RPXYg840wJ6FqFQGBISglbIP378+MCBAz13uZ9++unhw4dULBaLv/rqK5FI1HOXYwM6XgO9//77U6ZMoeKampr169f3aJVAEAQ1MkStD5HL5RiGJSYm9twVGUeXayAXF5dFixah4q5du3phY5dKpfruu+9QcfHixaiHr5PobA0kFov//e9/GxkZUcUrV64cOnSody6dmZlpZ2fn4OAAABiGubq6nj9/XlenOHTWQMHBwWjKoqSkJCQkpKGhodeunpCQ4OvrK5VKAUAmkxkaGurqInzdfIR5enrOmjWLikmS3LFjRy/Pk9fU1Gzfvh0NVAYGBo4fP743BfQaOlgDGRoa7ty5E6VlOX36dA/12zumsLDQyMho6NChVJF6kPVmLdg76GAN9OGHH6Ipi5ycnP379zOlZN++fVlZWVRsamq6atUqppT0HLpmIA8PDz8/PyomCGLr1q0M/tM3NjZu376dIAiq6O/v7+7uzpSYHkKnDCQWi9etW4cWqv7222/dPmXxoqSkpPz2229UjGHYZ599pq+vz6yk7kWnDLR8+XIrKysqViqVBw8eZFYPxcGDB/Pz86nY0tLy3XffZVZP96I7Bho6dOi8efOomCTJnTt31tfXMyuJor6+fseOHahHtmDBAjRfpgPoiIFEItGGDRtwvPnrRERExMfHMyuJTlJS0vnz56kYx/H169frzByZjhho4cKF1MgvAJSVle3bt49ZPW3Zu3cvWnw9cODA+fPnM6unu9AFA5mamqKVzgCwe/fublws1l2o1eo9e/ag4tKlS83MzBjU013ogoFWrVpFTRoAQFxcXHR0NLN6nkd0dHRMTAwVSySSlStXMqunW+C8gVxcXHx9falYo9HQ/8tZyPfff49mVadPnz5q1Chm9bw63DYQjuNr1qyhD/zk5uYyK6lj8vPz6cNCq1evRg1/jsJt9YGBgU5OTlRcVlZ27NgxZvV0hSNHjqDW9ODBgwMCApjV84pw2EAymey9995DxR9++EGtVjOop4vU1dXRp+eWL19uaGjIoJ5XhMMGWrZsGVovlpycfOXKFWb1dJ3IyMjk5GQqNjQ0XLp0KbN6XgWuGsjCwmL27NlUTBDEd999x6EUTyRJ7tmzB02yzp49m0qbx0W4aqCgoCA0mHv+/HnO7cBKS0u7ePEiFYtEIu5WQpw0kK2t7YwZM6i4sbHx8OHDzOp5OQ4dOoS69H5+fihDPrfgpIFWrlxJ5Y0HgD/++EOlUjGr5+VQqVRnz56lYhzH6R0CDsE9Azk5Ofn4+FBxXV3d8ePHmdXzKhw5cqS2tpaKJ06ciNa/cgjuGeiDDz5AI4dhYWHl5eXM6nkVKioqUIoZDMO4WAlxzEBubm4oyUZlZSUa1eUuJ06cQDtGxowZM3r0aGb1vCgcM9A777yD4mPHjnFi5LBj1Go1/SlM/4KcgEsGGjJkCKp+SktLz5w5w6ye7uL06dMoo5mHh8egQYOY1fNCcMlAb731FopPnTqlMy8YaGhooO9co39N9sMZA1laWk6aNImKa2trUQdYN/jjjz9Qd2zKlCkWFhbM6uk6nDHQwoUL0djPf//735qaGmb1dC/V1dURERFULBAIFi5cyKyersMNA8lkMrTXXavVdkt2VbYRFhaG8nIGBARwZYqeGwaaM2cO2o8XFRXF0aHnjikuLr527RoVi8Xi119/nVE5XYUDBhKJRHPnzkXFsLAwBsX0KPT3bM6bN48TW384YKAJEyagZAlxcXGcm3jvOunp6Wg7m6mp6YQJE5jV0xU4YCB6Zc5IopbehP4FObHale0GsrKyQlsXiouLY2NjmdXT08TExKAWnqurq42NDbN6OoXtBpo9ezaaOg0PD0er+HQVgiDQJmgMw1Dfk7Ww2kA4jk+bNo2KCYJ4oZcKcpeIiAj0fzJ9+nSW7/thtThXV1e0/zc+Pr64uJhZPb1DUVHRvXv3qFihULB88yGrDTR9+nQUX758mUElvUxkZCSK0b5bdsJeA+np6aF+bH19/c2bN5nV05tER0ej5EaTJ09m84AQew3k5uaGUibcvHmzrq6OWT29SW1t7e3bt6lYKpWiRSwshL0Gog+j9ZF3b9Ghf2W0BpyFsNRAOI57eXlRcUNDQ1xcHLN6ep+7d++iBU8+Pj6s7YuxVNawYcPQ9EV8fDxLsh32JnV1dagvZmJiwtoNGyw10JgxY1B869YtBpUwCL3fQL8hrIKlBqIn5O6Dzy8K+hdnbTuajQaSSCTOzs5UnJOT00fGD9uiUqny8vKoePjw4ahPyirYaKBRo0ahV5wmJCQwK4ZZ0OoOgUAwYsQIZsW0CxsNRM/Drdvvi+wU1I6G1reFPbDRQMOGDUPxo0ePGFTCOOgVvtD6trAHIdMCngXHcZT2UKVSlZF2c5cFGGEAAE25N8KuZLTdDIabuc9+bUTz72RfOx6V1dTpVeRuswNGGmHtHCKbGutqypRZqckPM8sbu3pW84lVpQVZjx88yq7o/P2WIkPbIcMG21spjKR6gqaGmvKivKwnKU8KaujiS0tLi4uLFQoFADg7O+M4zrYFLawzkJ2dHWotpqSkYHK32UvfsRcAADTeLjzdnoEwhce8pYtsqd+5nn2yCwaif+xzIJuqsm7+374f/hOr0nT9LAAgtVVPo8N+/DEsvljb3nGBicusxUsW+HnYyQTPeJHUVD6NDQ/79URkWlWLT1JSUigDSaVSGxubnJyczr5cr8K6R5i9vT2Knzx5wpwQTGDoMOndrXs3Bdi+2FQmJjR0nLp8+w//nGnd5t8TN3F/P/SXPesWjB3Qxj0AgImMHH3e/vKHA1veGi5rPpyamoqO028OS2BdDURP1JWVlQXQ4w9+QnU/Mj6vpZYR6BnI7YaOGKwQ4xgAhpuN/2j964nrTuUTHZ0FAAI9mZn9sBGDzPphAIAJFD6rP5l57/NzKnQiJh25fPu/Fg0RtziHJGqLMp5kFVVrRYaWA50c5GIcAwBMZD5u5fZv8OANx9MaAL3zEFrfHJbAOgPZ2dmhODs7G6Q9biBtRsSeHRdbbXQVyD1Xbf+f+YPEGACm7zLL1/70r0+Jzs4CAJG595p/bwq0F2EAmGS03yTL8JMFzSfqj3pvw5uDm91DNubd+Dl07+l7qpZHMqZvO37R2uDF7mYCDAA3GPnuF+/cW/XzY/ozi35zWALrHmG2trZUoNFoCgsLmRHRVHr3l0M3qpv/8gLbIYMkXTtRU3T7wLG79VS+WExo7zigpcGEW8xY+po19dgiCVXkvz7ZFPaXewCArMu99cuX676Pq6Qui4kGzls61RQrKChAqRRZWAOxzkAor4BSqWSyx9GgUpY15w3GMH198XO6Xm0ga4uLqlsSDgv1RM3n4QqfqSP6UQWi+taBH6JL2vtumpyze449amg2oMR9mrecaGpSKpXUYao1zSrYZSCRSIT2hKP3ATCDnoWlafMfn9RUVtR0NQk1Zmxr09LRJ8uKy5ptIh42YrCw+emljrt8q/x5n0fkX730QNPsIL2hI537AaDsQcbGxmiMniWwS42pqSnaxNPWQMJRy/ceWtTOndczsezefwRM5rL4nQky6kNJTVry4y6mItKz8V212E2vuaYpS4hLp3ryuMLaqvmnoM1OTe9gdQpZ/iRVRbjbCgAAE1vbmOFQWlrarAvDTE1Ni4qKXuZL9QysMxCK0b8dApcqBki7vw4X2Pq8HdQftWWFEjOH0V6eg02bnz5ExY3frxa1ed4IHWd9/NlIWi8ME0oVjiNGOcr1WiqapOMn79W3SDeQtHicrCyv7OjRTFaUVRBADWthUpkU+8tAAMAbqCPoE86vmgFI6BL07brJRq2qJqL08vYNx1JbjzMKbCe8HfScXeikJu/Ctz/cqGhb7eEWo2a89twNN0TNk9+/+deZ3JYrkSTtTQwY3nGDCqcdJ5qaAOgvYJRIutie7yXYZSA9PT0UNzQ0PHP0uVMZCo85M10Mn3mKYfpmdvb2Jq0NpC/vemuYUOfcPLZ794nEshdpypNNqvjfjhw9dfF+Ma16IqsrUSsKN5Wb4lDz3A/FjU2NW/puRFVlNdnqVtBvERtgl4H69euH4rYpEJtybx4/1GboBUAwtN8Uf5eXzsdEqO5djKUNCRKauurS/PQH8fEPCtTP/TO3drPAymvedCcpBoDhBoKipOTi1pNhREluXh05VIYBgGDAcCcDLKfqOc1o3GTIEItmlxPVOdllRKtbQb9FbIBdBqJvgHrVHJpN+bdPHC7Rb/UzUp2ibGMJbcbFvaHt+LKTj2/tZuH1OpsfVwwTY4BJR7+7NiDm87MF9Cs1pCSlNPh6ijEATOw2c5rFldNtlQAA4FZTfV1a+mu1SQkpmtaVMW+gjkAjZtDaTC8DUXA77NDtV1XUVbSZp/b8Nu37dxxFGOAy9+Vr/GP/HvHXLAaQ5bcu3/2bx0QZDoDpj166NiD+H2dz28zZi2wDVi8a1tKLK7l+IVYNnVXMzMKucSCUqRTY11rsjIbH//n+j7wmEgAANxy7YvU0M/rNJSuuHT2V3kg9t3CTcR+Hbgnysqa1yDCxtVfQltCPxxo3jx6oE48fi68DAEDp/QCAbbnV2VUD0e8O1wwEUHv/8N6LE7bMssABcBPvv304OWHz1TLU1NE8Ob7951G7PnA1xAEwoWJM0JYjbxZnpD5VVWlFRpYDnQaaiVv6XyRRcuO7nS1PQfqtoP+PsQF21UD0/cvcMxCQVbEH9l9v7rTh8smrVk0woXf6GjNOfvX5/pgiTcscCa5vPnj0OJ+JPmNHDVL85Z66rIvbg7+5VNgyCEAf3eAN1BH0GogreW5bQZZd2/fz3ebFYLhi2kcrxhnSLUTWpISFLP9w6/FbTyu1bbphJFGv+vP8/i/e/2DbxVxaU0cmk6GYbQZi1yOspKREq9VS0z1Udjey9N4fh7UtS1rT221AksXxvx9uaFnSmtnuMsBnT+nCx77cWYTq/HdbpCnOEso3TcY2UuxRq5k0oirt0k9/v/SLoY3TsCH21ubGEhGmra8uU+akp6Q8Lalv271Hqzg0Gg3DU4Rt6OqwWq9x+PBh6n6p1eqAgAAOvUq3h8AwLCIigmpHZ2VlBQUFMa2oFex6hAEAWj8llUrlcjmzYtiAQqFAvTC2LYgGFhooOzsbxSxcP9X70G8C/eawBHa1gaD1PRo2bFinO1NFcisTdWFRPYkZWvWHkgZD0/p8pZoEoamNojG/sIbExGYD7EzIsryckjrc2EqhKSwV2w+2lGAAQKoLn2RVG9lbaHPyKglMamkhUJWKWh0ta25S4RLzAbbGZGlOdkm9UG4jb30V7K+jDf3MBzoqxAAAQFQUFutZWtCv5WBF5maXaQFEcnsrIje7vLMdJGiXN/A1UFf4888/UdyFjAKY3GvOZGscAITOc+YMA4HznIWuBpjAxn/RRBMtKbDx+/CDGYPNLZz9ly/zMpWMet3fQSgfP8/PUSaVSqXSfkIMk49/e8O7k80wEDj4+Q8VtT7afBWpx9IPZgwwMnWe+8FcR4G29VWg9VFcJJEYDgucP1YulYjN2lxr3XxXfQBM6vHWpwvdDDpvg3p4eKD4wYMHL35HexbW1UBKpbKgoMDKygoAXFxc+vXr13ZavjWYQCgSiXCREMcIsijqXPGKgPHmhqZ3jofXC5ynDsk49r+XS3FhbCxGEP2oTF9kfeHjhISnBEkSBAGWRN7tTPtZHob/qWvnaPM1hEKyrlKZcisuRkMCQKurgPSZo8lxKnL4KPm9uAS1Rf/6wlT6tQqfipxGGcQ/HDkQf9ruqtZWiMVitCE1Pz+fsUXiz4d1NRDQEiqIRKLOMwpghkOnv/Hmm28u8LYTAkBT/qUr+EyXJ2cTa0jAJeKm6moSMxv92psr//7x9OZhPUxGnfLGrFFyDACgMva8cvQsZ2pioc1RALIm5vDRB+LhM5et+dtrjnrPXKXN0Vbynvk07dOk+kGu1q4D1PdzO18mMnLkSDQnyM48E6yrgQAgISEhMDCQij09PVGGivYhKx+cP3Yyo0nk+eEKHABAW6TMU6mqSQDQZqbBW2PlMdEJZ8+QinfkzX8xsurhxRMnM6jWB2YJAIQyKrJh5ZuOdVHPHKXArcb5mDyMOp9698mbH7oo8Ix8gnaVdo7S5D17LW1monr2kiH5x6+KJnXaR/D09KTfls5+nQHYaKB79+41NTVR7yecNm3a/v37m5qe29RsLM0vriMBgKjOz8cIAABtRYGKGq4ly64fvz7z9aD39QRkaeKZ8DILfaWabCyrtZq+7L1JAETVg4jf00tVZY2gKboQlT5weDXRKKAfPXW3iAQgirLU3gvf8ySBKL56puCZq7RzlFQrCwRNJEA716rLyk/PHPQgXz1EVdHhoKdAIJg6dSoVa7VadiYqYd1AIsW2bdvGjRtHxV988UVMTAyzehhh3Lhx27Zto+Lbt2+HhIQwq6dd2NgGAoALFy6g2M/Pj0ElDOLv749i+g1hFSw10K1bt6qqqqjY29ubkxOrr4ahoeH48eOpuKqq6s6dO8zqeR4sNZBGo4mKiqJiPT29efPmMaun95k3bx5aP3/16lX6Wk1WwVIDAcDZs2fRTOr8+fPZmWKyh5BKpfPnz6dikiTPnTvHrJ4OYK+BMjIy0PsiZDLZ7NmzmdXTm8ydOxetAbp161ZGRgazejqAvQYCgCNHjqD4jTfeEIvFDIrpNfT19RcsWICKR48eZVBMp7DaQI8fP0bJto2NjZcsWcKsnt5hyZIlxsbGVHz37t3Hjx8zq6djWG0gAPj1119RS+iNN95gYYal7mXAgAELFy6kYpIkf/31V2b1dArbDfTgwQP0+j6RSPTJJ58wq6enWbt2LZr8unz5Mj3NLzthu4EA4Mcff0SL7d3c3NBreHUPX19ftIJFrVbv27ePWT1dgQMGKisrO3jwICoGBwdbWloyqKeHMDc3//jjj1Hx559/bpvghoVwwEAAcPr06bS0NCo2MDD46quv2Jao6xURCoWbNm1CA+5paWlnzpxhVlIX6SRpNksgSTI5Odnf35/yjbm5uVAoZOfyhpdjxYoVaOK9vr5+w4YNFRUVzErqItwwEABUVFSUlZV5e3tTxeHDh6enp+fm5jKrqlvw8fFZs2YNyu0XGhrayRIoNsEZAwFAWlqatbW1o6MjAGAY5uPjk5SUxKp8by+Bs7Pzli1bUM8rKirqwIEDzEp6IbhkIAC4d+/exIkTjYyMAEAoFHp7e9+8eRPN23MOW1vbXbt2GRgYUMXc3Nwvv/yStfOm7cIxA2k0mtjY2KlTp1J77cRi8bhx465du8bFt8rL5fLQ0FCU+rm8vDw4OJgTPS86HDMQAFRXVyclJfn6+lLVvkwmmzhx4p07d+iZKNmPhYXFrl27rK2tqWJ9ff3nn3/+9OlTZlW9BNwzEACUlpZmZGRMmTKFepu6TCabPHlyXFwcV3outra2u3fv7t+/P1UkCGLTpk30lxNyCE4aCADy8vKUSqW3tzfVeZFIJJMmTUpMTKSnVGYnQ4YMCQ0NNTMzo4oEQWzbtu3atWuMinp5uGogAMjIyEhLS5swYQK1f0NfX9/Pz6+0tBQNObKQ6dOnb968Ga310Wg0mzdvvnr1KrOqXgUOGwgAcnNzHzx4MHHiRKo9JBAIvL295XJ5fHw8214NKRAIVqxY8dFHH6Ex9Pr6+o0bN6JFcxyF2wYCAKVSef/+fW9vb7TczMnJyc3NLSkpiT3Namtr6y1bttCngSsrK7/44oukpCQGVXULnDcQABQVFV25cmXEiBGoS2xubh4QEEAQxMOHD5lNUYXjeEBAwObNm6nd/hRpaWnr16/nYp+rLbpgIACora29fPmyXC4fPHgw9ROhUOju7j527NiUlJTy8nJGVDk6Om7dujUwMJCe8zo8PPwf//hHZWUlI5K6HZbuTH1pXnvttY8++oie4ZUgiMjIyEOHDhUUFPSaDCsrq6CgIF9fX2qggaK2tnbv3r3h4eG9JqMX0DUDAYCFhcX69evpaQkAQKvVRkREHD16tKfnzhQKxZIlS2bNmvXMgpPY2NjQ0FCVStWjV+99dNBAFJMnTw4ODqZmzRAEQSQmJp47d+7GjRsdJGx4CXAcd3V1DQwM9PHxecY61dXVP/30E5v3dr0KOmsgADAyMnr77bfnzJnT9gUlKpXqwoULMTExqampr9Lhx3HcycnJy8vLz88Pve0V0dDQcObMmePHj+tMi6ctumwgCjMzM+qZ0u7bWyoqKuLi4uLj49PT03NycroyEy4Siezs7AYNGuTh4eHp6flMJUeh0WjCw8OPHj3KtrTO3Y7uG4iif//+c+bM8ff3b/fvTdHU1JSXl5eZmVleXl5bW6tWq6mRJJlMJpVKJRKJiYmJg4ODjY0NNfbdLhUVFRcvXjx9+jR61bJu01cMRCESiby9vQMDA93c3NAKwO7iyZMn586du3TpUmdJHXWKvmUghEKhGDt27NixY93d3V/lrS5qtTohISE2Nvbu3bvFxcXdqJAr9FEDIYRC4fDhw52dne3t7R0cHOzt7TvegV9fX5+VlfX06dOsrKzU1NSHDx9qtV15OYfO0tcN9Aw4jpuZmUlpAICaRnFxMf/6Dh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4edvP/scoK7X3HzokAAAAASUVORK5CYII=">
    
    <!-- Inline Manifest -->
    <link rel="manifest" href="data:application/json;base64,eyJuYW1lIjoiSHlnaWVuZSBQcm8gLSBTw7pzz4TPvM6xIM6Uz4XPg8+Ez4zPsc+CIiwic2hvcnRfbmFtZSI6IkgtUFJPIiwiZGVzY3JpcHRpb24iOiLOo8+Nz4PPhM63zrzOsSDOlM67z4zOs8+Hzr/PhSDOmc+Gzrnzrs63z4IiLCJzdGFydF91cmwiOiIuLyIsImRpc3BsYXkiOiJzdGFuZGFsb25lIiwiYmFja2dyb3VuZF9jb2xvciI6IiM2NjdlZWEiLCJ0aGVtZV9jb2xvciI6IiM2NjdlZWEiLCJpY29ucyI6W3sic3JjIjoiZGF0YTppbWFnZS9wbmc7YmFzZTY0LCcgKyBpY29uMTkyX2Jhc2U2NCArICciLCJzaXplcyI6IjE5MngxOTIiLCJ0eXBlIjoiaW1hZ2UvcG5nIiwicHVycG9zZSI6ImFueSBtYXNrYWJsZSJ9LHsic3JjIjoiZGF0YTppbWFnZS9wbmc7YmFzZTY0LCcgKyBpY29uNTEyX2Jhc2U2NCArICciLCJzaXplcyI6IjUxMng1MTIiLCJ0eXBlIjoiaW1hZ2UvcG5nIiwicHVycG9zZSI6ImFueSBtYXNrYWJsZSJ9XX0=">
</head>
                <body>
                    <h1>Hygiene Pro - Πλήρης Φάκελος HACCP</h1>
                    <p>Ημερομηνία: ${new Date().toLocaleDateString('el-GR')}</p>
                    <p>Επιχείρηση: ${systemData.businessInfo.name || 'Μη καθορισμένη'}</p>
            `;
            
            types.forEach((type, index) => {
                if (index > 0) html += '<div class="page-break"></div>';
                html += `<h2>${getReportTitle(type)}</h2>`;
                
                switch(type) {
                    case 'temperatures':
                        html += generateTempReport();
                        break;
                    case 'cleaning':
                        html += generateCleanReport();
                        break;
                    case 'staff':
                        html += generateStaffReport();
                        break;
                    case 'pest':
                        html += generatePestReport();
                        break;
                }
            });
            
            html += `
                    <div class="footer">
                        © 2025 Hygiene Pro - ${systemData.license ? systemData.license.businessName : 'Δοκιμαστική Έκδοση'}<br>
                        ${systemData.license ? 'Τηλ: ' + systemData.license.phone : ''}<br>
                        Απαγορεύεται η αντιγραφή και αναδιανομή
                    </div>
                    <div class="no-print" style="margin-top: 30px; text-align: center;">
                        <button onclick="window.print()" style="padding: 10px 20px; background: #667eea; color: white; border: none; cursor: pointer; border-radius: 5px;">Εκτύπωση όλων</button>
                    </div>
                </body>
                </html>
            `;
            
            printWindow.document.write(html);
            printWindow.document.close();
        }

        function formatDate(date) {
            const year = date.getFullYear();
            const month = String(date.getMonth() + 1).padStart(2, '0');
            const day = String(date.getDate()).padStart(2, '0');
            return `${year}-${month}-${day}`;
        }

        function cleanupOldRecords() {
            if (!systemData.businessInfo.monthsToKeep) {
                systemData.businessInfo.monthsToKeep = 6;
            }
            
            const monthsToKeep = systemData.businessInfo.monthsToKeep;
            const cutoffDate = new Date();
            cutoffDate.setMonth(cutoffDate.getMonth() - monthsToKeep);
            const cutoffStr = formatDate(cutoffDate);
            
            const beforeCount = systemData.temperatures.length + systemData.cleaning.length;
            
            systemData.temperatures = systemData.temperatures.filter(t => {
                const dateStr = t.date;
                return dateStr >= cutoffStr;
            });
            
            systemData.cleaning = systemData.cleaning.filter(c => {
                const dateStr = c.date;
                return dateStr >= cutoffStr;
            });
            
            const afterCount = systemData.temperatures.length + systemData.cleaning.length;
            const deleted = beforeCount - afterCount;
            
            if (deleted > 0) {
                console.log(`Auto-cleanup: Διαγράφηκαν ${deleted} παλιές καταγραφές (>${monthsToKeep} μήνες)`);
            }
            
            saveData();
        }

        function saveData() {
            try {
                localStorage.setItem('hygienePro', JSON.stringify(systemData));
            } catch (e) {
                console.error('Error saving data:', e);
            }
        }

        function loadData() {
            try {
                const saved = localStorage.getItem('hygienePro');
                if (saved) {
                    systemData = JSON.parse(saved);
                }
            } catch (e) {
                console.error('Error loading data:', e);
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            initSystem();
            
            setTimeout(function() {
                document.getElementById('btnFilterTemp')?.addEventListener('click', filterTemperatures);
                document.getElementById('btnShowAllTemp')?.addEventListener('click', showAllTemperatures);
                document.getElementById('btnPrintFilteredTemp')?.addEventListener('click', printFilteredTemperatures);
                document.getElementById('btnFilterClean')?.addEventListener('click', filterCleaning);
                document.getElementById('btnShowAllClean')?.addEventListener('click', showAllCleaning);
                document.getElementById('btnPrintFilteredClean')?.addEventListener('click', printFilteredCleaning);
            }, 1000);
        });

        window.addEventListener('beforeunload', saveData);
</script>
</body>
</html>